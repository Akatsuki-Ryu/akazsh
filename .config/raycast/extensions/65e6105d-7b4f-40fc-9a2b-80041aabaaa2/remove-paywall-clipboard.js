"use strict";var x=Object.create;var u=Object.defineProperty;var v=Object.getOwnPropertyDescriptor;var S=Object.getOwnPropertyNames;var E=Object.getPrototypeOf,R=Object.prototype.hasOwnProperty;var A=(e,t)=>{for(var a in t)u(e,a,{get:t[a],enumerable:!0})},m=(e,t,a,l)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of S(t))!R.call(e,i)&&i!==a&&u(e,i,{get:()=>t[i],enumerable:!(l=v(t,i))||l.enumerable});return e};var d=(e,t,a)=>(a=e!=null?x(E(e)):{},m(t||!e||!e.__esModule?u(a,"default",{value:e,enumerable:!0}):a,e)),U=e=>m(u({},"__esModule",{value:!0}),e);var P={};A(P,{default:()=>k});module.exports=U(P);var n=require("@raycast/api");var g="https://12ft.io";var o=d(require("react")),r=require("@raycast/api");var c=d(require("node:fs")),f=d(require("node:path"));var $=require("react/jsx-runtime");function h(e,t){let a=e instanceof Error?e.message:String(e);return(0,r.showToast)({style:r.Toast.Style.Failure,title:t?.title??"Something went wrong",message:t?.message??a,primaryAction:t?.primaryAction??b(e),secondaryAction:t?.primaryAction?b(e):void 0})}var b=e=>{let t=!0,a="[Extension Name]...",l="";try{let s=JSON.parse((0,c.readFileSync)((0,f.join)(r.environment.assetsPath,"..","package.json"),"utf8"));a=`[${s.title}]...`,l=`https://raycast.com/${s.owner||s.author}/${s.name}`,(!s.owner||s.access==="public")&&(t=!1)}catch{}let i=r.environment.isDevelopment||t,p=e instanceof Error?e?.stack||e?.message||"":String(e);return{title:i?"Copy Logs":"Report Error",onAction(s){s.hide(),i?r.Clipboard.copy(p):(0,r.open)(`https://github.com/raycast/extensions/issues/new?&labels=extension%2Cbug&template=extension_bug_report.yml&title=${encodeURIComponent(a)}&extension-url=${encodeURI(l)}&description=${encodeURIComponent(`#### Error:
\`\`\`
${p}
\`\`\`
`)}`)}}};var y=require("@raycast/api");function w(e,t){if(e.includes("medium.com"))return`https://freedium-mirror.cfd/${e}`;if(!t?.startsWith("https://"))throw new Error("Preferred service must start with https://");return`${t}/${e}`}async function k(){try{await(0,n.showHUD)("Processing clipboard...");let e=(0,n.getPreferenceValues)(),t=await n.Clipboard.readText();if(!t){await(0,n.showToast)({style:n.Toast.Style.Failure,title:"Clipboard Empty",message:"Your clipboard is empty."});return}if(t.startsWith("http://")||t.startsWith("https://")){let a=w(t,e.service||g);await(0,n.closeMainWindow)(),await n.Clipboard.copy(a),await(0,n.showHUD)("URL copied to clipboard!")}else await(0,n.showToast)({style:n.Toast.Style.Failure,title:"Invalid URL",message:"Clipboard content does not look like a valid URL."})}catch(e){await h(e,{title:"Error Processing Clipboard"})}}
