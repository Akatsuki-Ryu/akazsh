{
  "version": 3,
  "sources": ["../node_modules/isexe/windows.js", "../node_modules/isexe/mode.js", "../node_modules/isexe/index.js", "../node_modules/cross-spawn/node_modules/which/which.js", "../node_modules/path-key/index.js", "../node_modules/cross-spawn/lib/util/resolveCommand.js", "../node_modules/cross-spawn/lib/util/escape.js", "../node_modules/shebang-regex/index.js", "../node_modules/shebang-command/index.js", "../node_modules/cross-spawn/lib/util/readShebang.js", "../node_modules/cross-spawn/lib/parse.js", "../node_modules/cross-spawn/lib/enoent.js", "../node_modules/cross-spawn/index.js", "../node_modules/validator/lib/util/assertString.js", "../node_modules/validator/lib/toDate.js", "../node_modules/validator/lib/util/nullUndefinedCheck.js", "../node_modules/validator/lib/alpha.js", "../node_modules/validator/lib/isFloat.js", "../node_modules/validator/lib/toFloat.js", "../node_modules/validator/lib/toInt.js", "../node_modules/validator/lib/toBoolean.js", "../node_modules/validator/lib/equals.js", "../node_modules/validator/lib/util/toString.js", "../node_modules/validator/lib/util/merge.js", "../node_modules/validator/lib/contains.js", "../node_modules/validator/lib/matches.js", "../node_modules/validator/lib/util/checkHost.js", "../node_modules/validator/lib/isByteLength.js", "../node_modules/validator/lib/isFQDN.js", "../node_modules/validator/lib/isIP.js", "../node_modules/validator/lib/isEmail.js", "../node_modules/validator/lib/util/includesString.js", "../node_modules/validator/lib/isURL.js", "../node_modules/validator/lib/isMACAddress.js", "../node_modules/validator/lib/isIPRange.js", "../node_modules/validator/lib/isDate.js", "../node_modules/validator/lib/isTime.js", "../node_modules/validator/lib/util/includesArray.js", "../node_modules/validator/lib/isBoolean.js", "../node_modules/validator/lib/isLocale.js", "../node_modules/validator/lib/isAbaRouting.js", "../node_modules/validator/lib/isAlpha.js", "../node_modules/validator/lib/isAlphanumeric.js", "../node_modules/validator/lib/isNumeric.js", "../node_modules/validator/lib/isPassportNumber.js", "../node_modules/validator/lib/isInt.js", "../node_modules/validator/lib/isPort.js", "../node_modules/validator/lib/isLowercase.js", "../node_modules/validator/lib/isUppercase.js", "../node_modules/validator/lib/isIMEI.js", "../node_modules/validator/lib/isAscii.js", "../node_modules/validator/lib/isFullWidth.js", "../node_modules/validator/lib/isHalfWidth.js", "../node_modules/validator/lib/isVariableWidth.js", "../node_modules/validator/lib/isMultibyte.js", "../node_modules/validator/lib/util/multilineRegex.js", "../node_modules/validator/lib/isSemVer.js", "../node_modules/validator/lib/isSurrogatePair.js", "../node_modules/validator/lib/isDecimal.js", "../node_modules/validator/lib/isHexadecimal.js", "../node_modules/validator/lib/isOctal.js", "../node_modules/validator/lib/isDivisibleBy.js", "../node_modules/validator/lib/isHexColor.js", "../node_modules/validator/lib/isRgbColor.js", "../node_modules/validator/lib/isHSL.js", "../node_modules/validator/lib/isISRC.js", "../node_modules/validator/lib/isIBAN.js", "../node_modules/validator/lib/isISO31661Alpha2.js", "../node_modules/validator/lib/isBIC.js", "../node_modules/validator/lib/isMD5.js", "../node_modules/validator/lib/isHash.js", "../node_modules/validator/lib/isBase64.js", "../node_modules/validator/lib/isJWT.js", "../node_modules/validator/lib/isJSON.js", "../node_modules/validator/lib/isEmpty.js", "../node_modules/validator/lib/isLength.js", "../node_modules/validator/lib/isULID.js", "../node_modules/validator/lib/isUUID.js", "../node_modules/validator/lib/isMongoId.js", "../node_modules/validator/lib/isAfter.js", "../node_modules/validator/lib/isBefore.js", "../node_modules/validator/lib/isIn.js", "../node_modules/validator/lib/isLuhnNumber.js", "../node_modules/validator/lib/isCreditCard.js", "../node_modules/validator/lib/isIdentityCard.js", "../node_modules/validator/lib/isEAN.js", "../node_modules/validator/lib/isISIN.js", "../node_modules/validator/lib/isISBN.js", "../node_modules/validator/lib/isISSN.js", "../node_modules/validator/lib/util/algorithms.js", "../node_modules/validator/lib/isTaxID.js", "../node_modules/validator/lib/isMobilePhone.js", "../node_modules/validator/lib/isEthereumAddress.js", "../node_modules/validator/lib/isCurrency.js", "../node_modules/validator/lib/isBtcAddress.js", "../node_modules/validator/lib/isISO6346.js", "../node_modules/validator/lib/isISO6391.js", "../node_modules/validator/lib/isISO8601.js", "../node_modules/validator/lib/isRFC3339.js", "../node_modules/validator/lib/isISO15924.js", "../node_modules/validator/lib/isISO31661Alpha3.js", "../node_modules/validator/lib/isISO31661Numeric.js", "../node_modules/validator/lib/isISO4217.js", "../node_modules/validator/lib/isBase32.js", "../node_modules/validator/lib/isBase58.js", "../node_modules/validator/lib/isDataURI.js", "../node_modules/validator/lib/isMagnetURI.js", "../node_modules/validator/lib/rtrim.js", "../node_modules/validator/lib/ltrim.js", "../node_modules/validator/lib/trim.js", "../node_modules/validator/lib/isMailtoURI.js", "../node_modules/validator/lib/isMimeType.js", "../node_modules/validator/lib/isLatLong.js", "../node_modules/validator/lib/isPostalCode.js", "../node_modules/validator/lib/escape.js", "../node_modules/validator/lib/unescape.js", "../node_modules/validator/lib/blacklist.js", "../node_modules/validator/lib/stripLow.js", "../node_modules/validator/lib/whitelist.js", "../node_modules/validator/lib/isWhitelisted.js", "../node_modules/validator/lib/normalizeEmail.js", "../node_modules/validator/lib/isSlug.js", "../node_modules/validator/lib/isLicensePlate.js", "../node_modules/validator/lib/isStrongPassword.js", "../node_modules/validator/lib/isVAT.js", "../node_modules/validator/index.js", "../src/index.tsx", "../node_modules/dequal/lite/index.mjs", "../node_modules/@raycast/utils/dist/src/index.ts", "../node_modules/@raycast/utils/dist/src/usePromise.ts", "../node_modules/@raycast/utils/dist/src/useDeepMemo.ts", "../node_modules/@raycast/utils/dist/src/useLatest.ts", "../node_modules/@raycast/utils/dist/src/showFailureToast.ts", "../node_modules/@raycast/utils/dist/src/useCachedState.ts", "../node_modules/@raycast/utils/dist/src/helpers.ts", "../node_modules/@raycast/utils/dist/src/vendors/type-hasher.ts", "../node_modules/@raycast/utils/dist/src/useCachedPromise.ts", "../node_modules/@raycast/utils/dist/src/useFetch.ts", "../node_modules/@raycast/utils/dist/src/fetch-utils.ts", "../node_modules/@raycast/utils/dist/src/useExec.ts", "../node_modules/@raycast/utils/dist/src/exec-utils.ts", "../node_modules/@raycast/utils/dist/src/vendors/signal-exit.ts", "../node_modules/@raycast/utils/dist/src/useStreamJSON.ts", "../node_modules/@raycast/utils/dist/src/vendors/stream-chain.ts", "../node_modules/@raycast/utils/dist/src/vendors/stream-json.ts", "../node_modules/@raycast/utils/dist/src/useSQL.tsx", "../node_modules/@raycast/utils/dist/src/sql-utils.ts", "../node_modules/@raycast/utils/dist/src/useForm.tsx", "../node_modules/@raycast/utils/dist/src/useAI.ts", "../node_modules/@raycast/utils/dist/src/useFrecencySorting.ts", "../node_modules/@raycast/utils/dist/src/useLocalStorage.ts", "../node_modules/@raycast/utils/dist/src/icon/index.ts", "../node_modules/@raycast/utils/dist/src/icon/avatar.ts", "../node_modules/@raycast/utils/dist/src/icon/color.ts", "../node_modules/@raycast/utils/dist/src/icon/favicon.ts", "../node_modules/@raycast/utils/dist/src/icon/progress.ts", "../node_modules/@raycast/utils/dist/src/oauth/index.ts", "../node_modules/@raycast/utils/dist/src/oauth/OAuthService.ts", "../node_modules/@raycast/utils/dist/src/oauth/providers.ts", "../node_modules/@raycast/utils/dist/src/oauth/withAccessToken.tsx", "../node_modules/@raycast/utils/dist/src/createDeeplink.ts", "../node_modules/@raycast/utils/dist/src/executeSQL.ts", "../node_modules/@raycast/utils/dist/src/run-applescript.ts", "../node_modules/@raycast/utils/dist/src/run-powershell-script.ts", "../node_modules/@raycast/utils/dist/src/cache.ts", "../node_modules/is-plain-obj/index.js", "../node_modules/execa/lib/arguments/file-url.js", "../node_modules/execa/lib/methods/parameters.js", "../node_modules/execa/lib/methods/template.js", "../node_modules/execa/lib/utils/uint-array.js", "../node_modules/execa/lib/methods/main-sync.js", "../node_modules/execa/lib/arguments/specific.js", "../node_modules/execa/lib/utils/standard-stream.js", "../node_modules/execa/lib/verbose/values.js", "../node_modules/execa/lib/verbose/log.js", "../node_modules/execa/lib/arguments/escape.js", "../node_modules/is-unicode-supported/index.js", "../node_modules/figures/index.js", "../node_modules/yoctocolors/base.js", "../node_modules/execa/lib/verbose/default.js", "../node_modules/execa/lib/verbose/custom.js", "../node_modules/execa/lib/verbose/start.js", "../node_modules/execa/lib/verbose/info.js", "../node_modules/execa/lib/return/duration.js", "../node_modules/execa/lib/arguments/command.js", "../node_modules/execa/lib/arguments/options.js", "../node_modules/npm-run-path/index.js", "../node_modules/npm-run-path/node_modules/path-key/index.js", "../node_modules/unicorn-magic/node.js", "../node_modules/execa/lib/terminate/kill.js", "../node_modules/execa/lib/return/final-error.js", "../node_modules/execa/lib/terminate/signal.js", "../node_modules/human-signals/build/src/main.js", "../node_modules/human-signals/build/src/realtime.js", "../node_modules/human-signals/build/src/signals.js", "../node_modules/human-signals/build/src/core.js", "../node_modules/execa/lib/utils/abort-signal.js", "../node_modules/execa/lib/terminate/cancel.js", "../node_modules/execa/lib/ipc/graceful.js", "../node_modules/execa/lib/ipc/send.js", "../node_modules/execa/lib/ipc/validation.js", "../node_modules/execa/lib/utils/deferred.js", "../node_modules/execa/lib/arguments/fd-options.js", "../node_modules/execa/lib/ipc/strict.js", "../node_modules/execa/lib/utils/max-listeners.js", "../node_modules/execa/lib/ipc/forward.js", "../node_modules/execa/lib/ipc/incoming.js", "../node_modules/execa/lib/ipc/reference.js", "../node_modules/execa/lib/ipc/outgoing.js", "../node_modules/execa/lib/terminate/graceful.js", "../node_modules/execa/lib/terminate/timeout.js", "../node_modules/execa/lib/methods/node.js", "../node_modules/execa/lib/ipc/ipc-input.js", "../node_modules/execa/lib/arguments/encoding-option.js", "../node_modules/execa/lib/arguments/cwd.js", "../node_modules/execa/lib/arguments/shell.js", "../node_modules/execa/lib/return/message.js", "../node_modules/strip-final-newline/index.js", "../node_modules/get-stream/source/index.js", "../node_modules/is-stream/index.js", "../node_modules/@sec-ant/readable-stream/dist/ponyfill/asyncIterator.js", "../node_modules/get-stream/source/stream.js", "../node_modules/get-stream/source/contents.js", "../node_modules/get-stream/source/utils.js", "../node_modules/get-stream/source/array.js", "../node_modules/get-stream/source/array-buffer.js", "../node_modules/get-stream/source/string.js", "../node_modules/execa/lib/io/max-buffer.js", "../node_modules/execa/lib/return/result.js", "../node_modules/parse-ms/index.js", "../node_modules/pretty-ms/index.js", "../node_modules/execa/lib/verbose/error.js", "../node_modules/execa/lib/verbose/complete.js", "../node_modules/execa/lib/return/reject.js", "../node_modules/execa/lib/stdio/handle-sync.js", "../node_modules/execa/lib/stdio/type.js", "../node_modules/execa/lib/transform/object-mode.js", "../node_modules/execa/lib/transform/normalize.js", "../node_modules/execa/lib/stdio/direction.js", "../node_modules/execa/lib/ipc/array.js", "../node_modules/execa/lib/stdio/stdio-option.js", "../node_modules/execa/lib/stdio/native.js", "../node_modules/execa/lib/stdio/input-option.js", "../node_modules/execa/lib/stdio/duplicate.js", "../node_modules/execa/lib/stdio/handle.js", "../node_modules/execa/lib/io/strip-newline.js", "../node_modules/execa/lib/transform/generator.js", "../node_modules/execa/lib/transform/split.js", "../node_modules/execa/lib/transform/validate.js", "../node_modules/execa/lib/transform/encoding-transform.js", "../node_modules/execa/lib/transform/run-async.js", "../node_modules/execa/lib/transform/run-sync.js", "../node_modules/execa/lib/io/input-sync.js", "../node_modules/execa/lib/io/output-sync.js", "../node_modules/execa/lib/verbose/output.js", "../node_modules/execa/lib/resolve/all-sync.js", "../node_modules/execa/lib/resolve/exit-async.js", "../node_modules/execa/lib/resolve/exit-sync.js", "../node_modules/execa/lib/methods/main-async.js", "../node_modules/execa/lib/ipc/methods.js", "../node_modules/execa/lib/ipc/get-one.js", "../node_modules/execa/lib/ipc/get-each.js", "../node_modules/execa/lib/return/early-error.js", "../node_modules/execa/lib/stdio/handle-async.js", "../node_modules/@sindresorhus/merge-streams/index.js", "../node_modules/execa/lib/io/pipeline.js", "../node_modules/execa/lib/io/output-async.js", "../node_modules/execa/lib/terminate/cleanup.js", "../node_modules/signal-exit/src/signals.ts", "../node_modules/signal-exit/src/index.ts", "../node_modules/execa/lib/pipe/pipe-arguments.js", "../node_modules/execa/lib/pipe/throw.js", "../node_modules/execa/lib/pipe/sequence.js", "../node_modules/execa/lib/pipe/streaming.js", "../node_modules/execa/lib/pipe/abort.js", "../node_modules/execa/lib/pipe/setup.js", "../node_modules/execa/lib/io/contents.js", "../node_modules/execa/lib/io/iterate.js", "../node_modules/execa/lib/resolve/wait-stream.js", "../node_modules/execa/lib/resolve/stdio.js", "../node_modules/execa/lib/resolve/all-async.js", "../node_modules/execa/lib/resolve/wait-subprocess.js", "../node_modules/execa/lib/verbose/ipc.js", "../node_modules/execa/lib/ipc/buffer-messages.js", "../node_modules/execa/lib/convert/concurrent.js", "../node_modules/execa/lib/convert/readable.js", "../node_modules/execa/lib/convert/shared.js", "../node_modules/execa/lib/convert/writable.js", "../node_modules/execa/lib/convert/duplex.js", "../node_modules/execa/lib/convert/iterable.js", "../node_modules/execa/lib/convert/add.js", "../node_modules/execa/lib/methods/promise.js", "../node_modules/execa/lib/methods/bind.js", "../node_modules/execa/lib/methods/create.js", "../node_modules/execa/lib/methods/command.js", "../node_modules/execa/lib/methods/script.js", "../node_modules/execa/index.js", "../src/utils.ts", "../src/views/installer.tsx", "../src/views/updater.tsx"],
  "sourcesContent": ["module.exports = isexe\nisexe.sync = sync\n\nvar fs = require('fs')\n\nfunction checkPathExt (path, options) {\n  var pathext = options.pathExt !== undefined ?\n    options.pathExt : process.env.PATHEXT\n\n  if (!pathext) {\n    return true\n  }\n\n  pathext = pathext.split(';')\n  if (pathext.indexOf('') !== -1) {\n    return true\n  }\n  for (var i = 0; i < pathext.length; i++) {\n    var p = pathext[i].toLowerCase()\n    if (p && path.substr(-p.length).toLowerCase() === p) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction checkStat (stat, path, options) {\n  if (!stat.isSymbolicLink() && !stat.isFile()) {\n    return false\n  }\n  return checkPathExt(path, options)\n}\n\nfunction isexe (path, options, cb) {\n  fs.stat(path, function (er, stat) {\n    cb(er, er ? false : checkStat(stat, path, options))\n  })\n}\n\nfunction sync (path, options) {\n  return checkStat(fs.statSync(path), path, options)\n}\n", "module.exports = isexe\nisexe.sync = sync\n\nvar fs = require('fs')\n\nfunction isexe (path, options, cb) {\n  fs.stat(path, function (er, stat) {\n    cb(er, er ? false : checkStat(stat, options))\n  })\n}\n\nfunction sync (path, options) {\n  return checkStat(fs.statSync(path), options)\n}\n\nfunction checkStat (stat, options) {\n  return stat.isFile() && checkMode(stat, options)\n}\n\nfunction checkMode (stat, options) {\n  var mod = stat.mode\n  var uid = stat.uid\n  var gid = stat.gid\n\n  var myUid = options.uid !== undefined ?\n    options.uid : process.getuid && process.getuid()\n  var myGid = options.gid !== undefined ?\n    options.gid : process.getgid && process.getgid()\n\n  var u = parseInt('100', 8)\n  var g = parseInt('010', 8)\n  var o = parseInt('001', 8)\n  var ug = u | g\n\n  var ret = (mod & o) ||\n    (mod & g) && gid === myGid ||\n    (mod & u) && uid === myUid ||\n    (mod & ug) && myUid === 0\n\n  return ret\n}\n", "var fs = require('fs')\nvar core\nif (process.platform === 'win32' || global.TESTING_WINDOWS) {\n  core = require('./windows.js')\n} else {\n  core = require('./mode.js')\n}\n\nmodule.exports = isexe\nisexe.sync = sync\n\nfunction isexe (path, options, cb) {\n  if (typeof options === 'function') {\n    cb = options\n    options = {}\n  }\n\n  if (!cb) {\n    if (typeof Promise !== 'function') {\n      throw new TypeError('callback not provided')\n    }\n\n    return new Promise(function (resolve, reject) {\n      isexe(path, options || {}, function (er, is) {\n        if (er) {\n          reject(er)\n        } else {\n          resolve(is)\n        }\n      })\n    })\n  }\n\n  core(path, options || {}, function (er, is) {\n    // ignore EACCES because that just means we aren't allowed to run it\n    if (er) {\n      if (er.code === 'EACCES' || options && options.ignoreErrors) {\n        er = null\n        is = false\n      }\n    }\n    cb(er, is)\n  })\n}\n\nfunction sync (path, options) {\n  // my kingdom for a filtered catch\n  try {\n    return core.sync(path, options || {})\n  } catch (er) {\n    if (options && options.ignoreErrors || er.code === 'EACCES') {\n      return false\n    } else {\n      throw er\n    }\n  }\n}\n", "const isWindows = process.platform === 'win32' ||\n    process.env.OSTYPE === 'cygwin' ||\n    process.env.OSTYPE === 'msys'\n\nconst path = require('path')\nconst COLON = isWindows ? ';' : ':'\nconst isexe = require('isexe')\n\nconst getNotFoundError = (cmd) =>\n  Object.assign(new Error(`not found: ${cmd}`), { code: 'ENOENT' })\n\nconst getPathInfo = (cmd, opt) => {\n  const colon = opt.colon || COLON\n\n  // If it has a slash, then we don't bother searching the pathenv.\n  // just check the file itself, and that's it.\n  const pathEnv = cmd.match(/\\//) || isWindows && cmd.match(/\\\\/) ? ['']\n    : (\n      [\n        // windows always checks the cwd first\n        ...(isWindows ? [process.cwd()] : []),\n        ...(opt.path || process.env.PATH ||\n          /* istanbul ignore next: very unusual */ '').split(colon),\n      ]\n    )\n  const pathExtExe = isWindows\n    ? opt.pathExt || process.env.PATHEXT || '.EXE;.CMD;.BAT;.COM'\n    : ''\n  const pathExt = isWindows ? pathExtExe.split(colon) : ['']\n\n  if (isWindows) {\n    if (cmd.indexOf('.') !== -1 && pathExt[0] !== '')\n      pathExt.unshift('')\n  }\n\n  return {\n    pathEnv,\n    pathExt,\n    pathExtExe,\n  }\n}\n\nconst which = (cmd, opt, cb) => {\n  if (typeof opt === 'function') {\n    cb = opt\n    opt = {}\n  }\n  if (!opt)\n    opt = {}\n\n  const { pathEnv, pathExt, pathExtExe } = getPathInfo(cmd, opt)\n  const found = []\n\n  const step = i => new Promise((resolve, reject) => {\n    if (i === pathEnv.length)\n      return opt.all && found.length ? resolve(found)\n        : reject(getNotFoundError(cmd))\n\n    const ppRaw = pathEnv[i]\n    const pathPart = /^\".*\"$/.test(ppRaw) ? ppRaw.slice(1, -1) : ppRaw\n\n    const pCmd = path.join(pathPart, cmd)\n    const p = !pathPart && /^\\.[\\\\\\/]/.test(cmd) ? cmd.slice(0, 2) + pCmd\n      : pCmd\n\n    resolve(subStep(p, i, 0))\n  })\n\n  const subStep = (p, i, ii) => new Promise((resolve, reject) => {\n    if (ii === pathExt.length)\n      return resolve(step(i + 1))\n    const ext = pathExt[ii]\n    isexe(p + ext, { pathExt: pathExtExe }, (er, is) => {\n      if (!er && is) {\n        if (opt.all)\n          found.push(p + ext)\n        else\n          return resolve(p + ext)\n      }\n      return resolve(subStep(p, i, ii + 1))\n    })\n  })\n\n  return cb ? step(0).then(res => cb(null, res), cb) : step(0)\n}\n\nconst whichSync = (cmd, opt) => {\n  opt = opt || {}\n\n  const { pathEnv, pathExt, pathExtExe } = getPathInfo(cmd, opt)\n  const found = []\n\n  for (let i = 0; i < pathEnv.length; i ++) {\n    const ppRaw = pathEnv[i]\n    const pathPart = /^\".*\"$/.test(ppRaw) ? ppRaw.slice(1, -1) : ppRaw\n\n    const pCmd = path.join(pathPart, cmd)\n    const p = !pathPart && /^\\.[\\\\\\/]/.test(cmd) ? cmd.slice(0, 2) + pCmd\n      : pCmd\n\n    for (let j = 0; j < pathExt.length; j ++) {\n      const cur = p + pathExt[j]\n      try {\n        const is = isexe.sync(cur, { pathExt: pathExtExe })\n        if (is) {\n          if (opt.all)\n            found.push(cur)\n          else\n            return cur\n        }\n      } catch (ex) {}\n    }\n  }\n\n  if (opt.all && found.length)\n    return found\n\n  if (opt.nothrow)\n    return null\n\n  throw getNotFoundError(cmd)\n}\n\nmodule.exports = which\nwhich.sync = whichSync\n", "'use strict';\n\nconst pathKey = (options = {}) => {\n\tconst environment = options.env || process.env;\n\tconst platform = options.platform || process.platform;\n\n\tif (platform !== 'win32') {\n\t\treturn 'PATH';\n\t}\n\n\treturn Object.keys(environment).reverse().find(key => key.toUpperCase() === 'PATH') || 'Path';\n};\n\nmodule.exports = pathKey;\n// TODO: Remove this for the next major release\nmodule.exports.default = pathKey;\n", "'use strict';\n\nconst path = require('path');\nconst which = require('which');\nconst getPathKey = require('path-key');\n\nfunction resolveCommandAttempt(parsed, withoutPathExt) {\n    const env = parsed.options.env || process.env;\n    const cwd = process.cwd();\n    const hasCustomCwd = parsed.options.cwd != null;\n    // Worker threads do not have process.chdir()\n    const shouldSwitchCwd = hasCustomCwd && process.chdir !== undefined && !process.chdir.disabled;\n\n    // If a custom `cwd` was specified, we need to change the process cwd\n    // because `which` will do stat calls but does not support a custom cwd\n    if (shouldSwitchCwd) {\n        try {\n            process.chdir(parsed.options.cwd);\n        } catch (err) {\n            /* Empty */\n        }\n    }\n\n    let resolved;\n\n    try {\n        resolved = which.sync(parsed.command, {\n            path: env[getPathKey({ env })],\n            pathExt: withoutPathExt ? path.delimiter : undefined,\n        });\n    } catch (e) {\n        /* Empty */\n    } finally {\n        if (shouldSwitchCwd) {\n            process.chdir(cwd);\n        }\n    }\n\n    // If we successfully resolved, ensure that an absolute path is returned\n    // Note that when a custom `cwd` was used, we need to resolve to an absolute path based on it\n    if (resolved) {\n        resolved = path.resolve(hasCustomCwd ? parsed.options.cwd : '', resolved);\n    }\n\n    return resolved;\n}\n\nfunction resolveCommand(parsed) {\n    return resolveCommandAttempt(parsed) || resolveCommandAttempt(parsed, true);\n}\n\nmodule.exports = resolveCommand;\n", "'use strict';\n\n// See http://www.robvanderwoude.com/escapechars.php\nconst metaCharsRegExp = /([()\\][%!^\"`<>&|;, *?])/g;\n\nfunction escapeCommand(arg) {\n    // Escape meta chars\n    arg = arg.replace(metaCharsRegExp, '^$1');\n\n    return arg;\n}\n\nfunction escapeArgument(arg, doubleEscapeMetaChars) {\n    // Convert to string\n    arg = `${arg}`;\n\n    // Algorithm below is based on https://qntm.org/cmd\n    // It's slightly altered to disable JS backtracking to avoid hanging on specially crafted input\n    // Please see https://github.com/moxystudio/node-cross-spawn/pull/160 for more information\n\n    // Sequence of backslashes followed by a double quote:\n    // double up all the backslashes and escape the double quote\n    arg = arg.replace(/(?=(\\\\+?)?)\\1\"/g, '$1$1\\\\\"');\n\n    // Sequence of backslashes followed by the end of the string\n    // (which will become a double quote later):\n    // double up all the backslashes\n    arg = arg.replace(/(?=(\\\\+?)?)\\1$/, '$1$1');\n\n    // All other backslashes occur literally\n\n    // Quote the whole thing:\n    arg = `\"${arg}\"`;\n\n    // Escape meta chars\n    arg = arg.replace(metaCharsRegExp, '^$1');\n\n    // Double escape meta chars if necessary\n    if (doubleEscapeMetaChars) {\n        arg = arg.replace(metaCharsRegExp, '^$1');\n    }\n\n    return arg;\n}\n\nmodule.exports.command = escapeCommand;\nmodule.exports.argument = escapeArgument;\n", "'use strict';\nmodule.exports = /^#!(.*)/;\n", "'use strict';\nconst shebangRegex = require('shebang-regex');\n\nmodule.exports = (string = '') => {\n\tconst match = string.match(shebangRegex);\n\n\tif (!match) {\n\t\treturn null;\n\t}\n\n\tconst [path, argument] = match[0].replace(/#! ?/, '').split(' ');\n\tconst binary = path.split('/').pop();\n\n\tif (binary === 'env') {\n\t\treturn argument;\n\t}\n\n\treturn argument ? `${binary} ${argument}` : binary;\n};\n", "'use strict';\n\nconst fs = require('fs');\nconst shebangCommand = require('shebang-command');\n\nfunction readShebang(command) {\n    // Read the first 150 bytes from the file\n    const size = 150;\n    const buffer = Buffer.alloc(size);\n\n    let fd;\n\n    try {\n        fd = fs.openSync(command, 'r');\n        fs.readSync(fd, buffer, 0, size, 0);\n        fs.closeSync(fd);\n    } catch (e) { /* Empty */ }\n\n    // Attempt to extract shebang (null is returned if not a shebang)\n    return shebangCommand(buffer.toString());\n}\n\nmodule.exports = readShebang;\n", "'use strict';\n\nconst path = require('path');\nconst resolveCommand = require('./util/resolveCommand');\nconst escape = require('./util/escape');\nconst readShebang = require('./util/readShebang');\n\nconst isWin = process.platform === 'win32';\nconst isExecutableRegExp = /\\.(?:com|exe)$/i;\nconst isCmdShimRegExp = /node_modules[\\\\/].bin[\\\\/][^\\\\/]+\\.cmd$/i;\n\nfunction detectShebang(parsed) {\n    parsed.file = resolveCommand(parsed);\n\n    const shebang = parsed.file && readShebang(parsed.file);\n\n    if (shebang) {\n        parsed.args.unshift(parsed.file);\n        parsed.command = shebang;\n\n        return resolveCommand(parsed);\n    }\n\n    return parsed.file;\n}\n\nfunction parseNonShell(parsed) {\n    if (!isWin) {\n        return parsed;\n    }\n\n    // Detect & add support for shebangs\n    const commandFile = detectShebang(parsed);\n\n    // We don't need a shell if the command filename is an executable\n    const needsShell = !isExecutableRegExp.test(commandFile);\n\n    // If a shell is required, use cmd.exe and take care of escaping everything correctly\n    // Note that `forceShell` is an hidden option used only in tests\n    if (parsed.options.forceShell || needsShell) {\n        // Need to double escape meta chars if the command is a cmd-shim located in `node_modules/.bin/`\n        // The cmd-shim simply calls execute the package bin file with NodeJS, proxying any argument\n        // Because the escape of metachars with ^ gets interpreted when the cmd.exe is first called,\n        // we need to double escape them\n        const needsDoubleEscapeMetaChars = isCmdShimRegExp.test(commandFile);\n\n        // Normalize posix paths into OS compatible paths (e.g.: foo/bar -> foo\\bar)\n        // This is necessary otherwise it will always fail with ENOENT in those cases\n        parsed.command = path.normalize(parsed.command);\n\n        // Escape command & arguments\n        parsed.command = escape.command(parsed.command);\n        parsed.args = parsed.args.map((arg) => escape.argument(arg, needsDoubleEscapeMetaChars));\n\n        const shellCommand = [parsed.command].concat(parsed.args).join(' ');\n\n        parsed.args = ['/d', '/s', '/c', `\"${shellCommand}\"`];\n        parsed.command = process.env.comspec || 'cmd.exe';\n        parsed.options.windowsVerbatimArguments = true; // Tell node's spawn that the arguments are already escaped\n    }\n\n    return parsed;\n}\n\nfunction parse(command, args, options) {\n    // Normalize arguments, similar to nodejs\n    if (args && !Array.isArray(args)) {\n        options = args;\n        args = null;\n    }\n\n    args = args ? args.slice(0) : []; // Clone array to avoid changing the original\n    options = Object.assign({}, options); // Clone object to avoid changing the original\n\n    // Build our parsed object\n    const parsed = {\n        command,\n        args,\n        options,\n        file: undefined,\n        original: {\n            command,\n            args,\n        },\n    };\n\n    // Delegate further parsing to shell or non-shell\n    return options.shell ? parsed : parseNonShell(parsed);\n}\n\nmodule.exports = parse;\n", "'use strict';\n\nconst isWin = process.platform === 'win32';\n\nfunction notFoundError(original, syscall) {\n    return Object.assign(new Error(`${syscall} ${original.command} ENOENT`), {\n        code: 'ENOENT',\n        errno: 'ENOENT',\n        syscall: `${syscall} ${original.command}`,\n        path: original.command,\n        spawnargs: original.args,\n    });\n}\n\nfunction hookChildProcess(cp, parsed) {\n    if (!isWin) {\n        return;\n    }\n\n    const originalEmit = cp.emit;\n\n    cp.emit = function (name, arg1) {\n        // If emitting \"exit\" event and exit code is 1, we need to check if\n        // the command exists and emit an \"error\" instead\n        // See https://github.com/IndigoUnited/node-cross-spawn/issues/16\n        if (name === 'exit') {\n            const err = verifyENOENT(arg1, parsed);\n\n            if (err) {\n                return originalEmit.call(cp, 'error', err);\n            }\n        }\n\n        return originalEmit.apply(cp, arguments); // eslint-disable-line prefer-rest-params\n    };\n}\n\nfunction verifyENOENT(status, parsed) {\n    if (isWin && status === 1 && !parsed.file) {\n        return notFoundError(parsed.original, 'spawn');\n    }\n\n    return null;\n}\n\nfunction verifyENOENTSync(status, parsed) {\n    if (isWin && status === 1 && !parsed.file) {\n        return notFoundError(parsed.original, 'spawnSync');\n    }\n\n    return null;\n}\n\nmodule.exports = {\n    hookChildProcess,\n    verifyENOENT,\n    verifyENOENTSync,\n    notFoundError,\n};\n", "'use strict';\n\nconst cp = require('child_process');\nconst parse = require('./lib/parse');\nconst enoent = require('./lib/enoent');\n\nfunction spawn(command, args, options) {\n    // Parse the arguments\n    const parsed = parse(command, args, options);\n\n    // Spawn the child process\n    const spawned = cp.spawn(parsed.command, parsed.args, parsed.options);\n\n    // Hook into child process \"exit\" event to emit an error if the command\n    // does not exists, see: https://github.com/IndigoUnited/node-cross-spawn/issues/16\n    enoent.hookChildProcess(spawned, parsed);\n\n    return spawned;\n}\n\nfunction spawnSync(command, args, options) {\n    // Parse the arguments\n    const parsed = parse(command, args, options);\n\n    // Spawn the child process\n    const result = cp.spawnSync(parsed.command, parsed.args, parsed.options);\n\n    // Analyze if the command does not exist, see: https://github.com/IndigoUnited/node-cross-spawn/issues/16\n    result.error = result.error || enoent.verifyENOENTSync(result.status, parsed);\n\n    return result;\n}\n\nmodule.exports = spawn;\nmodule.exports.spawn = spawn;\nmodule.exports.sync = spawnSync;\n\nmodule.exports._parse = parse;\nmodule.exports._enoent = enoent;\n", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = assertString;\nfunction assertString(input) {\n  if (input === undefined || input === null) throw new TypeError(\"Expected a string but received a \".concat(input));\n  if (input.constructor.name !== 'String') throw new TypeError(\"Expected a string but received a \".concat(input.constructor.name));\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = toDate;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction toDate(date) {\n  (0, _assertString.default)(date);\n  date = Date.parse(date);\n  return !isNaN(date) ? new Date(date) : null;\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isNullOrUndefined;\nfunction isNullOrUndefined(value) {\n  return value === null || value === undefined;\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.farsiLocales = exports.englishLocales = exports.dotDecimal = exports.decimal = exports.commaDecimal = exports.bengaliLocales = exports.arabicLocales = exports.alphanumeric = exports.alpha = void 0;\nvar alpha = exports.alpha = {\n  'en-US': /^[A-Z]+$/i,\n  'az-AZ': /^[A-VXYZ\u00C7\u018F\u011E\u0130\u0131\u00D6\u015E\u00DC]+$/i,\n  'bg-BG': /^[\u0410-\u042F]+$/i,\n  'cs-CZ': /^[A-Z\u00C1\u010C\u010E\u00C9\u011A\u00CD\u0147\u00D3\u0158\u0160\u0164\u00DA\u016E\u00DD\u017D]+$/i,\n  'da-DK': /^[A-Z\u00C6\u00D8\u00C5]+$/i,\n  'de-DE': /^[A-Z\u00C4\u00D6\u00DC\u00DF]+$/i,\n  'el-GR': /^[\u0391-\u03CE]+$/i,\n  'es-ES': /^[A-Z\u00C1\u00C9\u00CD\u00D1\u00D3\u00DA\u00DC]+$/i,\n  'fa-IR': /^[\u0627\u0628\u067E\u062A\u062B\u062C\u0686\u062D\u062E\u062F\u0630\u0631\u0632\u0698\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063A\u0641\u0642\u06A9\u06AF\u0644\u0645\u0646\u0648\u0647\u06CC]+$/i,\n  'fi-FI': /^[A-Z\u00C5\u00C4\u00D6]+$/i,\n  'fr-FR': /^[A-Z\u00C0\u00C2\u00C6\u00C7\u00C9\u00C8\u00CA\u00CB\u00CF\u00CE\u00D4\u0152\u00D9\u00DB\u00DC\u0178]+$/i,\n  'it-IT': /^[A-Z\u00C0\u00C9\u00C8\u00CC\u00CE\u00D3\u00D2\u00D9]+$/i,\n  'ja-JP': /^[\u3041-\u3093\u30A1-\u30F6\uFF66-\uFF9F\u4E00-\u9FA0\u30FC\u30FB\u3002\u3001]+$/i,\n  'nb-NO': /^[A-Z\u00C6\u00D8\u00C5]+$/i,\n  'nl-NL': /^[A-Z\u00C1\u00C9\u00CB\u00CF\u00D3\u00D6\u00DC\u00DA]+$/i,\n  'nn-NO': /^[A-Z\u00C6\u00D8\u00C5]+$/i,\n  'hu-HU': /^[A-Z\u00C1\u00C9\u00CD\u00D3\u00D6\u0150\u00DA\u00DC\u0170]+$/i,\n  'pl-PL': /^[A-Z\u0104\u0106\u0118\u015A\u0141\u0143\u00D3\u017B\u0179]+$/i,\n  'pt-PT': /^[A-Z\u00C3\u00C1\u00C0\u00C2\u00C4\u00C7\u00C9\u00CA\u00CB\u00CD\u00CF\u00D5\u00D3\u00D4\u00D6\u00DA\u00DC]+$/i,\n  'ru-RU': /^[\u0410-\u042F\u0401]+$/i,\n  'kk-KZ': /^[\u0410-\u042F\u0401\\u04D8\\u04B0\\u0406\\u04A2\\u0492\\u04AE\\u049A\\u04E8\\u04BA]+$/i,\n  'sl-SI': /^[A-Z\u010C\u0106\u0110\u0160\u017D]+$/i,\n  'sk-SK': /^[A-Z\u00C1\u010C\u010E\u00C9\u00CD\u0147\u00D3\u0160\u0164\u00DA\u00DD\u017D\u0139\u0154\u013D\u00C4\u00D4]+$/i,\n  'sr-RS@latin': /^[A-Z\u010C\u0106\u017D\u0160\u0110]+$/i,\n  'sr-RS': /^[\u0410-\u042F\u0402\u0408\u0409\u040A\u040B\u040F]+$/i,\n  'sv-SE': /^[A-Z\u00C5\u00C4\u00D6]+$/i,\n  'th-TH': /^[\u0E01-\u0E50\\s]+$/i,\n  'tr-TR': /^[A-Z\u00C7\u011E\u0130\u0131\u00D6\u015E\u00DC]+$/i,\n  'uk-UA': /^[\u0410-\u0429\u042C\u042E\u042F\u0404I\u0407\u0490\u0456]+$/i,\n  'vi-VN': /^[A-Z\u00C0\u00C1\u1EA0\u1EA2\u00C3\u00C2\u1EA6\u1EA4\u1EAC\u1EA8\u1EAA\u0102\u1EB0\u1EAE\u1EB6\u1EB2\u1EB4\u0110\u00C8\u00C9\u1EB8\u1EBA\u1EBC\u00CA\u1EC0\u1EBE\u1EC6\u1EC2\u1EC4\u00CC\u00CD\u1ECA\u1EC8\u0128\u00D2\u00D3\u1ECC\u1ECE\u00D5\u00D4\u1ED2\u1ED0\u1ED8\u1ED4\u1ED6\u01A0\u1EDC\u1EDA\u1EE2\u1EDE\u1EE0\u00D9\u00DA\u1EE4\u1EE6\u0168\u01AF\u1EEA\u1EE8\u1EF0\u1EEC\u1EEE\u1EF2\u00DD\u1EF4\u1EF6\u1EF8]+$/i,\n  'ko-KR': /^[\u3131-\u314E\u314F-\u3163\uAC00-\uD7A3]*$/,\n  'ku-IQ': /^[\u0626\u0627\u0628\u067E\u062A\u062C\u0686\u062D\u062E\u062F\u0631\u0695\u0632\u0698\u0633\u0634\u0639\u063A\u0641\u06A4\u0642\u06A9\u06AF\u0644\u06B5\u0645\u0646\u0648\u06C6\u06BE\u06D5\u06CC\u06CE\u064A\u0637\u0624\u062B\u0622\u0625\u0623\u0643\u0636\u0635\u0629\u0638\u0630]+$/i,\n  ar: /^[\u0621\u0622\u0623\u0624\u0625\u0626\u0627\u0628\u0629\u062A\u062B\u062C\u062D\u062E\u062F\u0630\u0631\u0632\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063A\u0641\u0642\u0643\u0644\u0645\u0646\u0647\u0648\u0649\u064A\u064B\u064C\u064D\u064E\u064F\u0650\u0651\u0652\u0670]+$/,\n  he: /^[\u05D0-\u05EA]+$/,\n  fa: /^['\u0622\u0627\u0621\u0623\u0624\u0626\u0628\u067E\u062A\u062B\u062C\u0686\u062D\u062E\u062F\u0630\u0631\u0632\u0698\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063A\u0641\u0642\u06A9\u06AF\u0644\u0645\u0646\u0648\u0647\u0629\u06CC']+$/i,\n  bn: /^['\u0980\u0981\u0982\u0983\u0985\u0986\u0987\u0988\u0989\u098A\u098B\u098C\u098F\u0990\u0993\u0994\u0995\u0996\u0997\u0998\u0999\u099A\u099B\u099C\u099D\u099E\u099F\u09A0\u09A1\u09A2\u09A3\u09A4\u09A5\u09A6\u09A7\u09A8\u09AA\u09AB\u09AC\u09AD\u09AE\u09AF\u09B0\u09B2\u09B6\u09B7\u09B8\u09B9\u09BC\u09BD\u09BE\u09BF\u09C0\u09C1\u09C2\u09C3\u09C4\u09C7\u09C8\u09CB\u09CC\u09CD\u09CE\u09D7\u09DC\u09DD\u09DF\u09E0\u09E1\u09E2\u09E3\u09F0\u09F1\u09F2\u09F3\u09F4\u09F5\u09F6\u09F7\u09F8\u09F9\u09FA\u09FB']+$/,\n  eo: /^[ABC\u0108D-G\u011CH\u0124IJ\u0134K-PRS\u015CTU\u016CVZ]+$/i,\n  'hi-IN': /^[\\u0900-\\u0961]+[\\u0972-\\u097F]*$/i,\n  'si-LK': /^[\\u0D80-\\u0DFF]+$/,\n  'ta-IN': /^[\\u0B80-\\u0BFF]+$/i,\n  'te-IN': /^[\\u0C00-\\u0C7F]+$/i,\n  'kn-IN': /^[\\u0C80-\\u0CFF]+$/i,\n  'ml-IN': /^[\\u0D00-\\u0D7F]+$/i,\n  'gu-IN': /^[\\u0A80-\\u0AFF]+$/i,\n  'pa-IN': /^[\\u0A00-\\u0A7F]+$/i,\n  'or-IN': /^[\\u0B00-\\u0B7F]+$/i\n};\nvar alphanumeric = exports.alphanumeric = {\n  'en-US': /^[0-9A-Z]+$/i,\n  'az-AZ': /^[0-9A-VXYZ\u00C7\u018F\u011E\u0130\u0131\u00D6\u015E\u00DC]+$/i,\n  'bg-BG': /^[0-9\u0410-\u042F]+$/i,\n  'cs-CZ': /^[0-9A-Z\u00C1\u010C\u010E\u00C9\u011A\u00CD\u0147\u00D3\u0158\u0160\u0164\u00DA\u016E\u00DD\u017D]+$/i,\n  'da-DK': /^[0-9A-Z\u00C6\u00D8\u00C5]+$/i,\n  'de-DE': /^[0-9A-Z\u00C4\u00D6\u00DC\u00DF]+$/i,\n  'el-GR': /^[0-9\u0391-\u03C9]+$/i,\n  'es-ES': /^[0-9A-Z\u00C1\u00C9\u00CD\u00D1\u00D3\u00DA\u00DC]+$/i,\n  'fi-FI': /^[0-9A-Z\u00C5\u00C4\u00D6]+$/i,\n  'fr-FR': /^[0-9A-Z\u00C0\u00C2\u00C6\u00C7\u00C9\u00C8\u00CA\u00CB\u00CF\u00CE\u00D4\u0152\u00D9\u00DB\u00DC\u0178]+$/i,\n  'it-IT': /^[0-9A-Z\u00C0\u00C9\u00C8\u00CC\u00CE\u00D3\u00D2\u00D9]+$/i,\n  'ja-JP': /^[0-9\uFF10-\uFF19\u3041-\u3093\u30A1-\u30F6\uFF66-\uFF9F\u4E00-\u9FA0\u30FC\u30FB\u3002\u3001]+$/i,\n  'hu-HU': /^[0-9A-Z\u00C1\u00C9\u00CD\u00D3\u00D6\u0150\u00DA\u00DC\u0170]+$/i,\n  'nb-NO': /^[0-9A-Z\u00C6\u00D8\u00C5]+$/i,\n  'nl-NL': /^[0-9A-Z\u00C1\u00C9\u00CB\u00CF\u00D3\u00D6\u00DC\u00DA]+$/i,\n  'nn-NO': /^[0-9A-Z\u00C6\u00D8\u00C5]+$/i,\n  'pl-PL': /^[0-9A-Z\u0104\u0106\u0118\u015A\u0141\u0143\u00D3\u017B\u0179]+$/i,\n  'pt-PT': /^[0-9A-Z\u00C3\u00C1\u00C0\u00C2\u00C4\u00C7\u00C9\u00CA\u00CB\u00CD\u00CF\u00D5\u00D3\u00D4\u00D6\u00DA\u00DC]+$/i,\n  'ru-RU': /^[0-9\u0410-\u042F\u0401]+$/i,\n  'kk-KZ': /^[0-9\u0410-\u042F\u0401\\u04D8\\u04B0\\u0406\\u04A2\\u0492\\u04AE\\u049A\\u04E8\\u04BA]+$/i,\n  'sl-SI': /^[0-9A-Z\u010C\u0106\u0110\u0160\u017D]+$/i,\n  'sk-SK': /^[0-9A-Z\u00C1\u010C\u010E\u00C9\u00CD\u0147\u00D3\u0160\u0164\u00DA\u00DD\u017D\u0139\u0154\u013D\u00C4\u00D4]+$/i,\n  'sr-RS@latin': /^[0-9A-Z\u010C\u0106\u017D\u0160\u0110]+$/i,\n  'sr-RS': /^[0-9\u0410-\u042F\u0402\u0408\u0409\u040A\u040B\u040F]+$/i,\n  'sv-SE': /^[0-9A-Z\u00C5\u00C4\u00D6]+$/i,\n  'th-TH': /^[\u0E01-\u0E59\\s]+$/i,\n  'tr-TR': /^[0-9A-Z\u00C7\u011E\u0130\u0131\u00D6\u015E\u00DC]+$/i,\n  'uk-UA': /^[0-9\u0410-\u0429\u042C\u042E\u042F\u0404I\u0407\u0490\u0456]+$/i,\n  'ko-KR': /^[0-9\u3131-\u314E\u314F-\u3163\uAC00-\uD7A3]*$/,\n  'ku-IQ': /^[\u0660\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u06690-9\u0626\u0627\u0628\u067E\u062A\u062C\u0686\u062D\u062E\u062F\u0631\u0695\u0632\u0698\u0633\u0634\u0639\u063A\u0641\u06A4\u0642\u06A9\u06AF\u0644\u06B5\u0645\u0646\u0648\u06C6\u06BE\u06D5\u06CC\u06CE\u064A\u0637\u0624\u062B\u0622\u0625\u0623\u0643\u0636\u0635\u0629\u0638\u0630]+$/i,\n  'vi-VN': /^[0-9A-Z\u00C0\u00C1\u1EA0\u1EA2\u00C3\u00C2\u1EA6\u1EA4\u1EAC\u1EA8\u1EAA\u0102\u1EB0\u1EAE\u1EB6\u1EB2\u1EB4\u0110\u00C8\u00C9\u1EB8\u1EBA\u1EBC\u00CA\u1EC0\u1EBE\u1EC6\u1EC2\u1EC4\u00CC\u00CD\u1ECA\u1EC8\u0128\u00D2\u00D3\u1ECC\u1ECE\u00D5\u00D4\u1ED2\u1ED0\u1ED8\u1ED4\u1ED6\u01A0\u1EDC\u1EDA\u1EE2\u1EDE\u1EE0\u00D9\u00DA\u1EE4\u1EE6\u0168\u01AF\u1EEA\u1EE8\u1EF0\u1EEC\u1EEE\u1EF2\u00DD\u1EF4\u1EF6\u1EF8]+$/i,\n  ar: /^[\u0660\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u06690-9\u0621\u0622\u0623\u0624\u0625\u0626\u0627\u0628\u0629\u062A\u062B\u062C\u062D\u062E\u062F\u0630\u0631\u0632\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063A\u0641\u0642\u0643\u0644\u0645\u0646\u0647\u0648\u0649\u064A\u064B\u064C\u064D\u064E\u064F\u0650\u0651\u0652\u0670]+$/,\n  he: /^[0-9\u05D0-\u05EA]+$/,\n  fa: /^['0-9\u0622\u0627\u0621\u0623\u0624\u0626\u0628\u067E\u062A\u062B\u062C\u0686\u062D\u062E\u062F\u0630\u0631\u0632\u0698\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063A\u0641\u0642\u06A9\u06AF\u0644\u0645\u0646\u0648\u0647\u0629\u06CC\u06F1\u06F2\u06F3\u06F4\u06F5\u06F6\u06F7\u06F8\u06F9\u06F0']+$/i,\n  bn: /^['\u0980\u0981\u0982\u0983\u0985\u0986\u0987\u0988\u0989\u098A\u098B\u098C\u098F\u0990\u0993\u0994\u0995\u0996\u0997\u0998\u0999\u099A\u099B\u099C\u099D\u099E\u099F\u09A0\u09A1\u09A2\u09A3\u09A4\u09A5\u09A6\u09A7\u09A8\u09AA\u09AB\u09AC\u09AD\u09AE\u09AF\u09B0\u09B2\u09B6\u09B7\u09B8\u09B9\u09BC\u09BD\u09BE\u09BF\u09C0\u09C1\u09C2\u09C3\u09C4\u09C7\u09C8\u09CB\u09CC\u09CD\u09CE\u09D7\u09DC\u09DD\u09DF\u09E0\u09E1\u09E2\u09E3\u09E6\u09E7\u09E8\u09E9\u09EA\u09EB\u09EC\u09ED\u09EE\u09EF\u09F0\u09F1\u09F2\u09F3\u09F4\u09F5\u09F6\u09F7\u09F8\u09F9\u09FA\u09FB']+$/,\n  eo: /^[0-9ABC\u0108D-G\u011CH\u0124IJ\u0134K-PRS\u015CTU\u016CVZ]+$/i,\n  'hi-IN': /^[\\u0900-\\u0963]+[\\u0966-\\u097F]*$/i,\n  'si-LK': /^[0-9\\u0D80-\\u0DFF]+$/,\n  'ta-IN': /^[0-9\\u0B80-\\u0BFF.]+$/i,\n  'te-IN': /^[0-9\\u0C00-\\u0C7F.]+$/i,\n  'kn-IN': /^[0-9\\u0C80-\\u0CFF.]+$/i,\n  'ml-IN': /^[0-9\\u0D00-\\u0D7F.]+$/i,\n  'gu-IN': /^[0-9\\u0A80-\\u0AFF.]+$/i,\n  'pa-IN': /^[0-9\\u0A00-\\u0A7F.]+$/i,\n  'or-IN': /^[0-9\\u0B00-\\u0B7F.]+$/i\n};\nvar decimal = exports.decimal = {\n  'en-US': '.',\n  ar: '\u066B'\n};\nvar englishLocales = exports.englishLocales = ['AU', 'GB', 'HK', 'IN', 'NZ', 'ZA', 'ZM'];\nfor (var locale, i = 0; i < englishLocales.length; i++) {\n  locale = \"en-\".concat(englishLocales[i]);\n  alpha[locale] = alpha['en-US'];\n  alphanumeric[locale] = alphanumeric['en-US'];\n  decimal[locale] = decimal['en-US'];\n}\n\n// Source: http://www.localeplanet.com/java/\nvar arabicLocales = exports.arabicLocales = ['AE', 'BH', 'DZ', 'EG', 'IQ', 'JO', 'KW', 'LB', 'LY', 'MA', 'QM', 'QA', 'SA', 'SD', 'SY', 'TN', 'YE'];\nfor (var _locale, _i = 0; _i < arabicLocales.length; _i++) {\n  _locale = \"ar-\".concat(arabicLocales[_i]);\n  alpha[_locale] = alpha.ar;\n  alphanumeric[_locale] = alphanumeric.ar;\n  decimal[_locale] = decimal.ar;\n}\nvar farsiLocales = exports.farsiLocales = ['IR', 'AF'];\nfor (var _locale2, _i2 = 0; _i2 < farsiLocales.length; _i2++) {\n  _locale2 = \"fa-\".concat(farsiLocales[_i2]);\n  alphanumeric[_locale2] = alphanumeric.fa;\n  decimal[_locale2] = decimal.ar;\n}\nvar bengaliLocales = exports.bengaliLocales = ['BD', 'IN'];\nfor (var _locale3, _i3 = 0; _i3 < bengaliLocales.length; _i3++) {\n  _locale3 = \"bn-\".concat(bengaliLocales[_i3]);\n  alpha[_locale3] = alpha.bn;\n  alphanumeric[_locale3] = alphanumeric.bn;\n  decimal[_locale3] = decimal['en-US'];\n}\n\n// Source: https://en.wikipedia.org/wiki/Decimal_mark\nvar dotDecimal = exports.dotDecimal = ['ar-EG', 'ar-LB', 'ar-LY'];\nvar commaDecimal = exports.commaDecimal = ['bg-BG', 'cs-CZ', 'da-DK', 'de-DE', 'el-GR', 'en-ZM', 'eo', 'es-ES', 'fr-CA', 'fr-FR', 'gu-IN', 'hi-IN', 'hu-HU', 'id-ID', 'it-IT', 'kk-KZ', 'kn-IN', 'ku-IQ', 'ml-IN', 'nb-NO', 'nl-NL', 'nn-NO', 'or-IN', 'pa-IN', 'pl-PL', 'pt-PT', 'ru-RU', 'si-LK', 'sl-SI', 'sr-RS', 'sr-RS@latin', 'sv-SE', 'ta-IN', 'te-IN', 'tr-TR', 'uk-UA', 'vi-VN'];\nfor (var _i4 = 0; _i4 < dotDecimal.length; _i4++) {\n  decimal[dotDecimal[_i4]] = decimal['en-US'];\n}\nfor (var _i5 = 0; _i5 < commaDecimal.length; _i5++) {\n  decimal[commaDecimal[_i5]] = ',';\n}\nalpha['fr-CA'] = alpha['fr-FR'];\nalphanumeric['fr-CA'] = alphanumeric['fr-FR'];\nalpha['pt-BR'] = alpha['pt-PT'];\nalphanumeric['pt-BR'] = alphanumeric['pt-PT'];\ndecimal['pt-BR'] = decimal['pt-PT'];\n\n// see #862\nalpha['pl-Pl'] = alpha['pl-PL'];\nalphanumeric['pl-Pl'] = alphanumeric['pl-PL'];\ndecimal['pl-Pl'] = decimal['pl-PL'];\n\n// see #1455\nalpha['fa-AF'] = alpha.fa;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isFloat;\nexports.locales = void 0;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nvar _nullUndefinedCheck = _interopRequireDefault(require(\"./util/nullUndefinedCheck\"));\nvar _alpha = require(\"./alpha\");\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction isFloat(str, options) {\n  (0, _assertString.default)(str);\n  options = options || {};\n  var float = new RegExp(\"^(?:[-+])?(?:[0-9]+)?(?:\\\\\".concat(options.locale ? _alpha.decimal[options.locale] : '.', \"[0-9]*)?(?:[eE][\\\\+\\\\-]?(?:[0-9]+))?$\"));\n  if (str === '' || str === '.' || str === ',' || str === '-' || str === '+') {\n    return false;\n  }\n  var value = parseFloat(str.replace(',', '.'));\n  return float.test(str) && (!options.hasOwnProperty('min') || (0, _nullUndefinedCheck.default)(options.min) || value >= options.min) && (!options.hasOwnProperty('max') || (0, _nullUndefinedCheck.default)(options.max) || value <= options.max) && (!options.hasOwnProperty('lt') || (0, _nullUndefinedCheck.default)(options.lt) || value < options.lt) && (!options.hasOwnProperty('gt') || (0, _nullUndefinedCheck.default)(options.gt) || value > options.gt);\n}\nvar locales = exports.locales = Object.keys(_alpha.decimal);", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = toFloat;\nvar _isFloat = _interopRequireDefault(require(\"./isFloat\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction toFloat(str) {\n  if (!(0, _isFloat.default)(str)) return NaN;\n  return parseFloat(str);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = toInt;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction toInt(str, radix) {\n  (0, _assertString.default)(str);\n  return parseInt(str, radix || 10);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = toBoolean;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction toBoolean(str, strict) {\n  (0, _assertString.default)(str);\n  if (strict) {\n    return str === '1' || /^true$/i.test(str);\n  }\n  return str !== '0' && !/^false$/i.test(str) && str !== '';\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = equals;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction equals(str, comparison) {\n  (0, _assertString.default)(str);\n  return str === comparison;\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = toString;\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction toString(input) {\n  if (_typeof(input) === 'object' && input !== null) {\n    if (typeof input.toString === 'function') {\n      input = input.toString();\n    } else {\n      input = '[object Object]';\n    }\n  } else if (input === null || typeof input === 'undefined' || isNaN(input) && !input.length) {\n    input = '';\n  }\n  return String(input);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = merge;\nfunction merge() {\n  var obj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var defaults = arguments.length > 1 ? arguments[1] : undefined;\n  for (var key in defaults) {\n    if (typeof obj[key] === 'undefined') {\n      obj[key] = defaults[key];\n    }\n  }\n  return obj;\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = contains;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nvar _toString = _interopRequireDefault(require(\"./util/toString\"));\nvar _merge = _interopRequireDefault(require(\"./util/merge\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar defaultContainsOptions = {\n  ignoreCase: false,\n  minOccurrences: 1\n};\nfunction contains(str, elem, options) {\n  (0, _assertString.default)(str);\n  options = (0, _merge.default)(options, defaultContainsOptions);\n  if (options.ignoreCase) {\n    return str.toLowerCase().split((0, _toString.default)(elem).toLowerCase()).length > options.minOccurrences;\n  }\n  return str.split((0, _toString.default)(elem)).length > options.minOccurrences;\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = matches;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction matches(str, pattern, modifiers) {\n  (0, _assertString.default)(str);\n  if (Object.prototype.toString.call(pattern) !== '[object RegExp]') {\n    pattern = new RegExp(pattern, modifiers);\n  }\n  return !!str.match(pattern);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = checkHost;\nfunction isRegExp(obj) {\n  return Object.prototype.toString.call(obj) === '[object RegExp]';\n}\nfunction checkHost(host, matches) {\n  for (var i = 0; i < matches.length; i++) {\n    var match = matches[i];\n    if (host === match || isRegExp(match) && match.test(host)) {\n      return true;\n    }\n  }\n  return false;\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isByteLength;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n/* eslint-disable prefer-rest-params */\nfunction isByteLength(str, options) {\n  (0, _assertString.default)(str);\n  var min;\n  var max;\n  if (_typeof(options) === 'object') {\n    min = options.min || 0;\n    max = options.max;\n  } else {\n    // backwards compatibility: isByteLength(str, min [, max])\n    min = arguments[1];\n    max = arguments[2];\n  }\n  var len = encodeURI(str).split(/%..|./).length - 1;\n  return len >= min && (typeof max === 'undefined' || len <= max);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isFQDN;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nvar _merge = _interopRequireDefault(require(\"./util/merge\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar default_fqdn_options = {\n  require_tld: true,\n  allow_underscores: false,\n  allow_trailing_dot: false,\n  allow_numeric_tld: false,\n  allow_wildcard: false,\n  ignore_max_length: false\n};\nfunction isFQDN(str, options) {\n  (0, _assertString.default)(str);\n  options = (0, _merge.default)(options, default_fqdn_options);\n\n  /* Remove the optional trailing dot before checking validity */\n  if (options.allow_trailing_dot && str[str.length - 1] === '.') {\n    str = str.substring(0, str.length - 1);\n  }\n\n  /* Remove the optional wildcard before checking validity */\n  if (options.allow_wildcard === true && str.indexOf('*.') === 0) {\n    str = str.substring(2);\n  }\n  var parts = str.split('.');\n  var tld = parts[parts.length - 1];\n  if (options.require_tld) {\n    // disallow fqdns without tld\n    if (parts.length < 2) {\n      return false;\n    }\n    if (!options.allow_numeric_tld && !/^([a-z\\u00A1-\\u00A8\\u00AA-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(tld)) {\n      return false;\n    }\n\n    // disallow spaces\n    if (/\\s/.test(tld)) {\n      return false;\n    }\n  }\n\n  // reject numeric TLDs\n  if (!options.allow_numeric_tld && /^\\d+$/.test(tld)) {\n    return false;\n  }\n  return parts.every(function (part) {\n    if (part.length > 63 && !options.ignore_max_length) {\n      return false;\n    }\n    if (!/^[a-z_\\u00a1-\\uffff0-9-]+$/i.test(part)) {\n      return false;\n    }\n\n    // disallow full-width chars\n    if (/[\\uff01-\\uff5e]/.test(part)) {\n      return false;\n    }\n\n    // disallow parts starting or ending with hyphen\n    if (/^-|-$/.test(part)) {\n      return false;\n    }\n    if (!options.allow_underscores && /_/.test(part)) {\n      return false;\n    }\n    return true;\n  });\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isIP;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n/**\n11.3.  Examples\n\n   The following addresses\n\n             fe80::1234 (on the 1st link of the node)\n             ff02::5678 (on the 5th link of the node)\n             ff08::9abc (on the 10th organization of the node)\n\n   would be represented as follows:\n\n             fe80::1234%1\n             ff02::5678%5\n             ff08::9abc%10\n\n   (Here we assume a natural translation from a zone index to the\n   <zone_id> part, where the Nth zone of any scope is translated into\n   \"N\".)\n\n   If we use interface names as <zone_id>, those addresses could also be\n   represented as follows:\n\n            fe80::1234%ne0\n            ff02::5678%pvc1.3\n            ff08::9abc%interface10\n\n   where the interface \"ne0\" belongs to the 1st link, \"pvc1.3\" belongs\n   to the 5th link, and \"interface10\" belongs to the 10th organization.\n * * */\nvar IPv4SegmentFormat = '(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])';\nvar IPv4AddressFormat = \"(\".concat(IPv4SegmentFormat, \"[.]){3}\").concat(IPv4SegmentFormat);\nvar IPv4AddressRegExp = new RegExp(\"^\".concat(IPv4AddressFormat, \"$\"));\nvar IPv6SegmentFormat = '(?:[0-9a-fA-F]{1,4})';\nvar IPv6AddressRegExp = new RegExp('^(' + \"(?:\".concat(IPv6SegmentFormat, \":){7}(?:\").concat(IPv6SegmentFormat, \"|:)|\") + \"(?:\".concat(IPv6SegmentFormat, \":){6}(?:\").concat(IPv4AddressFormat, \"|:\").concat(IPv6SegmentFormat, \"|:)|\") + \"(?:\".concat(IPv6SegmentFormat, \":){5}(?::\").concat(IPv4AddressFormat, \"|(:\").concat(IPv6SegmentFormat, \"){1,2}|:)|\") + \"(?:\".concat(IPv6SegmentFormat, \":){4}(?:(:\").concat(IPv6SegmentFormat, \"){0,1}:\").concat(IPv4AddressFormat, \"|(:\").concat(IPv6SegmentFormat, \"){1,3}|:)|\") + \"(?:\".concat(IPv6SegmentFormat, \":){3}(?:(:\").concat(IPv6SegmentFormat, \"){0,2}:\").concat(IPv4AddressFormat, \"|(:\").concat(IPv6SegmentFormat, \"){1,4}|:)|\") + \"(?:\".concat(IPv6SegmentFormat, \":){2}(?:(:\").concat(IPv6SegmentFormat, \"){0,3}:\").concat(IPv4AddressFormat, \"|(:\").concat(IPv6SegmentFormat, \"){1,5}|:)|\") + \"(?:\".concat(IPv6SegmentFormat, \":){1}(?:(:\").concat(IPv6SegmentFormat, \"){0,4}:\").concat(IPv4AddressFormat, \"|(:\").concat(IPv6SegmentFormat, \"){1,6}|:)|\") + \"(?::((?::\".concat(IPv6SegmentFormat, \"){0,5}:\").concat(IPv4AddressFormat, \"|(?::\").concat(IPv6SegmentFormat, \"){1,7}|:))\") + ')(%[0-9a-zA-Z.]{1,})?$');\nfunction isIP(ipAddress) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  (0, _assertString.default)(ipAddress);\n\n  // accessing 'arguments' for backwards compatibility: isIP(ipAddress [, version])\n  // eslint-disable-next-line prefer-rest-params\n  var version = (_typeof(options) === 'object' ? options.version : arguments[1]) || '';\n  if (!version) {\n    return isIP(ipAddress, {\n      version: 4\n    }) || isIP(ipAddress, {\n      version: 6\n    });\n  }\n  if (version.toString() === '4') {\n    return IPv4AddressRegExp.test(ipAddress);\n  }\n  if (version.toString() === '6') {\n    return IPv6AddressRegExp.test(ipAddress);\n  }\n  return false;\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isEmail;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nvar _checkHost = _interopRequireDefault(require(\"./util/checkHost\"));\nvar _isByteLength = _interopRequireDefault(require(\"./isByteLength\"));\nvar _isFQDN = _interopRequireDefault(require(\"./isFQDN\"));\nvar _isIP = _interopRequireDefault(require(\"./isIP\"));\nvar _merge = _interopRequireDefault(require(\"./util/merge\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar default_email_options = {\n  allow_display_name: false,\n  allow_underscores: false,\n  require_display_name: false,\n  allow_utf8_local_part: true,\n  require_tld: true,\n  blacklisted_chars: '',\n  ignore_max_length: false,\n  host_blacklist: [],\n  host_whitelist: []\n};\n\n/* eslint-disable max-len */\n/* eslint-disable no-control-regex */\nvar splitNameAddress = /^([^\\x00-\\x1F\\x7F-\\x9F\\cX]+)</i;\nvar emailUserPart = /^[a-z\\d!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]+$/i;\nvar gmailUserPart = /^[a-z\\d]+$/;\nvar quotedEmailUser = /^([\\s\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f\\x21\\x23-\\x5b\\x5d-\\x7e]|(\\\\[\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]))*$/i;\nvar emailUserUtf8Part = /^[a-z\\d!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~\\u00A1-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+$/i;\nvar quotedEmailUserUtf8 = /^([\\s\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f\\x21\\x23-\\x5b\\x5d-\\x7e\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]|(\\\\[\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))*$/i;\nvar defaultMaxEmailLength = 254;\n/* eslint-enable max-len */\n/* eslint-enable no-control-regex */\n\n/**\n * Validate display name according to the RFC2822: https://tools.ietf.org/html/rfc2822#appendix-A.1.2\n * @param {String} display_name\n */\nfunction validateDisplayName(display_name) {\n  var display_name_without_quotes = display_name.replace(/^\"(.+)\"$/, '$1');\n  // display name with only spaces is not valid\n  if (!display_name_without_quotes.trim()) {\n    return false;\n  }\n\n  // check whether display name contains illegal character\n  var contains_illegal = /[\\.\";<>]/.test(display_name_without_quotes);\n  if (contains_illegal) {\n    // if contains illegal characters,\n    // must to be enclosed in double-quotes, otherwise it's not a valid display name\n    if (display_name_without_quotes === display_name) {\n      return false;\n    }\n\n    // the quotes in display name must start with character symbol \\\n    var all_start_with_back_slash = display_name_without_quotes.split('\"').length === display_name_without_quotes.split('\\\\\"').length;\n    if (!all_start_with_back_slash) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction isEmail(str, options) {\n  (0, _assertString.default)(str);\n  options = (0, _merge.default)(options, default_email_options);\n  if (options.require_display_name || options.allow_display_name) {\n    var display_email = str.match(splitNameAddress);\n    if (display_email) {\n      var display_name = display_email[1];\n\n      // Remove display name and angle brackets to get email address\n      // Can be done in the regex but will introduce a ReDOS (See  #1597 for more info)\n      str = str.replace(display_name, '').replace(/(^<|>$)/g, '');\n\n      // sometimes need to trim the last space to get the display name\n      // because there may be a space between display name and email address\n      // eg. myname <address@gmail.com>\n      // the display name is `myname` instead of `myname `, so need to trim the last space\n      if (display_name.endsWith(' ')) {\n        display_name = display_name.slice(0, -1);\n      }\n      if (!validateDisplayName(display_name)) {\n        return false;\n      }\n    } else if (options.require_display_name) {\n      return false;\n    }\n  }\n  if (!options.ignore_max_length && str.length > defaultMaxEmailLength) {\n    return false;\n  }\n  var parts = str.split('@');\n  var domain = parts.pop();\n  var lower_domain = domain.toLowerCase();\n  if (options.host_blacklist.length > 0 && (0, _checkHost.default)(lower_domain, options.host_blacklist)) {\n    return false;\n  }\n  if (options.host_whitelist.length > 0 && !(0, _checkHost.default)(lower_domain, options.host_whitelist)) {\n    return false;\n  }\n  var user = parts.join('@');\n  if (options.domain_specific_validation && (lower_domain === 'gmail.com' || lower_domain === 'googlemail.com')) {\n    /*\n    Previously we removed dots for gmail addresses before validating.\n    This was removed because it allows `multiple..dots@gmail.com`\n    to be reported as valid, but it is not.\n    Gmail only normalizes single dots, removing them from here is pointless,\n    should be done in normalizeEmail\n    */\n    user = user.toLowerCase();\n\n    // Removing sub-address from username before gmail validation\n    var username = user.split('+')[0];\n\n    // Dots are not included in gmail length restriction\n    if (!(0, _isByteLength.default)(username.replace(/\\./g, ''), {\n      min: 6,\n      max: 30\n    })) {\n      return false;\n    }\n    var _user_parts = username.split('.');\n    for (var i = 0; i < _user_parts.length; i++) {\n      if (!gmailUserPart.test(_user_parts[i])) {\n        return false;\n      }\n    }\n  }\n  if (options.ignore_max_length === false && (!(0, _isByteLength.default)(user, {\n    max: 64\n  }) || !(0, _isByteLength.default)(domain, {\n    max: 254\n  }))) {\n    return false;\n  }\n  if (!(0, _isFQDN.default)(domain, {\n    require_tld: options.require_tld,\n    ignore_max_length: options.ignore_max_length,\n    allow_underscores: options.allow_underscores\n  })) {\n    if (!options.allow_ip_domain) {\n      return false;\n    }\n    if (!(0, _isIP.default)(domain)) {\n      if (!domain.startsWith('[') || !domain.endsWith(']')) {\n        return false;\n      }\n      var noBracketdomain = domain.slice(1, -1);\n      if (noBracketdomain.length === 0 || !(0, _isIP.default)(noBracketdomain)) {\n        return false;\n      }\n    }\n  }\n  if (options.blacklisted_chars) {\n    if (user.search(new RegExp(\"[\".concat(options.blacklisted_chars, \"]+\"), 'g')) !== -1) return false;\n  }\n  if (user[0] === '\"' && user[user.length - 1] === '\"') {\n    user = user.slice(1, user.length - 1);\n    return options.allow_utf8_local_part ? quotedEmailUserUtf8.test(user) : quotedEmailUser.test(user);\n  }\n  var pattern = options.allow_utf8_local_part ? emailUserUtf8Part : emailUserPart;\n  var user_parts = user.split('.');\n  for (var _i = 0; _i < user_parts.length; _i++) {\n    if (!pattern.test(user_parts[_i])) {\n      return false;\n    }\n  }\n  return true;\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar includes = function includes(str, val) {\n  return str.indexOf(val) !== -1;\n};\nvar _default = exports.default = includes;\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isURL;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nvar _checkHost = _interopRequireDefault(require(\"./util/checkHost\"));\nvar _includesString = _interopRequireDefault(require(\"./util/includesString\"));\nvar _isFQDN = _interopRequireDefault(require(\"./isFQDN\"));\nvar _isIP = _interopRequireDefault(require(\"./isIP\"));\nvar _merge = _interopRequireDefault(require(\"./util/merge\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\n/*\noptions for isURL method\n\nprotocols - valid protocols can be modified with this option.\nrequire_tld - If set to false isURL will not check if the URL's host includes a top-level domain.\nrequire_protocol - if set to true isURL will return false if protocol is not present in the URL.\nrequire_host - if set to false isURL will not check if host is present in the URL.\nrequire_port - if set to true isURL will check if port is present in the URL.\nrequire_valid_protocol - isURL will check if the URL's protocol is present in the protocols option.\nallow_underscores - if set to true, the validator will allow underscores in the URL.\nhost_whitelist - if set to an array of strings or regexp, and the domain matches none of the strings\n                 defined in it, the validation fails.\nhost_blacklist - if set to an array of strings or regexp, and the domain matches any of the strings\n                 defined in it, the validation fails.\nallow_trailing_dot - if set to true, the validator will allow the domain to end with\n                     a `.` character.\nallow_protocol_relative_urls - if set to true protocol relative URLs will be allowed.\nallow_fragments - if set to false isURL will return false if fragments are present.\nallow_query_components - if set to false isURL will return false if query components are present.\ndisallow_auth - if set to true, the validator will fail if the URL contains an authentication\n                component, e.g. `http://username:password@example.com`\nvalidate_length - if set to false isURL will skip string length validation. `max_allowed_length`\n                  will be ignored if this is set as `false`.\nmax_allowed_length - if set, isURL will not allow URLs longer than the specified value (default is\n                     2084 that IE maximum URL length).\n\n*/\n\nvar default_url_options = {\n  protocols: ['http', 'https', 'ftp'],\n  require_tld: true,\n  require_protocol: false,\n  require_host: true,\n  require_port: false,\n  require_valid_protocol: true,\n  allow_underscores: false,\n  allow_trailing_dot: false,\n  allow_protocol_relative_urls: false,\n  allow_fragments: true,\n  allow_query_components: true,\n  validate_length: true,\n  max_allowed_length: 2084\n};\nvar wrapped_ipv6 = /^\\[([^\\]]+)\\](?::([0-9]+))?$/;\nfunction isURL(url, options) {\n  (0, _assertString.default)(url);\n  if (!url || /[\\s<>]/.test(url)) {\n    return false;\n  }\n  if (url.indexOf('mailto:') === 0) {\n    return false;\n  }\n  options = (0, _merge.default)(options, default_url_options);\n  if (options.validate_length && url.length > options.max_allowed_length) {\n    return false;\n  }\n  if (!options.allow_fragments && (0, _includesString.default)(url, '#')) {\n    return false;\n  }\n  if (!options.allow_query_components && ((0, _includesString.default)(url, '?') || (0, _includesString.default)(url, '&'))) {\n    return false;\n  }\n  var protocol, auth, host, hostname, port, port_str, split, ipv6;\n  split = url.split('#');\n  url = split.shift();\n  split = url.split('?');\n  url = split.shift();\n\n  // Replaced the 'split(\"://\")' logic with a regex to match the protocol.\n  // This correctly identifies schemes like `javascript:` which don't use `//`.\n  // However, we need to be careful not to confuse authentication credentials (user:password@host)\n  // with protocols. A colon before an @ symbol might be part of auth, not a protocol separator.\n  var protocol_match = url.match(/^([a-z][a-z0-9+\\-.]*):/i);\n  var had_explicit_protocol = false;\n  var cleanUpProtocol = function cleanUpProtocol(potential_protocol) {\n    had_explicit_protocol = true;\n    protocol = potential_protocol.toLowerCase();\n    if (options.require_valid_protocol && options.protocols.indexOf(protocol) === -1) {\n      // The identified protocol is not in the allowed list.\n      return false;\n    }\n\n    // Remove the protocol from the URL string.\n    return url.substring(protocol_match[0].length);\n  };\n  if (protocol_match) {\n    var potential_protocol = protocol_match[1];\n    var after_colon = url.substring(protocol_match[0].length);\n\n    // Check if what follows looks like authentication credentials (user:password@host)\n    // rather than a protocol. This happens when:\n    // 1. There's no `//` after the colon (protocols like `http://` have this)\n    // 2. There's an `@` symbol before any `/`\n    // 3. The part before `@` contains only valid auth characters (alphanumeric, -, _, ., %, :)\n    var starts_with_slashes = after_colon.slice(0, 2) === '//';\n    if (!starts_with_slashes) {\n      var first_slash_position = after_colon.indexOf('/');\n      var before_slash = first_slash_position === -1 ? after_colon : after_colon.substring(0, first_slash_position);\n      var at_position = before_slash.indexOf('@');\n      if (at_position !== -1) {\n        var before_at = before_slash.substring(0, at_position);\n        var valid_auth_regex = /^[a-zA-Z0-9\\-_.%:]*$/;\n        var is_valid_auth = valid_auth_regex.test(before_at);\n        if (is_valid_auth) {\n          // This looks like authentication (e.g., user:password@host), not a protocol\n          if (options.require_protocol) {\n            return false;\n          }\n\n          // Don't consume the colon; let the auth parsing handle it later\n        } else {\n          // This looks like a malicious protocol (e.g., javascript:alert();@host)\n          url = cleanUpProtocol(potential_protocol);\n          if (url === false) {\n            return false;\n          }\n        }\n      } else {\n        // No @ symbol found. Check if this could be a port number instead of a protocol.\n        // If what's after the colon is numeric (or starts with a digit and contains only\n        // valid port characters until a path separator), it's likely hostname:port, not a protocol.\n        var looks_like_port = /^[0-9]/.test(after_colon);\n        if (looks_like_port) {\n          // This looks like hostname:port, not a protocol\n          if (options.require_protocol) {\n            return false;\n          }\n          // Don't consume anything; let it be parsed as hostname:port\n        } else {\n          // This is definitely a protocol\n          url = cleanUpProtocol(potential_protocol);\n          if (url === false) {\n            return false;\n          }\n        }\n      }\n    } else {\n      // Starts with '//', this is definitely a protocol like http://\n      url = cleanUpProtocol(potential_protocol);\n      if (url === false) {\n        return false;\n      }\n    }\n  } else if (options.require_protocol) {\n    return false;\n  }\n\n  // Handle leading '//' only as protocol-relative when there was NO explicit protocol.\n  // If there was an explicit protocol, '//' is the normal separator\n  // and should be stripped unconditionally.\n  if (url.slice(0, 2) === '//') {\n    if (!had_explicit_protocol && !options.allow_protocol_relative_urls) {\n      return false;\n    }\n    url = url.slice(2);\n  }\n  if (url === '') {\n    return false;\n  }\n  split = url.split('/');\n  url = split.shift();\n  if (url === '' && !options.require_host) {\n    return true;\n  }\n  split = url.split('@');\n  if (split.length > 1) {\n    if (options.disallow_auth) {\n      return false;\n    }\n    if (split[0] === '') {\n      return false;\n    }\n    auth = split.shift();\n    if (auth.indexOf(':') >= 0 && auth.split(':').length > 2) {\n      return false;\n    }\n    var _auth$split = auth.split(':'),\n      _auth$split2 = _slicedToArray(_auth$split, 2),\n      user = _auth$split2[0],\n      password = _auth$split2[1];\n    if (user === '' && password === '') {\n      return false;\n    }\n  }\n  hostname = split.join('@');\n  port_str = null;\n  ipv6 = null;\n  var ipv6_match = hostname.match(wrapped_ipv6);\n  if (ipv6_match) {\n    host = '';\n    ipv6 = ipv6_match[1];\n    port_str = ipv6_match[2] || null;\n  } else {\n    split = hostname.split(':');\n    host = split.shift();\n    if (split.length) {\n      port_str = split.join(':');\n    }\n  }\n  if (port_str !== null && port_str.length > 0) {\n    port = parseInt(port_str, 10);\n    if (!/^[0-9]+$/.test(port_str) || port <= 0 || port > 65535) {\n      return false;\n    }\n  } else if (options.require_port) {\n    return false;\n  }\n  if (options.host_whitelist) {\n    return (0, _checkHost.default)(host, options.host_whitelist);\n  }\n  if (host === '' && !options.require_host) {\n    return true;\n  }\n  if (!(0, _isIP.default)(host) && !(0, _isFQDN.default)(host, options) && (!ipv6 || !(0, _isIP.default)(ipv6, 6))) {\n    return false;\n  }\n  host = host || ipv6;\n  if (options.host_blacklist && (0, _checkHost.default)(host, options.host_blacklist)) {\n    return false;\n  }\n  return true;\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isMACAddress;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar macAddress48 = /^(?:[0-9a-fA-F]{2}([-:\\s]))([0-9a-fA-F]{2}\\1){4}([0-9a-fA-F]{2})$/;\nvar macAddress48NoSeparators = /^([0-9a-fA-F]){12}$/;\nvar macAddress48WithDots = /^([0-9a-fA-F]{4}\\.){2}([0-9a-fA-F]{4})$/;\nvar macAddress64 = /^(?:[0-9a-fA-F]{2}([-:\\s]))([0-9a-fA-F]{2}\\1){6}([0-9a-fA-F]{2})$/;\nvar macAddress64NoSeparators = /^([0-9a-fA-F]){16}$/;\nvar macAddress64WithDots = /^([0-9a-fA-F]{4}\\.){3}([0-9a-fA-F]{4})$/;\nfunction isMACAddress(str, options) {\n  (0, _assertString.default)(str);\n  if (options !== null && options !== void 0 && options.eui) {\n    options.eui = String(options.eui);\n  }\n  /**\n   * @deprecated `no_colons` TODO: remove it in the next major\n  */\n  if (options !== null && options !== void 0 && options.no_colons || options !== null && options !== void 0 && options.no_separators) {\n    if (options.eui === '48') {\n      return macAddress48NoSeparators.test(str);\n    }\n    if (options.eui === '64') {\n      return macAddress64NoSeparators.test(str);\n    }\n    return macAddress48NoSeparators.test(str) || macAddress64NoSeparators.test(str);\n  }\n  if ((options === null || options === void 0 ? void 0 : options.eui) === '48') {\n    return macAddress48.test(str) || macAddress48WithDots.test(str);\n  }\n  if ((options === null || options === void 0 ? void 0 : options.eui) === '64') {\n    return macAddress64.test(str) || macAddress64WithDots.test(str);\n  }\n  return isMACAddress(str, {\n    eui: '48'\n  }) || isMACAddress(str, {\n    eui: '64'\n  });\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isIPRange;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nvar _isIP = _interopRequireDefault(require(\"./isIP\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar subnetMaybe = /^\\d{1,3}$/;\nvar v4Subnet = 32;\nvar v6Subnet = 128;\nfunction isIPRange(str) {\n  var version = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  (0, _assertString.default)(str);\n  var parts = str.split('/');\n\n  // parts[0] -> ip, parts[1] -> subnet\n  if (parts.length !== 2) {\n    return false;\n  }\n  if (!subnetMaybe.test(parts[1])) {\n    return false;\n  }\n\n  // Disallow preceding 0 i.e. 01, 02, ...\n  if (parts[1].length > 1 && parts[1].startsWith('0')) {\n    return false;\n  }\n  var isValidIP = (0, _isIP.default)(parts[0], version);\n  if (!isValidIP) {\n    return false;\n  }\n\n  // Define valid subnet according to IP's version\n  var expectedSubnet = null;\n  switch (String(version)) {\n    case '4':\n      expectedSubnet = v4Subnet;\n      break;\n    case '6':\n      expectedSubnet = v6Subnet;\n      break;\n    default:\n      expectedSubnet = (0, _isIP.default)(parts[0], '6') ? v6Subnet : v4Subnet;\n  }\n  return parts[1] <= expectedSubnet && parts[1] >= 0;\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isDate;\nvar _merge = _interopRequireDefault(require(\"./util/merge\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nfunction _createForOfIteratorHelper(r, e) { var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t.return || t.return(); } finally { if (u) throw o; } } }; }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nvar default_date_options = {\n  format: 'YYYY/MM/DD',\n  delimiters: ['/', '-'],\n  strictMode: false\n};\nfunction isValidFormat(format) {\n  return /(^(y{4}|y{2})[.\\/-](m{1,2})[.\\/-](d{1,2})$)|(^(m{1,2})[.\\/-](d{1,2})[.\\/-]((y{4}|y{2})$))|(^(d{1,2})[.\\/-](m{1,2})[.\\/-]((y{4}|y{2})$))/gi.test(format);\n}\nfunction zip(date, format) {\n  var zippedArr = [],\n    len = Math.max(date.length, format.length);\n  for (var i = 0; i < len; i++) {\n    zippedArr.push([date[i], format[i]]);\n  }\n  return zippedArr;\n}\nfunction isDate(input, options) {\n  if (typeof options === 'string') {\n    // Allow backward compatibility for old format isDate(input [, format])\n    options = (0, _merge.default)({\n      format: options\n    }, default_date_options);\n  } else {\n    options = (0, _merge.default)(options, default_date_options);\n  }\n  if (typeof input === 'string' && isValidFormat(options.format)) {\n    if (options.strictMode && input.length !== options.format.length) return false;\n    var formatDelimiter = options.delimiters.find(function (delimiter) {\n      return options.format.indexOf(delimiter) !== -1;\n    });\n    var dateDelimiter = options.strictMode ? formatDelimiter : options.delimiters.find(function (delimiter) {\n      return input.indexOf(delimiter) !== -1;\n    });\n    var dateAndFormat = zip(input.split(dateDelimiter), options.format.toLowerCase().split(formatDelimiter));\n    var dateObj = {};\n    var _iterator = _createForOfIteratorHelper(dateAndFormat),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var _step$value = _slicedToArray(_step.value, 2),\n          dateWord = _step$value[0],\n          formatWord = _step$value[1];\n        if (!dateWord || !formatWord || dateWord.length !== formatWord.length) {\n          return false;\n        }\n        dateObj[formatWord.charAt(0)] = dateWord;\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n    var fullYear = dateObj.y;\n\n    // Check if the year starts with a hyphen\n    if (fullYear.startsWith('-')) {\n      return false; // Hyphen before year is not allowed\n    }\n    if (dateObj.y.length === 2) {\n      var parsedYear = parseInt(dateObj.y, 10);\n      if (isNaN(parsedYear)) {\n        return false;\n      }\n      var currentYearLastTwoDigits = new Date().getFullYear() % 100;\n      if (parsedYear < currentYearLastTwoDigits) {\n        fullYear = \"20\".concat(dateObj.y);\n      } else {\n        fullYear = \"19\".concat(dateObj.y);\n      }\n    }\n    var month = dateObj.m;\n    if (dateObj.m.length === 1) {\n      month = \"0\".concat(dateObj.m);\n    }\n    var day = dateObj.d;\n    if (dateObj.d.length === 1) {\n      day = \"0\".concat(dateObj.d);\n    }\n    return new Date(\"\".concat(fullYear, \"-\").concat(month, \"-\").concat(day, \"T00:00:00.000Z\")).getUTCDate() === +dateObj.d;\n  }\n  if (!options.strictMode) {\n    return Object.prototype.toString.call(input) === '[object Date]' && isFinite(input);\n  }\n  return false;\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isTime;\nvar _merge = _interopRequireDefault(require(\"./util/merge\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar default_time_options = {\n  hourFormat: 'hour24',\n  mode: 'default'\n};\nvar formats = {\n  hour24: {\n    default: /^([01]?[0-9]|2[0-3]):([0-5][0-9])$/,\n    withSeconds: /^([01]?[0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$/,\n    withOptionalSeconds: /^([01]?[0-9]|2[0-3]):([0-5][0-9])(?::([0-5][0-9]))?$/\n  },\n  hour12: {\n    default: /^(0?[1-9]|1[0-2]):([0-5][0-9]) (A|P)M$/,\n    withSeconds: /^(0?[1-9]|1[0-2]):([0-5][0-9]):([0-5][0-9]) (A|P)M$/,\n    withOptionalSeconds: /^(0?[1-9]|1[0-2]):([0-5][0-9])(?::([0-5][0-9]))? (A|P)M$/\n  }\n};\nfunction isTime(input, options) {\n  options = (0, _merge.default)(options, default_time_options);\n  if (typeof input !== 'string') return false;\n  return formats[options.hourFormat][options.mode].test(input);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar includes = function includes(arr, val) {\n  return arr.some(function (arrVal) {\n    return val === arrVal;\n  });\n};\nvar _default = exports.default = includes;\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isBoolean;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nvar _includesArray = _interopRequireDefault(require(\"./util/includesArray\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar defaultOptions = {\n  loose: false\n};\nvar strictBooleans = ['true', 'false', '1', '0'];\nvar looseBooleans = [].concat(strictBooleans, ['yes', 'no']);\nfunction isBoolean(str) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultOptions;\n  (0, _assertString.default)(str);\n  if (options.loose) {\n    return (0, _includesArray.default)(looseBooleans, str.toLowerCase());\n  }\n  return (0, _includesArray.default)(strictBooleans, str);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isLocale;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\n/*\n  = 3ALPHA              ; selected ISO 639 codes\n    *2(\"-\" 3ALPHA)      ; permanently reserved\n */\nvar extlang = '([A-Za-z]{3}(-[A-Za-z]{3}){0,2})';\n\n/*\n  = 2*3ALPHA            ; shortest ISO 639 code\n    [\"-\" extlang]       ; sometimes followed by\n                        ; extended language subtags\n  / 4ALPHA              ; or reserved for future use\n  / 5*8ALPHA            ; or registered language subtag\n */\nvar language = \"(([a-zA-Z]{2,3}(-\".concat(extlang, \")?)|([a-zA-Z]{5,8}))\");\n\n/*\n  = 4ALPHA              ; ISO 15924 code\n */\nvar script = '([A-Za-z]{4})';\n\n/*\n  = 2ALPHA              ; ISO 3166-1 code\n  / 3DIGIT              ; UN M.49 code\n */\nvar region = '([A-Za-z]{2}|\\\\d{3})';\n\n/*\n  = 5*8alphanum         ; registered variants\n  / (DIGIT 3alphanum)\n */\nvar variant = '([A-Za-z0-9]{5,8}|(\\\\d[A-Z-a-z0-9]{3}))';\n\n/*\n  = DIGIT               ; 0 - 9\n  / %x41-57             ; A - W\n  / %x59-5A             ; Y - Z\n  / %x61-77             ; a - w\n  / %x79-7A             ; y - z\n */\nvar singleton = '(\\\\d|[A-W]|[Y-Z]|[a-w]|[y-z])';\n\n/*\n  = singleton 1*(\"-\" (2*8alphanum))\n                        ; Single alphanumerics\n                        ; \"x\" reserved for private use\n */\nvar extension = \"(\".concat(singleton, \"(-[A-Za-z0-9]{2,8})+)\");\n\n/*\n  = \"x\" 1*(\"-\" (1*8alphanum))\n */\nvar privateuse = '(x(-[A-Za-z0-9]{1,8})+)';\n\n// irregular tags do not match the 'langtag' production and would not\n// otherwise be considered 'well-formed'. These tags are all valid, but\n// most are deprecated in favor of more modern subtags or subtag combination\n\nvar irregular = '((en-GB-oed)|(i-ami)|(i-bnn)|(i-default)|(i-enochian)|' + '(i-hak)|(i-klingon)|(i-lux)|(i-mingo)|(i-navajo)|(i-pwn)|(i-tao)|' + '(i-tay)|(i-tsu)|(sgn-BE-FR)|(sgn-BE-NL)|(sgn-CH-DE))';\n\n// regular tags match the 'langtag' production, but their subtags are not\n// extended language or variant subtags: their meaning is defined by\n// their registration and all of these are deprecated in favor of a more\n// modern subtag or sequence of subtags\n\nvar regular = '((art-lojban)|(cel-gaulish)|(no-bok)|(no-nyn)|(zh-guoyu)|' + '(zh-hakka)|(zh-min)|(zh-min-nan)|(zh-xiang))';\n\n/*\n  = irregular           ; non-redundant tags registered\n  / regular             ; during the RFC 3066 era\n\n */\nvar grandfathered = \"(\".concat(irregular, \"|\").concat(regular, \")\");\n\n/*\n  RFC 5646 defines delimitation of subtags via a hyphen:\n\n      \"Subtag\" refers to a specific section of a tag, delimited by a\n      hyphen, such as the subtags 'zh', 'Hant', and 'CN' in the tag \"zh-\n      Hant-CN\".  Examples of subtags in this document are enclosed in\n      single quotes ('Hant')\n\n  However, we need to add \"_\" to maintain the existing behaviour.\n */\nvar delimiter = '(-|_)';\n\n/*\n  = language\n    [\"-\" script]\n    [\"-\" region]\n    *(\"-\" variant)\n    *(\"-\" extension)\n    [\"-\" privateuse]\n */\nvar langtag = \"\".concat(language, \"(\").concat(delimiter).concat(script, \")?(\").concat(delimiter).concat(region, \")?(\").concat(delimiter).concat(variant, \")*(\").concat(delimiter).concat(extension, \")*(\").concat(delimiter).concat(privateuse, \")?\");\n\n/*\n  Regex implementation based on BCP RFC 5646\n  Tags for Identifying Languages\n  https://www.rfc-editor.org/rfc/rfc5646.html\n */\nvar languageTagRegex = new RegExp(\"(^\".concat(privateuse, \"$)|(^\").concat(grandfathered, \"$)|(^\").concat(langtag, \"$)\"));\nfunction isLocale(str) {\n  (0, _assertString.default)(str);\n  return languageTagRegex.test(str);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isAbaRouting;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\n// http://www.brainjar.com/js/validation/\n// https://www.aba.com/news-research/research-analysis/routing-number-policy-procedures\n// series reserved for future use are excluded\nvar isRoutingReg = /^(?!(1[3-9])|(20)|(3[3-9])|(4[0-9])|(5[0-9])|(60)|(7[3-9])|(8[1-9])|(9[0-2])|(9[3-9]))[0-9]{9}$/;\nfunction isAbaRouting(str) {\n  (0, _assertString.default)(str);\n  if (!isRoutingReg.test(str)) return false;\n  var checkSumVal = 0;\n  for (var i = 0; i < str.length; i++) {\n    if (i % 3 === 0) checkSumVal += str[i] * 3;else if (i % 3 === 1) checkSumVal += str[i] * 7;else checkSumVal += str[i] * 1;\n  }\n  return checkSumVal % 10 === 0;\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isAlpha;\nexports.locales = void 0;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nvar _alpha = require(\"./alpha\");\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction isAlpha(_str) {\n  var locale = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'en-US';\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  (0, _assertString.default)(_str);\n  var str = _str;\n  var ignore = options.ignore;\n  if (ignore) {\n    if (ignore instanceof RegExp) {\n      str = str.replace(ignore, '');\n    } else if (typeof ignore === 'string') {\n      str = str.replace(new RegExp(\"[\".concat(ignore.replace(/[-[\\]{}()*+?.,\\\\^$|#\\\\s]/g, '\\\\$&'), \"]\"), 'g'), ''); // escape regex for ignore\n    } else {\n      throw new Error('ignore should be instance of a String or RegExp');\n    }\n  }\n  if (locale in _alpha.alpha) {\n    return _alpha.alpha[locale].test(str);\n  }\n  throw new Error(\"Invalid locale '\".concat(locale, \"'\"));\n}\nvar locales = exports.locales = Object.keys(_alpha.alpha);", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isAlphanumeric;\nexports.locales = void 0;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nvar _alpha = require(\"./alpha\");\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction isAlphanumeric(_str) {\n  var locale = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'en-US';\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  (0, _assertString.default)(_str);\n  var str = _str;\n  var ignore = options.ignore;\n  if (ignore) {\n    if (ignore instanceof RegExp) {\n      str = str.replace(ignore, '');\n    } else if (typeof ignore === 'string') {\n      str = str.replace(new RegExp(\"[\".concat(ignore.replace(/[-[\\]{}()*+?.,\\\\^$|#\\\\s]/g, '\\\\$&'), \"]\"), 'g'), ''); // escape regex for ignore\n    } else {\n      throw new Error('ignore should be instance of a String or RegExp');\n    }\n  }\n  if (locale in _alpha.alphanumeric) {\n    return _alpha.alphanumeric[locale].test(str);\n  }\n  throw new Error(\"Invalid locale '\".concat(locale, \"'\"));\n}\nvar locales = exports.locales = Object.keys(_alpha.alphanumeric);", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isNumeric;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nvar _alpha = require(\"./alpha\");\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar numericNoSymbols = /^[0-9]+$/;\nfunction isNumeric(str, options) {\n  (0, _assertString.default)(str);\n  if (options && options.no_symbols) {\n    return numericNoSymbols.test(str);\n  }\n  return new RegExp(\"^[+-]?([0-9]*[\".concat((options || {}).locale ? _alpha.decimal[options.locale] : '.', \"])?[0-9]+$\")).test(str);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isPassportNumber;\nexports.locales = void 0;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\n/**\n * Reference:\n * https://en.wikipedia.org/ -- Wikipedia\n * https://docs.microsoft.com/en-us/microsoft-365/compliance/eu-passport-number -- EU Passport Number\n * https://countrycode.org/ -- Country Codes\n */\nvar passportRegexByCountryCode = {\n  AM: /^[A-Z]{2}\\d{7}$/,\n  // ARMENIA\n  AR: /^[A-Z]{3}\\d{6}$/,\n  // ARGENTINA\n  AT: /^[A-Z]\\d{7}$/,\n  // AUSTRIA\n  AU: /^[A-Z]\\d{7}$/,\n  // AUSTRALIA\n  AZ: /^[A-Z]{1}\\d{8}$/,\n  // AZERBAIJAN\n  BE: /^[A-Z]{2}\\d{6}$/,\n  // BELGIUM\n  BG: /^\\d{9}$/,\n  // BULGARIA\n  BR: /^[A-Z]{2}\\d{6}$/,\n  // BRAZIL\n  BY: /^[A-Z]{2}\\d{7}$/,\n  // BELARUS\n  CA: /^[A-Z]{2}\\d{6}$|^[A-Z]\\d{6}[A-Z]{2}$/,\n  // CANADA\n  CH: /^[A-Z]\\d{7}$/,\n  // SWITZERLAND\n  CN: /^G\\d{8}$|^E(?![IO])[A-Z0-9]\\d{7}$/,\n  // CHINA [G=Ordinary, E=Electronic] followed by 8-digits, or E followed by any UPPERCASE letter (except I and O) followed by 7 digits\n  CY: /^[A-Z](\\d{6}|\\d{8})$/,\n  // CYPRUS\n  CZ: /^\\d{8}$/,\n  // CZECH REPUBLIC\n  DE: /^[CFGHJKLMNPRTVWXYZ0-9]{9}$/,\n  // GERMANY\n  DK: /^\\d{9}$/,\n  // DENMARK\n  DZ: /^\\d{9}$/,\n  // ALGERIA\n  EE: /^([A-Z]\\d{7}|[A-Z]{2}\\d{7})$/,\n  // ESTONIA (K followed by 7-digits), e-passports have 2 UPPERCASE followed by 7 digits\n  ES: /^[A-Z0-9]{2}([A-Z0-9]?)\\d{6}$/,\n  // SPAIN\n  FI: /^[A-Z]{2}\\d{7}$/,\n  // FINLAND\n  FR: /^\\d{2}[A-Z]{2}\\d{5}$/,\n  // FRANCE\n  GB: /^\\d{9}$/,\n  // UNITED KINGDOM\n  GR: /^[A-Z]{2}\\d{7}$/,\n  // GREECE\n  HR: /^\\d{9}$/,\n  // CROATIA\n  HU: /^[A-Z]{2}(\\d{6}|\\d{7})$/,\n  // HUNGARY\n  IE: /^[A-Z0-9]{2}\\d{7}$/,\n  // IRELAND\n  IN: /^[A-Z]{1}-?\\d{7}$/,\n  // INDIA\n  ID: /^[A-C]\\d{7}$/,\n  // INDONESIA\n  IR: /^[A-Z]\\d{8}$/,\n  // IRAN\n  IS: /^(A)\\d{7}$/,\n  // ICELAND\n  IT: /^[A-Z0-9]{2}\\d{7}$/,\n  // ITALY\n  JM: /^[Aa]\\d{7}$/,\n  // JAMAICA\n  JP: /^[A-Z]{2}\\d{7}$/,\n  // JAPAN\n  KR: /^[MS]\\d{8}$/,\n  // SOUTH KOREA, REPUBLIC OF KOREA, [S=PS Passports, M=PM Passports]\n  KZ: /^[a-zA-Z]\\d{7}$/,\n  // KAZAKHSTAN\n  LI: /^[a-zA-Z]\\d{5}$/,\n  // LIECHTENSTEIN\n  LT: /^[A-Z0-9]{8}$/,\n  // LITHUANIA\n  LU: /^[A-Z0-9]{8}$/,\n  // LUXEMBURG\n  LV: /^[A-Z0-9]{2}\\d{7}$/,\n  // LATVIA\n  LY: /^[A-Z0-9]{8}$/,\n  // LIBYA\n  MT: /^\\d{7}$/,\n  // MALTA\n  MZ: /^([A-Z]{2}\\d{7})|(\\d{2}[A-Z]{2}\\d{5})$/,\n  // MOZAMBIQUE\n  MY: /^[AHK]\\d{8}$/,\n  // MALAYSIA\n  MX: /^\\d{10,11}$/,\n  // MEXICO\n  NL: /^[A-Z]{2}[A-Z0-9]{6}\\d$/,\n  // NETHERLANDS\n  NZ: /^([Ll]([Aa]|[Dd]|[Ff]|[Hh])|[Ee]([Aa]|[Pp])|[Nn])\\d{6}$/,\n  // NEW ZEALAND\n  PH: /^([A-Z](\\d{6}|\\d{7}[A-Z]))|([A-Z]{2}(\\d{6}|\\d{7}))$/,\n  // PHILIPPINES\n  PK: /^[A-Z]{2}\\d{7}$/,\n  // PAKISTAN\n  PL: /^[A-Z]{2}\\d{7}$/,\n  // POLAND\n  PT: /^[A-Z]\\d{6}$/,\n  // PORTUGAL\n  RO: /^\\d{8,9}$/,\n  // ROMANIA\n  RU: /^\\d{9}$/,\n  // RUSSIAN FEDERATION\n  SE: /^\\d{8}$/,\n  // SWEDEN\n  SL: /^(P)[A-Z]\\d{7}$/,\n  // SLOVENIA\n  SK: /^[0-9A-Z]\\d{7}$/,\n  // SLOVAKIA\n  TH: /^[A-Z]{1,2}\\d{6,7}$/,\n  // THAILAND\n  TR: /^[A-Z]\\d{8}$/,\n  // TURKEY\n  UA: /^[A-Z]{2}\\d{6}$/,\n  // UKRAINE\n  US: /^\\d{9}$|^[A-Z]\\d{8}$/,\n  // UNITED STATES\n  ZA: /^[TAMD]\\d{8}$/ // SOUTH AFRICA\n};\nvar locales = exports.locales = Object.keys(passportRegexByCountryCode);\n\n/**\n * Check if str is a valid passport number\n * relative to provided ISO Country Code.\n *\n * @param {string} str\n * @param {string} countryCode\n * @return {boolean}\n */\nfunction isPassportNumber(str, countryCode) {\n  (0, _assertString.default)(str);\n  /** Remove All Whitespaces, Convert to UPPERCASE */\n  var normalizedStr = str.replace(/\\s/g, '').toUpperCase();\n  return countryCode.toUpperCase() in passportRegexByCountryCode && passportRegexByCountryCode[countryCode].test(normalizedStr);\n}", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isInt;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nvar _nullUndefinedCheck = _interopRequireDefault(require(\"./util/nullUndefinedCheck\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar int = /^(?:[-+]?(?:0|[1-9][0-9]*))$/;\nvar intLeadingZeroes = /^[-+]?[0-9]+$/;\nfunction isInt(str, options) {\n  (0, _assertString.default)(str);\n  options = options || {};\n\n  // Get the regex to use for testing, based on whether\n  // leading zeroes are allowed or not.\n  var regex = options.allow_leading_zeroes === false ? int : intLeadingZeroes;\n\n  // Check min/max/lt/gt\n  var minCheckPassed = !options.hasOwnProperty('min') || (0, _nullUndefinedCheck.default)(options.min) || str >= options.min;\n  var maxCheckPassed = !options.hasOwnProperty('max') || (0, _nullUndefinedCheck.default)(options.max) || str <= options.max;\n  var ltCheckPassed = !options.hasOwnProperty('lt') || (0, _nullUndefinedCheck.default)(options.lt) || str < options.lt;\n  var gtCheckPassed = !options.hasOwnProperty('gt') || (0, _nullUndefinedCheck.default)(options.gt) || str > options.gt;\n  return regex.test(str) && minCheckPassed && maxCheckPassed && ltCheckPassed && gtCheckPassed;\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isPort;\nvar _isInt = _interopRequireDefault(require(\"./isInt\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction isPort(str) {\n  return (0, _isInt.default)(str, {\n    allow_leading_zeroes: false,\n    min: 0,\n    max: 65535\n  });\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isLowercase;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction isLowercase(str) {\n  (0, _assertString.default)(str);\n  return str === str.toLowerCase();\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isUppercase;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction isUppercase(str) {\n  (0, _assertString.default)(str);\n  return str === str.toUpperCase();\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isIMEI;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar imeiRegexWithoutHyphens = /^[0-9]{15}$/;\nvar imeiRegexWithHyphens = /^\\d{2}-\\d{6}-\\d{6}-\\d{1}$/;\nfunction isIMEI(str, options) {\n  (0, _assertString.default)(str);\n  options = options || {};\n\n  // default regex for checking imei is the one without hyphens\n\n  var imeiRegex = imeiRegexWithoutHyphens;\n  if (options.allow_hyphens) {\n    imeiRegex = imeiRegexWithHyphens;\n  }\n  if (!imeiRegex.test(str)) {\n    return false;\n  }\n  str = str.replace(/-/g, '');\n  var sum = 0,\n    mul = 2,\n    l = 14;\n  for (var i = 0; i < l; i++) {\n    var digit = str.substring(l - i - 1, l - i);\n    var tp = parseInt(digit, 10) * mul;\n    if (tp >= 10) {\n      sum += tp % 10 + 1;\n    } else {\n      sum += tp;\n    }\n    if (mul === 1) {\n      mul += 1;\n    } else {\n      mul -= 1;\n    }\n  }\n  var chk = (10 - sum % 10) % 10;\n  if (chk !== parseInt(str.substring(14, 15), 10)) {\n    return false;\n  }\n  return true;\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isAscii;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\n/* eslint-disable no-control-regex */\nvar ascii = /^[\\x00-\\x7F]+$/;\n/* eslint-enable no-control-regex */\n\nfunction isAscii(str) {\n  (0, _assertString.default)(str);\n  return ascii.test(str);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isFullWidth;\nexports.fullWidth = void 0;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar fullWidth = exports.fullWidth = /[^\\u0020-\\u007E\\uFF61-\\uFF9F\\uFFA0-\\uFFDC\\uFFE8-\\uFFEE0-9a-zA-Z]/;\nfunction isFullWidth(str) {\n  (0, _assertString.default)(str);\n  return fullWidth.test(str);\n}", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isHalfWidth;\nexports.halfWidth = void 0;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar halfWidth = exports.halfWidth = /[\\u0020-\\u007E\\uFF61-\\uFF9F\\uFFA0-\\uFFDC\\uFFE8-\\uFFEE0-9a-zA-Z]/;\nfunction isHalfWidth(str) {\n  (0, _assertString.default)(str);\n  return halfWidth.test(str);\n}", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isVariableWidth;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nvar _isFullWidth = require(\"./isFullWidth\");\nvar _isHalfWidth = require(\"./isHalfWidth\");\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction isVariableWidth(str) {\n  (0, _assertString.default)(str);\n  return _isFullWidth.fullWidth.test(str) && _isHalfWidth.halfWidth.test(str);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isMultibyte;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\n/* eslint-disable no-control-regex */\nvar multibyte = /[^\\x00-\\x7F]/;\n/* eslint-enable no-control-regex */\n\nfunction isMultibyte(str) {\n  (0, _assertString.default)(str);\n  return multibyte.test(str);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = multilineRegexp;\n/**\n * Build RegExp object from an array\n * of multiple/multi-line regexp parts\n *\n * @param {string[]} parts\n * @param {string} flags\n * @return {object} - RegExp object\n */\nfunction multilineRegexp(parts, flags) {\n  var regexpAsStringLiteral = parts.join('');\n  return new RegExp(regexpAsStringLiteral, flags);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isSemVer;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nvar _multilineRegex = _interopRequireDefault(require(\"./util/multilineRegex\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\n/**\n * Regular Expression to match\n * semantic versioning (SemVer)\n * built from multi-line, multi-parts regexp\n * Reference: https://semver.org/\n */\nvar semanticVersioningRegex = (0, _multilineRegex.default)(['^(0|[1-9]\\\\d*)\\\\.(0|[1-9]\\\\d*)\\\\.(0|[1-9]\\\\d*)', '(?:-((?:0|[1-9]\\\\d*|\\\\d*[a-z-][0-9a-z-]*)(?:\\\\.(?:0|[1-9]\\\\d*|\\\\d*[a-z-][0-9a-z-]*))*))', '?(?:\\\\+([0-9a-z-]+(?:\\\\.[0-9a-z-]+)*))?$'], 'i');\nfunction isSemVer(str) {\n  (0, _assertString.default)(str);\n  return semanticVersioningRegex.test(str);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isSurrogatePair;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar surrogatePair = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/;\nfunction isSurrogatePair(str) {\n  (0, _assertString.default)(str);\n  return surrogatePair.test(str);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isDecimal;\nvar _merge = _interopRequireDefault(require(\"./util/merge\"));\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nvar _includesArray = _interopRequireDefault(require(\"./util/includesArray\"));\nvar _alpha = require(\"./alpha\");\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction decimalRegExp(options) {\n  var regExp = new RegExp(\"^[-+]?([0-9]+)?(\\\\\".concat(_alpha.decimal[options.locale], \"[0-9]{\").concat(options.decimal_digits, \"})\").concat(options.force_decimal ? '' : '?', \"$\"));\n  return regExp;\n}\nvar default_decimal_options = {\n  force_decimal: false,\n  decimal_digits: '1,',\n  locale: 'en-US'\n};\nvar blacklist = ['', '-', '+'];\nfunction isDecimal(str, options) {\n  (0, _assertString.default)(str);\n  options = (0, _merge.default)(options, default_decimal_options);\n  if (options.locale in _alpha.decimal) {\n    return !(0, _includesArray.default)(blacklist, str.replace(/ /g, '')) && decimalRegExp(options).test(str);\n  }\n  throw new Error(\"Invalid locale '\".concat(options.locale, \"'\"));\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isHexadecimal;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar hexadecimal = /^(0x|0h)?[0-9A-F]+$/i;\nfunction isHexadecimal(str) {\n  (0, _assertString.default)(str);\n  return hexadecimal.test(str);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isOctal;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar octal = /^(0o)?[0-7]+$/i;\nfunction isOctal(str) {\n  (0, _assertString.default)(str);\n  return octal.test(str);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isDivisibleBy;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nvar _toFloat = _interopRequireDefault(require(\"./toFloat\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction isDivisibleBy(str, num) {\n  (0, _assertString.default)(str);\n  return (0, _toFloat.default)(str) % parseInt(num, 10) === 0;\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isHexColor;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar hexcolor = /^#?([0-9A-F]{3}|[0-9A-F]{4}|[0-9A-F]{6}|[0-9A-F]{8})$/i;\nfunction isHexColor(str) {\n  (0, _assertString.default)(str);\n  return hexcolor.test(str);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isRgbColor;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); } /* eslint-disable prefer-rest-params */\nvar rgbColor = /^rgb\\((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]),){2}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\)$/;\nvar rgbaColor = /^rgba\\((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]),){3}(0?\\.\\d\\d?|1(\\.0)?|0(\\.0)?)\\)$/;\nvar rgbColorPercent = /^rgb\\((([0-9]%|[1-9][0-9]%|100%),){2}([0-9]%|[1-9][0-9]%|100%)\\)$/;\nvar rgbaColorPercent = /^rgba\\((([0-9]%|[1-9][0-9]%|100%),){3}(0?\\.\\d\\d?|1(\\.0)?|0(\\.0)?)\\)$/;\nvar startsWithRgb = /^rgba?/;\nfunction isRgbColor(str, options) {\n  (0, _assertString.default)(str);\n  // default options to true for percent and false for spaces\n  var allowSpaces = false;\n  var includePercentValues = true;\n  if (_typeof(options) !== 'object') {\n    if (arguments.length >= 2) {\n      includePercentValues = arguments[1];\n    }\n  } else {\n    allowSpaces = options.allowSpaces !== undefined ? options.allowSpaces : allowSpaces;\n    includePercentValues = options.includePercentValues !== undefined ? options.includePercentValues : includePercentValues;\n  }\n  if (allowSpaces) {\n    // make sure it starts with continous rgba? without spaces before stripping\n    if (!startsWithRgb.test(str)) {\n      return false;\n    }\n    // strip all whitespace\n    str = str.replace(/\\s/g, '');\n  }\n  if (!includePercentValues) {\n    return rgbColor.test(str) || rgbaColor.test(str);\n  }\n  return rgbColor.test(str) || rgbaColor.test(str) || rgbColorPercent.test(str) || rgbaColorPercent.test(str);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isHSL;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar hslComma = /^hsla?\\(((\\+|\\-)?([0-9]+(\\.[0-9]+)?(e(\\+|\\-)?[0-9]+)?|\\.[0-9]+(e(\\+|\\-)?[0-9]+)?))(deg|grad|rad|turn)?(,(\\+|\\-)?([0-9]+(\\.[0-9]+)?(e(\\+|\\-)?[0-9]+)?|\\.[0-9]+(e(\\+|\\-)?[0-9]+)?)%){2}(,((\\+|\\-)?([0-9]+(\\.[0-9]+)?(e(\\+|\\-)?[0-9]+)?|\\.[0-9]+(e(\\+|\\-)?[0-9]+)?)%?))?\\)$/i;\nvar hslSpace = /^hsla?\\(((\\+|\\-)?([0-9]+(\\.[0-9]+)?(e(\\+|\\-)?[0-9]+)?|\\.[0-9]+(e(\\+|\\-)?[0-9]+)?))(deg|grad|rad|turn)?(\\s(\\+|\\-)?([0-9]+(\\.[0-9]+)?(e(\\+|\\-)?[0-9]+)?|\\.[0-9]+(e(\\+|\\-)?[0-9]+)?)%){2}\\s?(\\/\\s((\\+|\\-)?([0-9]+(\\.[0-9]+)?(e(\\+|\\-)?[0-9]+)?|\\.[0-9]+(e(\\+|\\-)?[0-9]+)?)%?)\\s?)?\\)$/i;\nfunction isHSL(str) {\n  (0, _assertString.default)(str);\n\n  // Strip duplicate spaces before calling the validation regex (See  #1598 for more info)\n  var strippedStr = str.replace(/\\s+/g, ' ').replace(/\\s?(hsla?\\(|\\)|,)\\s?/ig, '$1');\n  if (strippedStr.indexOf(',') !== -1) {\n    return hslComma.test(strippedStr);\n  }\n  return hslSpace.test(strippedStr);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isISRC;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\n// see http://isrc.ifpi.org/en/isrc-standard/code-syntax\nvar isrc = /^[A-Z]{2}[0-9A-Z]{3}\\d{2}\\d{5}$/;\nfunction isISRC(str) {\n  (0, _assertString.default)(str);\n  return isrc.test(str);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isIBAN;\nexports.locales = void 0;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nvar _includesArray = _interopRequireDefault(require(\"./util/includesArray\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\n/**\n * List of country codes with\n * corresponding IBAN regular expression\n * Reference: https://en.wikipedia.org/wiki/International_Bank_Account_Number\n */\nvar ibanRegexThroughCountryCode = {\n  AD: /^(AD[0-9]{2})\\d{8}[A-Z0-9]{12}$/,\n  AE: /^(AE[0-9]{2})\\d{3}\\d{16}$/,\n  AL: /^(AL[0-9]{2})\\d{8}[A-Z0-9]{16}$/,\n  AT: /^(AT[0-9]{2})\\d{16}$/,\n  AZ: /^(AZ[0-9]{2})[A-Z0-9]{4}\\d{20}$/,\n  BA: /^(BA[0-9]{2})\\d{16}$/,\n  BE: /^(BE[0-9]{2})\\d{12}$/,\n  BG: /^(BG[0-9]{2})[A-Z]{4}\\d{6}[A-Z0-9]{8}$/,\n  BH: /^(BH[0-9]{2})[A-Z]{4}[A-Z0-9]{14}$/,\n  BR: /^(BR[0-9]{2})\\d{23}[A-Z]{1}[A-Z0-9]{1}$/,\n  BY: /^(BY[0-9]{2})[A-Z0-9]{4}\\d{20}$/,\n  CH: /^(CH[0-9]{2})\\d{5}[A-Z0-9]{12}$/,\n  CR: /^(CR[0-9]{2})\\d{18}$/,\n  CY: /^(CY[0-9]{2})\\d{8}[A-Z0-9]{16}$/,\n  CZ: /^(CZ[0-9]{2})\\d{20}$/,\n  DE: /^(DE[0-9]{2})\\d{18}$/,\n  DK: /^(DK[0-9]{2})\\d{14}$/,\n  DO: /^(DO[0-9]{2})[A-Z]{4}\\d{20}$/,\n  DZ: /^(DZ\\d{24})$/,\n  EE: /^(EE[0-9]{2})\\d{16}$/,\n  EG: /^(EG[0-9]{2})\\d{25}$/,\n  ES: /^(ES[0-9]{2})\\d{20}$/,\n  FI: /^(FI[0-9]{2})\\d{14}$/,\n  FO: /^(FO[0-9]{2})\\d{14}$/,\n  FR: /^(FR[0-9]{2})\\d{10}[A-Z0-9]{11}\\d{2}$/,\n  GB: /^(GB[0-9]{2})[A-Z]{4}\\d{14}$/,\n  GE: /^(GE[0-9]{2})[A-Z0-9]{2}\\d{16}$/,\n  GI: /^(GI[0-9]{2})[A-Z]{4}[A-Z0-9]{15}$/,\n  GL: /^(GL[0-9]{2})\\d{14}$/,\n  GR: /^(GR[0-9]{2})\\d{7}[A-Z0-9]{16}$/,\n  GT: /^(GT[0-9]{2})[A-Z0-9]{4}[A-Z0-9]{20}$/,\n  HR: /^(HR[0-9]{2})\\d{17}$/,\n  HU: /^(HU[0-9]{2})\\d{24}$/,\n  IE: /^(IE[0-9]{2})[A-Z]{4}\\d{14}$/,\n  IL: /^(IL[0-9]{2})\\d{19}$/,\n  IQ: /^(IQ[0-9]{2})[A-Z]{4}\\d{15}$/,\n  IR: /^(IR[0-9]{2})0\\d{2}0\\d{18}$/,\n  IS: /^(IS[0-9]{2})\\d{22}$/,\n  IT: /^(IT[0-9]{2})[A-Z]{1}\\d{10}[A-Z0-9]{12}$/,\n  JO: /^(JO[0-9]{2})[A-Z]{4}\\d{22}$/,\n  KW: /^(KW[0-9]{2})[A-Z]{4}[A-Z0-9]{22}$/,\n  KZ: /^(KZ[0-9]{2})\\d{3}[A-Z0-9]{13}$/,\n  LB: /^(LB[0-9]{2})\\d{4}[A-Z0-9]{20}$/,\n  LC: /^(LC[0-9]{2})[A-Z]{4}[A-Z0-9]{24}$/,\n  LI: /^(LI[0-9]{2})\\d{5}[A-Z0-9]{12}$/,\n  LT: /^(LT[0-9]{2})\\d{16}$/,\n  LU: /^(LU[0-9]{2})\\d{3}[A-Z0-9]{13}$/,\n  LV: /^(LV[0-9]{2})[A-Z]{4}[A-Z0-9]{13}$/,\n  MA: /^(MA[0-9]{26})$/,\n  MC: /^(MC[0-9]{2})\\d{10}[A-Z0-9]{11}\\d{2}$/,\n  MD: /^(MD[0-9]{2})[A-Z0-9]{20}$/,\n  ME: /^(ME[0-9]{2})\\d{18}$/,\n  MK: /^(MK[0-9]{2})\\d{3}[A-Z0-9]{10}\\d{2}$/,\n  MR: /^(MR[0-9]{2})\\d{23}$/,\n  MT: /^(MT[0-9]{2})[A-Z]{4}\\d{5}[A-Z0-9]{18}$/,\n  MU: /^(MU[0-9]{2})[A-Z]{4}\\d{19}[A-Z]{3}$/,\n  MZ: /^(MZ[0-9]{2})\\d{21}$/,\n  NL: /^(NL[0-9]{2})[A-Z]{4}\\d{10}$/,\n  NO: /^(NO[0-9]{2})\\d{11}$/,\n  PK: /^(PK[0-9]{2})[A-Z0-9]{4}\\d{16}$/,\n  PL: /^(PL[0-9]{2})\\d{24}$/,\n  PS: /^(PS[0-9]{2})[A-Z]{4}[A-Z0-9]{21}$/,\n  PT: /^(PT[0-9]{2})\\d{21}$/,\n  QA: /^(QA[0-9]{2})[A-Z]{4}[A-Z0-9]{21}$/,\n  RO: /^(RO[0-9]{2})[A-Z]{4}[A-Z0-9]{16}$/,\n  RS: /^(RS[0-9]{2})\\d{18}$/,\n  SA: /^(SA[0-9]{2})\\d{2}[A-Z0-9]{18}$/,\n  SC: /^(SC[0-9]{2})[A-Z]{4}\\d{20}[A-Z]{3}$/,\n  SE: /^(SE[0-9]{2})\\d{20}$/,\n  SI: /^(SI[0-9]{2})\\d{15}$/,\n  SK: /^(SK[0-9]{2})\\d{20}$/,\n  SM: /^(SM[0-9]{2})[A-Z]{1}\\d{10}[A-Z0-9]{12}$/,\n  SV: /^(SV[0-9]{2})[A-Z0-9]{4}\\d{20}$/,\n  TL: /^(TL[0-9]{2})\\d{19}$/,\n  TN: /^(TN[0-9]{2})\\d{20}$/,\n  TR: /^(TR[0-9]{2})\\d{5}[A-Z0-9]{17}$/,\n  UA: /^(UA[0-9]{2})\\d{6}[A-Z0-9]{19}$/,\n  VA: /^(VA[0-9]{2})\\d{18}$/,\n  VG: /^(VG[0-9]{2})[A-Z]{4}\\d{16}$/,\n  XK: /^(XK[0-9]{2})\\d{16}$/\n};\n\n/**\n * Check if the country codes passed are valid using the\n * ibanRegexThroughCountryCode as a reference\n *\n * @param {array} countryCodeArray\n * @return {boolean}\n */\n\nfunction hasOnlyValidCountryCodes(countryCodeArray) {\n  var countryCodeArrayFilteredWithObjectIbanCode = countryCodeArray.filter(function (countryCode) {\n    return !(countryCode in ibanRegexThroughCountryCode);\n  });\n  if (countryCodeArrayFilteredWithObjectIbanCode.length > 0) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * Check whether string has correct universal IBAN format\n * The IBAN consists of up to 34 alphanumeric characters, as follows:\n * Country Code using ISO 3166-1 alpha-2, two letters\n * check digits, two digits and\n * Basic Bank Account Number (BBAN), up to 30 alphanumeric characters.\n * NOTE: Permitted IBAN characters are: digits [0-9] and the 26 latin alphabetic [A-Z]\n *\n * @param {string} str - string under validation\n * @param {object} options - object to pass the countries to be either whitelisted or blacklisted\n * @return {boolean}\n */\nfunction hasValidIbanFormat(str, options) {\n  // Strip white spaces and hyphens\n  var strippedStr = str.replace(/[\\s\\-]+/gi, '').toUpperCase();\n  var isoCountryCode = strippedStr.slice(0, 2).toUpperCase();\n  var isoCountryCodeInIbanRegexCodeObject = isoCountryCode in ibanRegexThroughCountryCode;\n  if (options.whitelist) {\n    if (!hasOnlyValidCountryCodes(options.whitelist)) {\n      return false;\n    }\n    var isoCountryCodeInWhiteList = (0, _includesArray.default)(options.whitelist, isoCountryCode);\n    if (!isoCountryCodeInWhiteList) {\n      return false;\n    }\n  }\n  if (options.blacklist) {\n    var isoCountryCodeInBlackList = (0, _includesArray.default)(options.blacklist, isoCountryCode);\n    if (isoCountryCodeInBlackList) {\n      return false;\n    }\n  }\n  return isoCountryCodeInIbanRegexCodeObject && ibanRegexThroughCountryCode[isoCountryCode].test(strippedStr);\n}\n\n/**\n   * Check whether string has valid IBAN Checksum\n   * by performing basic mod-97 operation and\n   * the remainder should equal 1\n   * -- Start by rearranging the IBAN by moving the four initial characters to the end of the string\n   * -- Replace each letter in the string with two digits, A -> 10, B = 11, Z = 35\n   * -- Interpret the string as a decimal integer and\n   * -- compute the remainder on division by 97 (mod 97)\n   * Reference: https://en.wikipedia.org/wiki/International_Bank_Account_Number\n   *\n   * @param {string} str\n   * @return {boolean}\n   */\nfunction hasValidIbanChecksum(str) {\n  var strippedStr = str.replace(/[^A-Z0-9]+/gi, '').toUpperCase(); // Keep only digits and A-Z latin alphabetic\n  var rearranged = strippedStr.slice(4) + strippedStr.slice(0, 4);\n  var alphaCapsReplacedWithDigits = rearranged.replace(/[A-Z]/g, function (char) {\n    return char.charCodeAt(0) - 55;\n  });\n  var remainder = alphaCapsReplacedWithDigits.match(/\\d{1,7}/g).reduce(function (acc, value) {\n    return Number(acc + value) % 97;\n  }, '');\n  return remainder === 1;\n}\nfunction isIBAN(str) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  (0, _assertString.default)(str);\n  return hasValidIbanFormat(str, options) && hasValidIbanChecksum(str);\n}\nvar locales = exports.locales = Object.keys(ibanRegexThroughCountryCode);", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CountryCodes = void 0;\nexports.default = isISO31661Alpha2;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\n// from https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2\nvar validISO31661Alpha2CountriesCodes = new Set(['AD', 'AE', 'AF', 'AG', 'AI', 'AL', 'AM', 'AO', 'AQ', 'AR', 'AS', 'AT', 'AU', 'AW', 'AX', 'AZ', 'BA', 'BB', 'BD', 'BE', 'BF', 'BG', 'BH', 'BI', 'BJ', 'BL', 'BM', 'BN', 'BO', 'BQ', 'BR', 'BS', 'BT', 'BV', 'BW', 'BY', 'BZ', 'CA', 'CC', 'CD', 'CF', 'CG', 'CH', 'CI', 'CK', 'CL', 'CM', 'CN', 'CO', 'CR', 'CU', 'CV', 'CW', 'CX', 'CY', 'CZ', 'DE', 'DJ', 'DK', 'DM', 'DO', 'DZ', 'EC', 'EE', 'EG', 'EH', 'ER', 'ES', 'ET', 'FI', 'FJ', 'FK', 'FM', 'FO', 'FR', 'GA', 'GB', 'GD', 'GE', 'GF', 'GG', 'GH', 'GI', 'GL', 'GM', 'GN', 'GP', 'GQ', 'GR', 'GS', 'GT', 'GU', 'GW', 'GY', 'HK', 'HM', 'HN', 'HR', 'HT', 'HU', 'ID', 'IE', 'IL', 'IM', 'IN', 'IO', 'IQ', 'IR', 'IS', 'IT', 'JE', 'JM', 'JO', 'JP', 'KE', 'KG', 'KH', 'KI', 'KM', 'KN', 'KP', 'KR', 'KW', 'KY', 'KZ', 'LA', 'LB', 'LC', 'LI', 'LK', 'LR', 'LS', 'LT', 'LU', 'LV', 'LY', 'MA', 'MC', 'MD', 'ME', 'MF', 'MG', 'MH', 'MK', 'ML', 'MM', 'MN', 'MO', 'MP', 'MQ', 'MR', 'MS', 'MT', 'MU', 'MV', 'MW', 'MX', 'MY', 'MZ', 'NA', 'NC', 'NE', 'NF', 'NG', 'NI', 'NL', 'NO', 'NP', 'NR', 'NU', 'NZ', 'OM', 'PA', 'PE', 'PF', 'PG', 'PH', 'PK', 'PL', 'PM', 'PN', 'PR', 'PS', 'PT', 'PW', 'PY', 'QA', 'RE', 'RO', 'RS', 'RU', 'RW', 'SA', 'SB', 'SC', 'SD', 'SE', 'SG', 'SH', 'SI', 'SJ', 'SK', 'SL', 'SM', 'SN', 'SO', 'SR', 'SS', 'ST', 'SV', 'SX', 'SY', 'SZ', 'TC', 'TD', 'TF', 'TG', 'TH', 'TJ', 'TK', 'TL', 'TM', 'TN', 'TO', 'TR', 'TT', 'TV', 'TW', 'TZ', 'UA', 'UG', 'UM', 'US', 'UY', 'UZ', 'VA', 'VC', 'VE', 'VG', 'VI', 'VN', 'VU', 'WF', 'WS', 'YE', 'YT', 'ZA', 'ZM', 'ZW']);\nfunction isISO31661Alpha2(str) {\n  (0, _assertString.default)(str);\n  return validISO31661Alpha2CountriesCodes.has(str.toUpperCase());\n}\nvar CountryCodes = exports.CountryCodes = validISO31661Alpha2CountriesCodes;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isBIC;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nvar _isISO31661Alpha = require(\"./isISO31661Alpha2\");\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\n// https://en.wikipedia.org/wiki/ISO_9362\nvar isBICReg = /^[A-Za-z]{6}[A-Za-z0-9]{2}([A-Za-z0-9]{3})?$/;\nfunction isBIC(str) {\n  (0, _assertString.default)(str);\n\n  // toUpperCase() should be removed when a new major version goes out that changes\n  // the regex to [A-Z] (per the spec).\n  var countryCode = str.slice(4, 6).toUpperCase();\n  if (!_isISO31661Alpha.CountryCodes.has(countryCode) && countryCode !== 'XK') {\n    return false;\n  }\n  return isBICReg.test(str);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isMD5;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar md5 = /^[a-f0-9]{32}$/;\nfunction isMD5(str) {\n  (0, _assertString.default)(str);\n  return md5.test(str);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isHash;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar lengths = {\n  md5: 32,\n  md4: 32,\n  sha1: 40,\n  sha256: 64,\n  sha384: 96,\n  sha512: 128,\n  ripemd128: 32,\n  ripemd160: 40,\n  tiger128: 32,\n  tiger160: 40,\n  tiger192: 48,\n  crc32: 8,\n  crc32b: 8\n};\nfunction isHash(str, algorithm) {\n  (0, _assertString.default)(str);\n  var hash = new RegExp(\"^[a-fA-F0-9]{\".concat(lengths[algorithm], \"}$\"));\n  return hash.test(str);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isBase64;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nvar _merge = _interopRequireDefault(require(\"./util/merge\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar base64WithPadding = /^[A-Za-z0-9+/]+={0,2}$/;\nvar base64WithoutPadding = /^[A-Za-z0-9+/]+$/;\nvar base64UrlWithPadding = /^[A-Za-z0-9_-]+={0,2}$/;\nvar base64UrlWithoutPadding = /^[A-Za-z0-9_-]+$/;\nfunction isBase64(str, options) {\n  var _options;\n  (0, _assertString.default)(str);\n  options = (0, _merge.default)(options, {\n    urlSafe: false,\n    padding: !((_options = options) !== null && _options !== void 0 && _options.urlSafe)\n  });\n  if (str === '') return true;\n  if (options.padding && str.length % 4 !== 0) return false;\n  var regex;\n  if (options.urlSafe) {\n    regex = options.padding ? base64UrlWithPadding : base64UrlWithoutPadding;\n  } else {\n    regex = options.padding ? base64WithPadding : base64WithoutPadding;\n  }\n  return (!options.padding || str.length % 4 === 0) && regex.test(str);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isJWT;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nvar _isBase = _interopRequireDefault(require(\"./isBase64\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction isJWT(str) {\n  (0, _assertString.default)(str);\n  var dotSplit = str.split('.');\n  var len = dotSplit.length;\n  if (len !== 3) {\n    return false;\n  }\n  return dotSplit.reduce(function (acc, currElem) {\n    return acc && (0, _isBase.default)(currElem, {\n      urlSafe: true\n    });\n  }, true);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isJSON;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nvar _includesArray = _interopRequireDefault(require(\"./util/includesArray\"));\nvar _merge = _interopRequireDefault(require(\"./util/merge\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nvar default_json_options = {\n  allow_primitives: false\n};\nfunction isJSON(str, options) {\n  (0, _assertString.default)(str);\n  try {\n    options = (0, _merge.default)(options, default_json_options);\n    var primitives = [];\n    if (options.allow_primitives) {\n      primitives = [null, false, true];\n    }\n    var obj = JSON.parse(str);\n    return (0, _includesArray.default)(primitives, obj) || !!obj && _typeof(obj) === 'object';\n  } catch (e) {/* ignore */}\n  return false;\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isEmpty;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nvar _merge = _interopRequireDefault(require(\"./util/merge\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar default_is_empty_options = {\n  ignore_whitespace: false\n};\nfunction isEmpty(str, options) {\n  (0, _assertString.default)(str);\n  options = (0, _merge.default)(options, default_is_empty_options);\n  return (options.ignore_whitespace ? str.trim().length : str.length) === 0;\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isLength;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n/* eslint-disable prefer-rest-params */\nfunction isLength(str, options) {\n  (0, _assertString.default)(str);\n  var min;\n  var max;\n  if (_typeof(options) === 'object') {\n    min = options.min || 0;\n    max = options.max;\n  } else {\n    // backwards compatibility: isLength(str, min [, max])\n    min = arguments[1] || 0;\n    max = arguments[2];\n  }\n  var presentationSequences = str.match(/[^\\uFE0F\\uFE0E][\\uFE0F\\uFE0E]/g) || [];\n  var surrogatePairs = str.match(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g) || [];\n  var len = str.length - presentationSequences.length - surrogatePairs.length;\n  var isInsideRange = len >= min && (typeof max === 'undefined' || len <= max);\n  if (isInsideRange && Array.isArray(options === null || options === void 0 ? void 0 : options.discreteLengths)) {\n    return options.discreteLengths.some(function (discreteLen) {\n      return discreteLen === len;\n    });\n  }\n  return isInsideRange;\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isULID;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction isULID(str) {\n  (0, _assertString.default)(str);\n  return /^[0-7][0-9A-HJKMNP-TV-Z]{25}$/i.test(str);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isUUID;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar uuid = {\n  1: /^[0-9A-F]{8}-[0-9A-F]{4}-1[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,\n  2: /^[0-9A-F]{8}-[0-9A-F]{4}-2[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,\n  3: /^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,\n  4: /^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,\n  5: /^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,\n  6: /^[0-9A-F]{8}-[0-9A-F]{4}-6[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,\n  7: /^[0-9A-F]{8}-[0-9A-F]{4}-7[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,\n  8: /^[0-9A-F]{8}-[0-9A-F]{4}-8[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,\n  nil: /^00000000-0000-0000-0000-000000000000$/i,\n  max: /^ffffffff-ffff-ffff-ffff-ffffffffffff$/i,\n  loose: /^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i,\n  // From https://github.com/uuidjs/uuid/blob/main/src/regex.js\n  all: /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i\n};\nfunction isUUID(str, version) {\n  (0, _assertString.default)(str);\n  if (version === undefined || version === null) {\n    version = 'all';\n  }\n  return version in uuid ? uuid[version].test(str) : false;\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isMongoId;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nvar _isHexadecimal = _interopRequireDefault(require(\"./isHexadecimal\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction isMongoId(str) {\n  (0, _assertString.default)(str);\n  return (0, _isHexadecimal.default)(str) && str.length === 24;\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isAfter;\nvar _toDate = _interopRequireDefault(require(\"./toDate\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction isAfter(date, options) {\n  // For backwards compatibility:\n  // isAfter(str [, date]), i.e. `options` could be used as argument for the legacy `date`\n  var comparisonDate = (_typeof(options) === 'object' ? options.comparisonDate : options) || Date().toString();\n  var comparison = (0, _toDate.default)(comparisonDate);\n  var original = (0, _toDate.default)(date);\n  return !!(original && comparison && original > comparison);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isBefore;\nvar _toDate = _interopRequireDefault(require(\"./toDate\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction isBefore(date, options) {\n  // For backwards compatibility:\n  // isBefore(str [, date]), i.e. `options` could be used as argument for the legacy `date`\n  var comparisonDate = (_typeof(options) === 'object' ? options.comparisonDate : options) || Date().toString();\n  var comparison = (0, _toDate.default)(comparisonDate);\n  var original = (0, _toDate.default)(date);\n  return !!(original && comparison && original < comparison);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isIn;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nvar _toString = _interopRequireDefault(require(\"./util/toString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction isIn(str, options) {\n  (0, _assertString.default)(str);\n  var i;\n  if (Object.prototype.toString.call(options) === '[object Array]') {\n    var array = [];\n    for (i in options) {\n      // https://github.com/gotwarlost/istanbul/blob/master/ignoring-code-for-coverage.md#ignoring-code-for-coverage-purposes\n      // istanbul ignore else\n      if ({}.hasOwnProperty.call(options, i)) {\n        array[i] = (0, _toString.default)(options[i]);\n      }\n    }\n    return array.indexOf(str) >= 0;\n  } else if (_typeof(options) === 'object') {\n    return options.hasOwnProperty(str);\n  } else if (options && typeof options.indexOf === 'function') {\n    return options.indexOf(str) >= 0;\n  }\n  return false;\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isLuhnNumber;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction isLuhnNumber(str) {\n  (0, _assertString.default)(str);\n  var sanitized = str.replace(/[- ]+/g, '');\n  var sum = 0;\n  var digit;\n  var tmpNum;\n  var shouldDouble;\n  for (var i = sanitized.length - 1; i >= 0; i--) {\n    digit = sanitized.substring(i, i + 1);\n    tmpNum = parseInt(digit, 10);\n    if (shouldDouble) {\n      tmpNum *= 2;\n      if (tmpNum >= 10) {\n        sum += tmpNum % 10 + 1;\n      } else {\n        sum += tmpNum;\n      }\n    } else {\n      sum += tmpNum;\n    }\n    shouldDouble = !shouldDouble;\n  }\n  return !!(sum % 10 === 0 ? sanitized : false);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isCreditCard;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nvar _isLuhnNumber = _interopRequireDefault(require(\"./isLuhnNumber\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar cards = {\n  amex: /^3[47][0-9]{13}$/,\n  dinersclub: /^3(?:0[0-5]|[68][0-9])[0-9]{11}$/,\n  discover: /^6(?:011|5[0-9][0-9])[0-9]{12,15}$/,\n  jcb: /^(?:2131|1800|35\\d{3})\\d{11}$/,\n  mastercard: /^5[1-5][0-9]{2}|(222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}$/,\n  // /^[25][1-7][0-9]{14}$/;\n  unionpay: /^(6[27][0-9]{14}|^(81[0-9]{14,17}))$/,\n  visa: /^(?:4[0-9]{12})(?:[0-9]{3,6})?$/\n};\nvar allCards = function () {\n  var tmpCardsArray = [];\n  for (var cardProvider in cards) {\n    // istanbul ignore else\n    if (cards.hasOwnProperty(cardProvider)) {\n      tmpCardsArray.push(cards[cardProvider]);\n    }\n  }\n  return tmpCardsArray;\n}();\nfunction isCreditCard(card) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  (0, _assertString.default)(card);\n  var provider = options.provider;\n  var sanitized = card.replace(/[- ]+/g, '');\n  if (provider && provider.toLowerCase() in cards) {\n    // specific provider in the list\n    if (!cards[provider.toLowerCase()].test(sanitized)) {\n      return false;\n    }\n  } else if (provider && !(provider.toLowerCase() in cards)) {\n    /* specific provider not in the list */\n    throw new Error(\"\".concat(provider, \" is not a valid credit card provider.\"));\n  } else if (!allCards.some(function (cardProvider) {\n    return cardProvider.test(sanitized);\n  })) {\n    // no specific provider\n    return false;\n  }\n  return (0, _isLuhnNumber.default)(card);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isIdentityCard;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nvar _includesArray = _interopRequireDefault(require(\"./util/includesArray\"));\nvar _isInt = _interopRequireDefault(require(\"./isInt\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar validators = {\n  PL: function PL(str) {\n    (0, _assertString.default)(str);\n    var weightOfDigits = {\n      1: 1,\n      2: 3,\n      3: 7,\n      4: 9,\n      5: 1,\n      6: 3,\n      7: 7,\n      8: 9,\n      9: 1,\n      10: 3,\n      11: 0\n    };\n    if (str != null && str.length === 11 && (0, _isInt.default)(str, {\n      allow_leading_zeroes: true\n    })) {\n      var digits = str.split('').slice(0, -1);\n      var sum = digits.reduce(function (acc, digit, index) {\n        return acc + Number(digit) * weightOfDigits[index + 1];\n      }, 0);\n      var modulo = sum % 10;\n      var lastDigit = Number(str.charAt(str.length - 1));\n      if (modulo === 0 && lastDigit === 0 || lastDigit === 10 - modulo) {\n        return true;\n      }\n    }\n    return false;\n  },\n  ES: function ES(str) {\n    (0, _assertString.default)(str);\n    var DNI = /^[0-9X-Z][0-9]{7}[TRWAGMYFPDXBNJZSQVHLCKE]$/;\n    var charsValue = {\n      X: 0,\n      Y: 1,\n      Z: 2\n    };\n    var controlDigits = ['T', 'R', 'W', 'A', 'G', 'M', 'Y', 'F', 'P', 'D', 'X', 'B', 'N', 'J', 'Z', 'S', 'Q', 'V', 'H', 'L', 'C', 'K', 'E'];\n\n    // sanitize user input\n    var sanitized = str.trim().toUpperCase();\n\n    // validate the data structure\n    if (!DNI.test(sanitized)) {\n      return false;\n    }\n\n    // validate the control digit\n    var number = sanitized.slice(0, -1).replace(/[X,Y,Z]/g, function (char) {\n      return charsValue[char];\n    });\n    return sanitized.endsWith(controlDigits[number % 23]);\n  },\n  FI: function FI(str) {\n    // https://dvv.fi/en/personal-identity-code#:~:text=control%20character%20for%20a-,personal,-identity%20code%20calculated\n    (0, _assertString.default)(str);\n    if (str.length !== 11) {\n      return false;\n    }\n    if (!str.match(/^\\d{6}[\\-A\\+]\\d{3}[0-9ABCDEFHJKLMNPRSTUVWXY]{1}$/)) {\n      return false;\n    }\n    var checkDigits = '0123456789ABCDEFHJKLMNPRSTUVWXY';\n    var idAsNumber = parseInt(str.slice(0, 6), 10) * 1000 + parseInt(str.slice(7, 10), 10);\n    var remainder = idAsNumber % 31;\n    var checkDigit = checkDigits[remainder];\n    return checkDigit === str.slice(10, 11);\n  },\n  IN: function IN(str) {\n    var DNI = /^[1-9]\\d{3}\\s?\\d{4}\\s?\\d{4}$/;\n\n    // multiplication table\n    var d = [[0, 1, 2, 3, 4, 5, 6, 7, 8, 9], [1, 2, 3, 4, 0, 6, 7, 8, 9, 5], [2, 3, 4, 0, 1, 7, 8, 9, 5, 6], [3, 4, 0, 1, 2, 8, 9, 5, 6, 7], [4, 0, 1, 2, 3, 9, 5, 6, 7, 8], [5, 9, 8, 7, 6, 0, 4, 3, 2, 1], [6, 5, 9, 8, 7, 1, 0, 4, 3, 2], [7, 6, 5, 9, 8, 2, 1, 0, 4, 3], [8, 7, 6, 5, 9, 3, 2, 1, 0, 4], [9, 8, 7, 6, 5, 4, 3, 2, 1, 0]];\n\n    // permutation table\n    var p = [[0, 1, 2, 3, 4, 5, 6, 7, 8, 9], [1, 5, 7, 6, 2, 8, 3, 0, 9, 4], [5, 8, 0, 3, 7, 9, 6, 1, 4, 2], [8, 9, 1, 6, 0, 4, 3, 5, 2, 7], [9, 4, 5, 3, 1, 2, 6, 8, 7, 0], [4, 2, 8, 6, 5, 7, 3, 9, 0, 1], [2, 7, 9, 3, 8, 0, 6, 4, 1, 5], [7, 0, 4, 6, 9, 1, 3, 2, 5, 8]];\n\n    // sanitize user input\n    var sanitized = str.trim();\n\n    // validate the data structure\n    if (!DNI.test(sanitized)) {\n      return false;\n    }\n    var c = 0;\n    var invertedArray = sanitized.replace(/\\s/g, '').split('').map(Number).reverse();\n    invertedArray.forEach(function (val, i) {\n      c = d[c][p[i % 8][val]];\n    });\n    return c === 0;\n  },\n  IR: function IR(str) {\n    if (!str.match(/^\\d{10}$/)) return false;\n    str = \"0000\".concat(str).slice(str.length - 6);\n    if (parseInt(str.slice(3, 9), 10) === 0) return false;\n    var lastNumber = parseInt(str.slice(9, 10), 10);\n    var sum = 0;\n    for (var i = 0; i < 9; i++) {\n      sum += parseInt(str.slice(i, i + 1), 10) * (10 - i);\n    }\n    sum %= 11;\n    return sum < 2 && lastNumber === sum || sum >= 2 && lastNumber === 11 - sum;\n  },\n  IT: function IT(str) {\n    if (str.length !== 9) return false;\n    if (str === 'CA00000AA') return false; // https://it.wikipedia.org/wiki/Carta_d%27identit%C3%A0_elettronica_italiana\n    return str.search(/C[A-Z]\\d{5}[A-Z]{2}/i) > -1;\n  },\n  NO: function NO(str) {\n    var sanitized = str.trim();\n    if (isNaN(Number(sanitized))) return false;\n    if (sanitized.length !== 11) return false;\n    if (sanitized === '00000000000') return false;\n\n    // https://no.wikipedia.org/wiki/F%C3%B8dselsnummer\n    var f = sanitized.split('').map(Number);\n    var k1 = (11 - (3 * f[0] + 7 * f[1] + 6 * f[2] + 1 * f[3] + 8 * f[4] + 9 * f[5] + 4 * f[6] + 5 * f[7] + 2 * f[8]) % 11) % 11;\n    var k2 = (11 - (5 * f[0] + 4 * f[1] + 3 * f[2] + 2 * f[3] + 7 * f[4] + 6 * f[5] + 5 * f[6] + 4 * f[7] + 3 * f[8] + 2 * k1) % 11) % 11;\n    if (k1 !== f[9] || k2 !== f[10]) return false;\n    return true;\n  },\n  TH: function TH(str) {\n    if (!str.match(/^[1-8]\\d{12}$/)) return false;\n\n    // validate check digit\n    var sum = 0;\n    for (var i = 0; i < 12; i++) {\n      sum += parseInt(str[i], 10) * (13 - i);\n    }\n    return str[12] === ((11 - sum % 11) % 10).toString();\n  },\n  LK: function LK(str) {\n    var old_nic = /^[1-9]\\d{8}[vx]$/i;\n    var new_nic = /^[1-9]\\d{11}$/i;\n    if (str.length === 10 && old_nic.test(str)) return true;else if (str.length === 12 && new_nic.test(str)) return true;\n    return false;\n  },\n  'he-IL': function heIL(str) {\n    var DNI = /^\\d{9}$/;\n\n    // sanitize user input\n    var sanitized = str.trim();\n\n    // validate the data structure\n    if (!DNI.test(sanitized)) {\n      return false;\n    }\n    var id = sanitized;\n    var sum = 0,\n      incNum;\n    for (var i = 0; i < id.length; i++) {\n      incNum = Number(id[i]) * (i % 2 + 1); // Multiply number by 1 or 2\n      sum += incNum > 9 ? incNum - 9 : incNum; // Sum the digits up and add to total\n    }\n    return sum % 10 === 0;\n  },\n  'ar-LY': function arLY(str) {\n    // Libya National Identity Number NIN is 12 digits, the first digit is either 1 or 2\n    var NIN = /^(1|2)\\d{11}$/;\n\n    // sanitize user input\n    var sanitized = str.trim();\n\n    // validate the data structure\n    if (!NIN.test(sanitized)) {\n      return false;\n    }\n    return true;\n  },\n  'ar-TN': function arTN(str) {\n    var DNI = /^\\d{8}$/;\n\n    // sanitize user input\n    var sanitized = str.trim();\n\n    // validate the data structure\n    if (!DNI.test(sanitized)) {\n      return false;\n    }\n    return true;\n  },\n  'zh-CN': function zhCN(str) {\n    var provincesAndCities = ['11',\n    // \u5317\u4EAC\n    '12',\n    // \u5929\u6D25\n    '13',\n    // \u6CB3\u5317\n    '14',\n    // \u5C71\u897F\n    '15',\n    // \u5185\u8499\u53E4\n    '21',\n    // \u8FBD\u5B81\n    '22',\n    // \u5409\u6797\n    '23',\n    // \u9ED1\u9F99\u6C5F\n    '31',\n    // \u4E0A\u6D77\n    '32',\n    // \u6C5F\u82CF\n    '33',\n    // \u6D59\u6C5F\n    '34',\n    // \u5B89\u5FBD\n    '35',\n    // \u798F\u5EFA\n    '36',\n    // \u6C5F\u897F\n    '37',\n    // \u5C71\u4E1C\n    '41',\n    // \u6CB3\u5357\n    '42',\n    // \u6E56\u5317\n    '43',\n    // \u6E56\u5357\n    '44',\n    // \u5E7F\u4E1C\n    '45',\n    // \u5E7F\u897F\n    '46',\n    // \u6D77\u5357\n    '50',\n    // \u91CD\u5E86\n    '51',\n    // \u56DB\u5DDD\n    '52',\n    // \u8D35\u5DDE\n    '53',\n    // \u4E91\u5357\n    '54',\n    // \u897F\u85CF\n    '61',\n    // \u9655\u897F\n    '62',\n    // \u7518\u8083\n    '63',\n    // \u9752\u6D77\n    '64',\n    // \u5B81\u590F\n    '65',\n    // \u65B0\u7586\n    '71',\n    // \u53F0\u6E7E\n    '81',\n    // \u9999\u6E2F\n    '82',\n    // \u6FB3\u95E8\n    '91' // \u56FD\u5916\n    ];\n    var powers = ['7', '9', '10', '5', '8', '4', '2', '1', '6', '3', '7', '9', '10', '5', '8', '4', '2'];\n    var parityBit = ['1', '0', 'X', '9', '8', '7', '6', '5', '4', '3', '2'];\n    var checkAddressCode = function checkAddressCode(addressCode) {\n      return (0, _includesArray.default)(provincesAndCities, addressCode);\n    };\n    var checkBirthDayCode = function checkBirthDayCode(birDayCode) {\n      var yyyy = parseInt(birDayCode.substring(0, 4), 10);\n      var mm = parseInt(birDayCode.substring(4, 6), 10);\n      var dd = parseInt(birDayCode.substring(6), 10);\n      var xdata = new Date(yyyy, mm - 1, dd);\n      if (xdata > new Date()) {\n        return false;\n        // eslint-disable-next-line max-len\n      } else if (xdata.getFullYear() === yyyy && xdata.getMonth() === mm - 1 && xdata.getDate() === dd) {\n        return true;\n      }\n      return false;\n    };\n    var getParityBit = function getParityBit(idCardNo) {\n      var id17 = idCardNo.substring(0, 17);\n      var power = 0;\n      for (var i = 0; i < 17; i++) {\n        power += parseInt(id17.charAt(i), 10) * parseInt(powers[i], 10);\n      }\n      var mod = power % 11;\n      return parityBit[mod];\n    };\n    var checkParityBit = function checkParityBit(idCardNo) {\n      return getParityBit(idCardNo) === idCardNo.charAt(17).toUpperCase();\n    };\n    var check15IdCardNo = function check15IdCardNo(idCardNo) {\n      var check = /^[1-9]\\d{7}((0[1-9])|(1[0-2]))((0[1-9])|([1-2][0-9])|(3[0-1]))\\d{3}$/.test(idCardNo);\n      if (!check) return false;\n      var addressCode = idCardNo.substring(0, 2);\n      check = checkAddressCode(addressCode);\n      if (!check) return false;\n      var birDayCode = \"19\".concat(idCardNo.substring(6, 12));\n      check = checkBirthDayCode(birDayCode);\n      if (!check) return false;\n      return true;\n    };\n    var check18IdCardNo = function check18IdCardNo(idCardNo) {\n      var check = /^[1-9]\\d{5}[1-9]\\d{3}((0[1-9])|(1[0-2]))((0[1-9])|([1-2][0-9])|(3[0-1]))\\d{3}(\\d|x|X)$/.test(idCardNo);\n      if (!check) return false;\n      var addressCode = idCardNo.substring(0, 2);\n      check = checkAddressCode(addressCode);\n      if (!check) return false;\n      var birDayCode = idCardNo.substring(6, 14);\n      check = checkBirthDayCode(birDayCode);\n      if (!check) return false;\n      return checkParityBit(idCardNo);\n    };\n    var checkIdCardNo = function checkIdCardNo(idCardNo) {\n      var check = /^\\d{15}|(\\d{17}(\\d|x|X))$/.test(idCardNo);\n      if (!check) return false;\n      if (idCardNo.length === 15) {\n        return check15IdCardNo(idCardNo);\n      }\n      return check18IdCardNo(idCardNo);\n    };\n    return checkIdCardNo(str);\n  },\n  'zh-HK': function zhHK(str) {\n    // sanitize user input\n    str = str.trim();\n\n    // HKID number starts with 1 or 2 letters, followed by 6 digits,\n    // then a checksum contained in square / round brackets or nothing\n    var regexHKID = /^[A-Z]{1,2}[0-9]{6}((\\([0-9A]\\))|(\\[[0-9A]\\])|([0-9A]))$/;\n    var regexIsDigit = /^[0-9]$/;\n\n    // convert the user input to all uppercase and apply regex\n    str = str.toUpperCase();\n    if (!regexHKID.test(str)) return false;\n    str = str.replace(/\\[|\\]|\\(|\\)/g, '');\n    if (str.length === 8) str = \"3\".concat(str);\n    var checkSumVal = 0;\n    for (var i = 0; i <= 7; i++) {\n      var convertedChar = void 0;\n      if (!regexIsDigit.test(str[i])) convertedChar = (str[i].charCodeAt(0) - 55) % 11;else convertedChar = str[i];\n      checkSumVal += convertedChar * (9 - i);\n    }\n    checkSumVal %= 11;\n    var checkSumConverted;\n    if (checkSumVal === 0) checkSumConverted = '0';else if (checkSumVal === 1) checkSumConverted = 'A';else checkSumConverted = String(11 - checkSumVal);\n    if (checkSumConverted === str[str.length - 1]) return true;\n    return false;\n  },\n  'zh-TW': function zhTW(str) {\n    var ALPHABET_CODES = {\n      A: 10,\n      B: 11,\n      C: 12,\n      D: 13,\n      E: 14,\n      F: 15,\n      G: 16,\n      H: 17,\n      I: 34,\n      J: 18,\n      K: 19,\n      L: 20,\n      M: 21,\n      N: 22,\n      O: 35,\n      P: 23,\n      Q: 24,\n      R: 25,\n      S: 26,\n      T: 27,\n      U: 28,\n      V: 29,\n      W: 32,\n      X: 30,\n      Y: 31,\n      Z: 33\n    };\n    var sanitized = str.trim().toUpperCase();\n    if (!/^[A-Z][0-9]{9}$/.test(sanitized)) return false;\n    return Array.from(sanitized).reduce(function (sum, number, index) {\n      if (index === 0) {\n        var code = ALPHABET_CODES[number];\n        return code % 10 * 9 + Math.floor(code / 10);\n      }\n      if (index === 9) {\n        return (10 - sum % 10 - Number(number)) % 10 === 0;\n      }\n      return sum + Number(number) * (9 - index);\n    }, 0);\n  },\n  PK: function PK(str) {\n    // Pakistani National Identity Number CNIC is 13 digits\n    var CNIC = /^[1-7][0-9]{4}-[0-9]{7}-[1-9]$/;\n\n    // sanitize user input\n    var sanitized = str.trim();\n\n    // validate the data structure\n    return CNIC.test(sanitized);\n  }\n};\nfunction isIdentityCard(str, locale) {\n  (0, _assertString.default)(str);\n  if (locale in validators) {\n    return validators[locale](str);\n  } else if (locale === 'any') {\n    for (var key in validators) {\n      // https://github.com/gotwarlost/istanbul/blob/master/ignoring-code-for-coverage.md#ignoring-code-for-coverage-purposes\n      // istanbul ignore else\n      if (validators.hasOwnProperty(key)) {\n        var validator = validators[key];\n        if (validator(str)) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n  throw new Error(\"Invalid locale '\".concat(locale, \"'\"));\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isEAN;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\n/**\n * The most commonly used EAN standard is\n * the thirteen-digit EAN-13, while the\n * less commonly used 8-digit EAN-8 barcode was\n * introduced for use on small packages.\n * Also EAN/UCC-14 is used for Grouping of individual\n * trade items above unit level(Intermediate, Carton or Pallet).\n * For more info about EAN-14 checkout: https://www.gtin.info/itf-14-barcodes/\n * EAN consists of:\n * GS1 prefix, manufacturer code, product code and check digit\n * Reference: https://en.wikipedia.org/wiki/International_Article_Number\n * Reference: https://www.gtin.info/\n */\n\n/**\n * Define EAN Lengths; 8 for EAN-8; 13 for EAN-13; 14 for EAN-14\n * and Regular Expression for valid EANs (EAN-8, EAN-13, EAN-14),\n * with exact numeric matching of 8 or 13 or 14 digits [0-9]\n */\nvar LENGTH_EAN_8 = 8;\nvar LENGTH_EAN_14 = 14;\nvar validEanRegex = /^(\\d{8}|\\d{13}|\\d{14})$/;\n\n/**\n * Get position weight given:\n * EAN length and digit index/position\n *\n * @param {number} length\n * @param {number} index\n * @return {number}\n */\nfunction getPositionWeightThroughLengthAndIndex(length, index) {\n  if (length === LENGTH_EAN_8 || length === LENGTH_EAN_14) {\n    return index % 2 === 0 ? 3 : 1;\n  }\n  return index % 2 === 0 ? 1 : 3;\n}\n\n/**\n * Calculate EAN Check Digit\n * Reference: https://en.wikipedia.org/wiki/International_Article_Number#Calculation_of_checksum_digit\n *\n * @param {string} ean\n * @return {number}\n */\nfunction calculateCheckDigit(ean) {\n  var checksum = ean.slice(0, -1).split('').map(function (char, index) {\n    return Number(char) * getPositionWeightThroughLengthAndIndex(ean.length, index);\n  }).reduce(function (acc, partialSum) {\n    return acc + partialSum;\n  }, 0);\n  var remainder = 10 - checksum % 10;\n  return remainder < 10 ? remainder : 0;\n}\n\n/**\n * Check if string is valid EAN:\n * Matches EAN-8/EAN-13/EAN-14 regex\n * Has valid check digit.\n *\n * @param {string} str\n * @return {boolean}\n */\nfunction isEAN(str) {\n  (0, _assertString.default)(str);\n  var actualCheckDigit = Number(str.slice(-1));\n  return validEanRegex.test(str) && actualCheckDigit === calculateCheckDigit(str);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isISIN;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar isin = /^[A-Z]{2}[0-9A-Z]{9}[0-9]$/;\n\n// this link details how the check digit is calculated:\n// https://www.isin.org/isin-format/. it is a little bit\n// odd in that it works with digits, not numbers. in order\n// to make only one pass through the ISIN characters, the\n// each alpha character is handled as 2 characters within\n// the loop.\n\nfunction isISIN(str) {\n  (0, _assertString.default)(str);\n  if (!isin.test(str)) {\n    return false;\n  }\n  var double = true;\n  var sum = 0;\n  // convert values\n  for (var i = str.length - 2; i >= 0; i--) {\n    if (str[i] >= 'A' && str[i] <= 'Z') {\n      var value = str[i].charCodeAt(0) - 55;\n      var lo = value % 10;\n      var hi = Math.trunc(value / 10);\n      // letters have two digits, so handle the low order\n      // and high order digits separately.\n      for (var _i = 0, _arr = [lo, hi]; _i < _arr.length; _i++) {\n        var digit = _arr[_i];\n        if (double) {\n          if (digit >= 5) {\n            sum += 1 + (digit - 5) * 2;\n          } else {\n            sum += digit * 2;\n          }\n        } else {\n          sum += digit;\n        }\n        double = !double;\n      }\n    } else {\n      var _digit = str[i].charCodeAt(0) - '0'.charCodeAt(0);\n      if (double) {\n        if (_digit >= 5) {\n          sum += 1 + (_digit - 5) * 2;\n        } else {\n          sum += _digit * 2;\n        }\n      } else {\n        sum += _digit;\n      }\n      double = !double;\n    }\n  }\n  var check = Math.trunc((sum + 9) / 10) * 10 - sum;\n  return +str[str.length - 1] === check;\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isISBN;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar possibleIsbn10 = /^(?:[0-9]{9}X|[0-9]{10})$/;\nvar possibleIsbn13 = /^(?:[0-9]{13})$/;\nvar factor = [1, 3];\nfunction isISBN(isbn, options) {\n  (0, _assertString.default)(isbn);\n\n  // For backwards compatibility:\n  // isISBN(str [, version]), i.e. `options` could be used as argument for the legacy `version`\n  var version = String((options === null || options === void 0 ? void 0 : options.version) || options);\n  if (!(options !== null && options !== void 0 && options.version || options)) {\n    return isISBN(isbn, {\n      version: 10\n    }) || isISBN(isbn, {\n      version: 13\n    });\n  }\n  var sanitizedIsbn = isbn.replace(/[\\s-]+/g, '');\n  var checksum = 0;\n  if (version === '10') {\n    if (!possibleIsbn10.test(sanitizedIsbn)) {\n      return false;\n    }\n    for (var i = 0; i < version - 1; i++) {\n      checksum += (i + 1) * sanitizedIsbn.charAt(i);\n    }\n    if (sanitizedIsbn.charAt(9) === 'X') {\n      checksum += 10 * 10;\n    } else {\n      checksum += 10 * sanitizedIsbn.charAt(9);\n    }\n    if (checksum % 11 === 0) {\n      return true;\n    }\n  } else if (version === '13') {\n    if (!possibleIsbn13.test(sanitizedIsbn)) {\n      return false;\n    }\n    for (var _i = 0; _i < 12; _i++) {\n      checksum += factor[_i % 2] * sanitizedIsbn.charAt(_i);\n    }\n    if (sanitizedIsbn.charAt(12) - (10 - checksum % 10) % 10 === 0) {\n      return true;\n    }\n  }\n  return false;\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isISSN;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar issn = '^\\\\d{4}-?\\\\d{3}[\\\\dX]$';\nfunction isISSN(str) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  (0, _assertString.default)(str);\n  var testIssn = issn;\n  testIssn = options.require_hyphen ? testIssn.replace('?', '') : testIssn;\n  testIssn = options.case_sensitive ? new RegExp(testIssn) : new RegExp(testIssn, 'i');\n  if (!testIssn.test(str)) {\n    return false;\n  }\n  var digits = str.replace('-', '').toUpperCase();\n  var checksum = 0;\n  for (var i = 0; i < digits.length; i++) {\n    var digit = digits[i];\n    checksum += (digit === 'X' ? 10 : +digit) * (8 - i);\n  }\n  return checksum % 11 === 0;\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.iso7064Check = iso7064Check;\nexports.luhnCheck = luhnCheck;\nexports.reverseMultiplyAndSum = reverseMultiplyAndSum;\nexports.verhoeffCheck = verhoeffCheck;\n/**\n * Algorithmic validation functions\n * May be used as is or implemented in the workflow of other validators.\n */\n\n/*\n * ISO 7064 validation function\n * Called with a string of numbers (incl. check digit)\n * to validate according to ISO 7064 (MOD 11, 10).\n */\nfunction iso7064Check(str) {\n  var checkvalue = 10;\n  for (var i = 0; i < str.length - 1; i++) {\n    checkvalue = (parseInt(str[i], 10) + checkvalue) % 10 === 0 ? 10 * 2 % 11 : (parseInt(str[i], 10) + checkvalue) % 10 * 2 % 11;\n  }\n  checkvalue = checkvalue === 1 ? 0 : 11 - checkvalue;\n  return checkvalue === parseInt(str[10], 10);\n}\n\n/*\n * Luhn (mod 10) validation function\n * Called with a string of numbers (incl. check digit)\n * to validate according to the Luhn algorithm.\n */\nfunction luhnCheck(str) {\n  var checksum = 0;\n  var second = false;\n  for (var i = str.length - 1; i >= 0; i--) {\n    if (second) {\n      var product = parseInt(str[i], 10) * 2;\n      if (product > 9) {\n        // sum digits of product and add to checksum\n        checksum += product.toString().split('').map(function (a) {\n          return parseInt(a, 10);\n        }).reduce(function (a, b) {\n          return a + b;\n        }, 0);\n      } else {\n        checksum += product;\n      }\n    } else {\n      checksum += parseInt(str[i], 10);\n    }\n    second = !second;\n  }\n  return checksum % 10 === 0;\n}\n\n/*\n * Reverse TIN multiplication and summation helper function\n * Called with an array of single-digit integers and a base multiplier\n * to calculate the sum of the digits multiplied in reverse.\n * Normally used in variations of MOD 11 algorithmic checks.\n */\nfunction reverseMultiplyAndSum(digits, base) {\n  var total = 0;\n  for (var i = 0; i < digits.length; i++) {\n    total += digits[i] * (base - i);\n  }\n  return total;\n}\n\n/*\n * Verhoeff validation helper function\n * Called with a string of numbers\n * to validate according to the Verhoeff algorithm.\n */\nfunction verhoeffCheck(str) {\n  var d_table = [[0, 1, 2, 3, 4, 5, 6, 7, 8, 9], [1, 2, 3, 4, 0, 6, 7, 8, 9, 5], [2, 3, 4, 0, 1, 7, 8, 9, 5, 6], [3, 4, 0, 1, 2, 8, 9, 5, 6, 7], [4, 0, 1, 2, 3, 9, 5, 6, 7, 8], [5, 9, 8, 7, 6, 0, 4, 3, 2, 1], [6, 5, 9, 8, 7, 1, 0, 4, 3, 2], [7, 6, 5, 9, 8, 2, 1, 0, 4, 3], [8, 7, 6, 5, 9, 3, 2, 1, 0, 4], [9, 8, 7, 6, 5, 4, 3, 2, 1, 0]];\n  var p_table = [[0, 1, 2, 3, 4, 5, 6, 7, 8, 9], [1, 5, 7, 6, 2, 8, 3, 0, 9, 4], [5, 8, 0, 3, 7, 9, 6, 1, 4, 2], [8, 9, 1, 6, 0, 4, 3, 5, 2, 7], [9, 4, 5, 3, 1, 2, 6, 8, 7, 0], [4, 2, 8, 6, 5, 7, 3, 9, 0, 1], [2, 7, 9, 3, 8, 0, 6, 4, 1, 5], [7, 0, 4, 6, 9, 1, 3, 2, 5, 8]];\n\n  // Copy (to prevent replacement) and reverse\n  var str_copy = str.split('').reverse().join('');\n  var checksum = 0;\n  for (var i = 0; i < str_copy.length; i++) {\n    checksum = d_table[checksum][p_table[i % 8][parseInt(str_copy[i], 10)]];\n  }\n  return checksum === 0;\n}", "\"use strict\";\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isTaxID;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nvar algorithms = _interopRequireWildcard(require(\"./util/algorithms\"));\nvar _isDate = _interopRequireDefault(require(\"./isDate\"));\nfunction _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) \"default\" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _iterableToArray(r) { if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r); }\nfunction _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\n/**\n * TIN Validation\n * Validates Tax Identification Numbers (TINs) from the US, EU member states and the United Kingdom.\n *\n * EU-UK:\n * National TIN validity is calculated using public algorithms as made available by DG TAXUD.\n *\n * See `https://ec.europa.eu/taxation_customs/tin/specs/FS-TIN%20Algorithms-Public.docx` for more information.\n *\n * US:\n * An Employer Identification Number (EIN), also known as a Federal Tax Identification Number,\n *  is used to identify a business entity.\n *\n * NOTES:\n *  - Prefix 47 is being reserved for future use\n *  - Prefixes 26, 27, 45, 46 and 47 were previously assigned by the Philadelphia campus.\n *\n * See `http://www.irs.gov/Businesses/Small-Businesses-&-Self-Employed/How-EINs-are-Assigned-and-Valid-EIN-Prefixes`\n * for more information.\n */\n\n// Locale functions\n\n/*\n * bg-BG validation function\n * (Edinen gra\u017Edanski nomer (EGN/\u0415\u0413\u041D), persons only)\n * Checks if birth date (first six digits) is valid and calculates check (last) digit\n */\nfunction bgBgCheck(tin) {\n  // Extract full year, normalize month and check birth date validity\n  var century_year = tin.slice(0, 2);\n  var month = parseInt(tin.slice(2, 4), 10);\n  if (month > 40) {\n    month -= 40;\n    century_year = \"20\".concat(century_year);\n  } else if (month > 20) {\n    month -= 20;\n    century_year = \"18\".concat(century_year);\n  } else {\n    century_year = \"19\".concat(century_year);\n  }\n  if (month < 10) {\n    month = \"0\".concat(month);\n  }\n  var date = \"\".concat(century_year, \"/\").concat(month, \"/\").concat(tin.slice(4, 6));\n  if (!(0, _isDate.default)(date, 'YYYY/MM/DD')) {\n    return false;\n  }\n\n  // split digits into an array for further processing\n  var digits = tin.split('').map(function (a) {\n    return parseInt(a, 10);\n  });\n\n  // Calculate checksum by multiplying digits with fixed values\n  var multip_lookup = [2, 4, 8, 5, 10, 9, 7, 3, 6];\n  var checksum = 0;\n  for (var i = 0; i < multip_lookup.length; i++) {\n    checksum += digits[i] * multip_lookup[i];\n  }\n  checksum = checksum % 11 === 10 ? 0 : checksum % 11;\n  return checksum === digits[9];\n}\n\n/**\n * Check if an input is a valid Canadian SIN (Social Insurance Number)\n *\n * The Social Insurance Number (SIN) is a 9 digit number that\n * you need to work in Canada or to have access to government programs and benefits.\n *\n * https://en.wikipedia.org/wiki/Social_Insurance_Number\n * https://www.canada.ca/en/employment-social-development/services/sin.html\n * https://www.codercrunch.com/challenge/819302488/sin-validator\n *\n * @param {string} input\n * @return {boolean}\n */\nfunction isCanadianSIN(input) {\n  var digitsArray = input.split('');\n  var even = digitsArray.filter(function (_, idx) {\n    return idx % 2;\n  }).map(function (i) {\n    return Number(i) * 2;\n  }).join('').split('');\n  var total = digitsArray.filter(function (_, idx) {\n    return !(idx % 2);\n  }).concat(even).map(function (i) {\n    return Number(i);\n  }).reduce(function (acc, cur) {\n    return acc + cur;\n  });\n  return total % 10 === 0;\n}\n\n/*\n * cs-CZ validation function\n * (Rodn\u00E9 \u010D\u00EDslo (R\u010C), persons only)\n * Checks if birth date (first six digits) is valid and divisibility by 11\n * Material not in DG TAXUD document sourced from:\n * -`https://lorenc.info/3MA381/overeni-spravnosti-rodneho-cisla.htm`\n * -`https://www.mvcr.cz/clanek/rady-a-sluzby-dokumenty-rodne-cislo.aspx`\n */\nfunction csCzCheck(tin) {\n  tin = tin.replace(/\\W/, '');\n\n  // Extract full year from TIN length\n  var full_year = parseInt(tin.slice(0, 2), 10);\n  if (tin.length === 10) {\n    if (full_year < 54) {\n      full_year = \"20\".concat(full_year);\n    } else {\n      full_year = \"19\".concat(full_year);\n    }\n  } else {\n    if (tin.slice(6) === '000') {\n      return false;\n    } // Three-zero serial not assigned before 1954\n    if (full_year < 54) {\n      full_year = \"19\".concat(full_year);\n    } else {\n      return false; // No 18XX years seen in any of the resources\n    }\n  }\n  // Add missing zero if needed\n  if (full_year.length === 3) {\n    full_year = [full_year.slice(0, 2), '0', full_year.slice(2)].join('');\n  }\n\n  // Extract month from TIN and normalize\n  var month = parseInt(tin.slice(2, 4), 10);\n  if (month > 50) {\n    month -= 50;\n  }\n  if (month > 20) {\n    // Month-plus-twenty was only introduced in 2004\n    if (parseInt(full_year, 10) < 2004) {\n      return false;\n    }\n    month -= 20;\n  }\n  if (month < 10) {\n    month = \"0\".concat(month);\n  }\n\n  // Check date validity\n  var date = \"\".concat(full_year, \"/\").concat(month, \"/\").concat(tin.slice(4, 6));\n  if (!(0, _isDate.default)(date, 'YYYY/MM/DD')) {\n    return false;\n  }\n\n  // Verify divisibility by 11\n  if (tin.length === 10) {\n    if (parseInt(tin, 10) % 11 !== 0) {\n      // Some numbers up to and including 1985 are still valid if\n      // check (last) digit equals 0 and modulo of first 9 digits equals 10\n      var checkdigit = parseInt(tin.slice(0, 9), 10) % 11;\n      if (parseInt(full_year, 10) < 1986 && checkdigit === 10) {\n        if (parseInt(tin.slice(9), 10) !== 0) {\n          return false;\n        }\n      } else {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\n/*\n * de-AT validation function\n * (Abgabenkontonummer, persons/entities)\n * Verify TIN validity by calling luhnCheck()\n */\nfunction deAtCheck(tin) {\n  return algorithms.luhnCheck(tin);\n}\n\n/*\n * de-DE validation function\n * (Steueridentifikationsnummer (Steuer-IdNr.), persons only)\n * Tests for single duplicate/triplicate value, then calculates ISO 7064 check (last) digit\n * Partial implementation of spec (same result with both algorithms always)\n */\nfunction deDeCheck(tin) {\n  // Split digits into an array for further processing\n  var digits = tin.split('').map(function (a) {\n    return parseInt(a, 10);\n  });\n\n  // Fill array with strings of number positions\n  var occurrences = [];\n  for (var i = 0; i < digits.length - 1; i++) {\n    occurrences.push('');\n    for (var j = 0; j < digits.length - 1; j++) {\n      if (digits[i] === digits[j]) {\n        occurrences[i] += j;\n      }\n    }\n  }\n\n  // Remove digits with one occurrence and test for only one duplicate/triplicate\n  occurrences = occurrences.filter(function (a) {\n    return a.length > 1;\n  });\n  if (occurrences.length !== 2 && occurrences.length !== 3) {\n    return false;\n  }\n\n  // In case of triplicate value only two digits are allowed next to each other\n  if (occurrences[0].length === 3) {\n    var trip_locations = occurrences[0].split('').map(function (a) {\n      return parseInt(a, 10);\n    });\n    var recurrent = 0; // Amount of neighbor occurrences\n    for (var _i = 0; _i < trip_locations.length - 1; _i++) {\n      if (trip_locations[_i] + 1 === trip_locations[_i + 1]) {\n        recurrent += 1;\n      }\n    }\n    if (recurrent === 2) {\n      return false;\n    }\n  }\n  return algorithms.iso7064Check(tin);\n}\n\n/*\n * dk-DK validation function\n * (CPR-nummer (personnummer), persons only)\n * Checks if birth date (first six digits) is valid and assigned to century (seventh) digit,\n * and calculates check (last) digit\n */\nfunction dkDkCheck(tin) {\n  tin = tin.replace(/\\W/, '');\n\n  // Extract year, check if valid for given century digit and add century\n  var year = parseInt(tin.slice(4, 6), 10);\n  var century_digit = tin.slice(6, 7);\n  switch (century_digit) {\n    case '0':\n    case '1':\n    case '2':\n    case '3':\n      year = \"19\".concat(year);\n      break;\n    case '4':\n    case '9':\n      if (year < 37) {\n        year = \"20\".concat(year);\n      } else {\n        year = \"19\".concat(year);\n      }\n      break;\n    default:\n      if (year < 37) {\n        year = \"20\".concat(year);\n      } else if (year > 58) {\n        year = \"18\".concat(year);\n      } else {\n        return false;\n      }\n      break;\n  }\n  // Add missing zero if needed\n  if (year.length === 3) {\n    year = [year.slice(0, 2), '0', year.slice(2)].join('');\n  }\n  // Check date validity\n  var date = \"\".concat(year, \"/\").concat(tin.slice(2, 4), \"/\").concat(tin.slice(0, 2));\n  if (!(0, _isDate.default)(date, 'YYYY/MM/DD')) {\n    return false;\n  }\n\n  // Split digits into an array for further processing\n  var digits = tin.split('').map(function (a) {\n    return parseInt(a, 10);\n  });\n  var checksum = 0;\n  var weight = 4;\n  // Multiply by weight and add to checksum\n  for (var i = 0; i < 9; i++) {\n    checksum += digits[i] * weight;\n    weight -= 1;\n    if (weight === 1) {\n      weight = 7;\n    }\n  }\n  checksum %= 11;\n  if (checksum === 1) {\n    return false;\n  }\n  return checksum === 0 ? digits[9] === 0 : digits[9] === 11 - checksum;\n}\n\n/*\n * el-CY validation function\n * (Arithmos Forologikou Mitroou (AFM/\u0391\u03A6\u039C), persons only)\n * Verify TIN validity by calculating ASCII value of check (last) character\n */\nfunction elCyCheck(tin) {\n  // split digits into an array for further processing\n  var digits = tin.slice(0, 8).split('').map(function (a) {\n    return parseInt(a, 10);\n  });\n  var checksum = 0;\n  // add digits in even places\n  for (var i = 1; i < digits.length; i += 2) {\n    checksum += digits[i];\n  }\n\n  // add digits in odd places\n  for (var _i2 = 0; _i2 < digits.length; _i2 += 2) {\n    if (digits[_i2] < 2) {\n      checksum += 1 - digits[_i2];\n    } else {\n      checksum += 2 * (digits[_i2] - 2) + 5;\n      if (digits[_i2] > 4) {\n        checksum += 2;\n      }\n    }\n  }\n  return String.fromCharCode(checksum % 26 + 65) === tin.charAt(8);\n}\n\n/*\n * el-GR validation function\n * (Arithmos Forologikou Mitroou (AFM/\u0391\u03A6\u039C), persons/entities)\n * Verify TIN validity by calculating check (last) digit\n * Algorithm not in DG TAXUD document- sourced from:\n * - `http://epixeirisi.gr/%CE%9A%CE%A1%CE%99%CE%A3%CE%99%CE%9C%CE%91-%CE%98%CE%95%CE%9C%CE%91%CE%A4%CE%91-%CE%A6%CE%9F%CE%A1%CE%9F%CE%9B%CE%9F%CE%93%CE%99%CE%91%CE%A3-%CE%9A%CE%91%CE%99-%CE%9B%CE%9F%CE%93%CE%99%CE%A3%CE%A4%CE%99%CE%9A%CE%97%CE%A3/23791/%CE%91%CF%81%CE%B9%CE%B8%CE%BC%CF%8C%CF%82-%CE%A6%CE%BF%CF%81%CE%BF%CE%BB%CE%BF%CE%B3%CE%B9%CE%BA%CE%BF%CF%8D-%CE%9C%CE%B7%CF%84%CF%81%CF%8E%CE%BF%CF%85`\n */\nfunction elGrCheck(tin) {\n  // split digits into an array for further processing\n  var digits = tin.split('').map(function (a) {\n    return parseInt(a, 10);\n  });\n  var checksum = 0;\n  for (var i = 0; i < 8; i++) {\n    checksum += digits[i] * Math.pow(2, 8 - i);\n  }\n  return checksum % 11 % 10 === digits[8];\n}\n\n/*\n * en-GB validation function (should go here if needed)\n * (National Insurance Number (NINO) or Unique Taxpayer Reference (UTR),\n * persons/entities respectively)\n */\n\n/*\n * en-IE validation function\n * (Personal Public Service Number (PPS No), persons only)\n * Verify TIN validity by calculating check (second to last) character\n */\nfunction enIeCheck(tin) {\n  var checksum = algorithms.reverseMultiplyAndSum(tin.split('').slice(0, 7).map(function (a) {\n    return parseInt(a, 10);\n  }), 8);\n  if (tin.length === 9 && tin[8] !== 'W') {\n    checksum += (tin[8].charCodeAt(0) - 64) * 9;\n  }\n  checksum %= 23;\n  if (checksum === 0) {\n    return tin[7].toUpperCase() === 'W';\n  }\n  return tin[7].toUpperCase() === String.fromCharCode(64 + checksum);\n}\n\n// Valid US IRS campus prefixes\nvar enUsCampusPrefix = {\n  andover: ['10', '12'],\n  atlanta: ['60', '67'],\n  austin: ['50', '53'],\n  brookhaven: ['01', '02', '03', '04', '05', '06', '11', '13', '14', '16', '21', '22', '23', '25', '34', '51', '52', '54', '55', '56', '57', '58', '59', '65'],\n  cincinnati: ['30', '32', '35', '36', '37', '38', '61'],\n  fresno: ['15', '24'],\n  internet: ['20', '26', '27', '45', '46', '47'],\n  kansas: ['40', '44'],\n  memphis: ['94', '95'],\n  ogden: ['80', '90'],\n  philadelphia: ['33', '39', '41', '42', '43', '46', '48', '62', '63', '64', '66', '68', '71', '72', '73', '74', '75', '76', '77', '81', '82', '83', '84', '85', '86', '87', '88', '91', '92', '93', '98', '99'],\n  sba: ['31']\n};\n\n// Return an array of all US IRS campus prefixes\nfunction enUsGetPrefixes() {\n  var prefixes = [];\n  for (var location in enUsCampusPrefix) {\n    // https://github.com/gotwarlost/istanbul/blob/master/ignoring-code-for-coverage.md#ignoring-code-for-coverage-purposes\n    // istanbul ignore else\n    if (enUsCampusPrefix.hasOwnProperty(location)) {\n      prefixes.push.apply(prefixes, _toConsumableArray(enUsCampusPrefix[location]));\n    }\n  }\n  return prefixes;\n}\n\n/*\n * en-US validation function\n * Verify that the TIN starts with a valid IRS campus prefix\n */\nfunction enUsCheck(tin) {\n  return enUsGetPrefixes().indexOf(tin.slice(0, 2)) !== -1;\n}\n\n/*\n * es-AR validation function\n * Clave \u00DAnica de Identificaci\u00F3n Tributaria (CUIT/CUIL)\n * Sourced from:\n * - https://servicioscf.afip.gob.ar/publico/abc/ABCpaso2.aspx?id_nivel1=3036&id_nivel2=3040&p=Conceptos%20b%C3%A1sicos\n * - https://es.wikipedia.org/wiki/Clave_%C3%9Anica_de_Identificaci%C3%B3n_Tributaria\n */\n\nfunction esArCheck(tin) {\n  var accum = 0;\n  var digits = tin.split('');\n  var digit = parseInt(digits.pop(), 10);\n  for (var i = 0; i < digits.length; i++) {\n    accum += digits[9 - i] * (2 + i % 6);\n  }\n  var verif = 11 - accum % 11;\n  if (verif === 11) {\n    verif = 0;\n  } else if (verif === 10) {\n    verif = 9;\n  }\n  return digit === verif;\n}\n\n/*\n * es-ES validation function\n * (Documento Nacional de Identidad (DNI)\n * or N\u00FAmero de Identificaci\u00F3n de Extranjero (NIE), persons only)\n * Verify TIN validity by calculating check (last) character\n */\nfunction esEsCheck(tin) {\n  // Split characters into an array for further processing\n  var chars = tin.toUpperCase().split('');\n\n  // Replace initial letter if needed\n  if (isNaN(parseInt(chars[0], 10)) && chars.length > 1) {\n    var lead_replace = 0;\n    switch (chars[0]) {\n      case 'Y':\n        lead_replace = 1;\n        break;\n      case 'Z':\n        lead_replace = 2;\n        break;\n      default:\n    }\n    chars.splice(0, 1, lead_replace);\n    // Fill with zeros if smaller than proper\n  } else {\n    while (chars.length < 9) {\n      chars.unshift(0);\n    }\n  }\n\n  // Calculate checksum and check according to lookup\n  var lookup = ['T', 'R', 'W', 'A', 'G', 'M', 'Y', 'F', 'P', 'D', 'X', 'B', 'N', 'J', 'Z', 'S', 'Q', 'V', 'H', 'L', 'C', 'K', 'E'];\n  chars = chars.join('');\n  var checksum = parseInt(chars.slice(0, 8), 10) % 23;\n  return chars[8] === lookup[checksum];\n}\n\n/*\n * et-EE validation function\n * (Isikukood (IK), persons only)\n * Checks if birth date (century digit and six following) is valid and calculates check (last) digit\n * Material not in DG TAXUD document sourced from:\n * - `https://www.oecd.org/tax/automatic-exchange/crs-implementation-and-assistance/tax-identification-numbers/Estonia-TIN.pdf`\n */\nfunction etEeCheck(tin) {\n  // Extract year and add century\n  var full_year = tin.slice(1, 3);\n  var century_digit = tin.slice(0, 1);\n  switch (century_digit) {\n    case '1':\n    case '2':\n      full_year = \"18\".concat(full_year);\n      break;\n    case '3':\n    case '4':\n      full_year = \"19\".concat(full_year);\n      break;\n    default:\n      full_year = \"20\".concat(full_year);\n      break;\n  }\n  // Check date validity\n  var date = \"\".concat(full_year, \"/\").concat(tin.slice(3, 5), \"/\").concat(tin.slice(5, 7));\n  if (!(0, _isDate.default)(date, 'YYYY/MM/DD')) {\n    return false;\n  }\n\n  // Split digits into an array for further processing\n  var digits = tin.split('').map(function (a) {\n    return parseInt(a, 10);\n  });\n  var checksum = 0;\n  var weight = 1;\n  // Multiply by weight and add to checksum\n  for (var i = 0; i < 10; i++) {\n    checksum += digits[i] * weight;\n    weight += 1;\n    if (weight === 10) {\n      weight = 1;\n    }\n  }\n  // Do again if modulo 11 of checksum is 10\n  if (checksum % 11 === 10) {\n    checksum = 0;\n    weight = 3;\n    for (var _i3 = 0; _i3 < 10; _i3++) {\n      checksum += digits[_i3] * weight;\n      weight += 1;\n      if (weight === 10) {\n        weight = 1;\n      }\n    }\n    if (checksum % 11 === 10) {\n      return digits[10] === 0;\n    }\n  }\n  return checksum % 11 === digits[10];\n}\n\n/*\n * fi-FI validation function\n * (Henkil\u00F6tunnus (HETU), persons only)\n * Checks if birth date (first six digits plus century symbol) is valid\n * and calculates check (last) digit\n */\nfunction fiFiCheck(tin) {\n  // Extract year and add century\n  var full_year = tin.slice(4, 6);\n  var century_symbol = tin.slice(6, 7);\n  switch (century_symbol) {\n    case '+':\n      full_year = \"18\".concat(full_year);\n      break;\n    case '-':\n      full_year = \"19\".concat(full_year);\n      break;\n    default:\n      full_year = \"20\".concat(full_year);\n      break;\n  }\n  // Check date validity\n  var date = \"\".concat(full_year, \"/\").concat(tin.slice(2, 4), \"/\").concat(tin.slice(0, 2));\n  if (!(0, _isDate.default)(date, 'YYYY/MM/DD')) {\n    return false;\n  }\n\n  // Calculate check character\n  var checksum = parseInt(tin.slice(0, 6) + tin.slice(7, 10), 10) % 31;\n  if (checksum < 10) {\n    return checksum === parseInt(tin.slice(10), 10);\n  }\n  checksum -= 10;\n  var letters_lookup = ['A', 'B', 'C', 'D', 'E', 'F', 'H', 'J', 'K', 'L', 'M', 'N', 'P', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y'];\n  return letters_lookup[checksum] === tin.slice(10);\n}\n\n/*\n * fr/nl-BE validation function\n * (Num\u00E9ro national (N.N.), persons only)\n * Checks if birth date (first six digits) is valid and calculates check (last two) digits\n */\nfunction frBeCheck(tin) {\n  // Zero month/day value is acceptable\n  if (tin.slice(2, 4) !== '00' || tin.slice(4, 6) !== '00') {\n    // Extract date from first six digits of TIN\n    var date = \"\".concat(tin.slice(0, 2), \"/\").concat(tin.slice(2, 4), \"/\").concat(tin.slice(4, 6));\n    if (!(0, _isDate.default)(date, 'YY/MM/DD')) {\n      return false;\n    }\n  }\n  var checksum = 97 - parseInt(tin.slice(0, 9), 10) % 97;\n  var checkdigits = parseInt(tin.slice(9, 11), 10);\n  if (checksum !== checkdigits) {\n    checksum = 97 - parseInt(\"2\".concat(tin.slice(0, 9)), 10) % 97;\n    if (checksum !== checkdigits) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/*\n * fr-FR validation function\n * (Num\u00E9ro fiscal de r\u00E9f\u00E9rence (num\u00E9ro SPI), persons only)\n * Verify TIN validity by calculating check (last three) digits\n */\nfunction frFrCheck(tin) {\n  tin = tin.replace(/\\s/g, '');\n  var checksum = parseInt(tin.slice(0, 10), 10) % 511;\n  var checkdigits = parseInt(tin.slice(10, 13), 10);\n  return checksum === checkdigits;\n}\n\n/*\n * fr/lb-LU validation function\n * (num\u00E9ro d\u2019identification personnelle, persons only)\n * Verify birth date validity and run Luhn and Verhoeff checks\n */\nfunction frLuCheck(tin) {\n  // Extract date and check validity\n  var date = \"\".concat(tin.slice(0, 4), \"/\").concat(tin.slice(4, 6), \"/\").concat(tin.slice(6, 8));\n  if (!(0, _isDate.default)(date, 'YYYY/MM/DD')) {\n    return false;\n  }\n\n  // Run Luhn check\n  if (!algorithms.luhnCheck(tin.slice(0, 12))) {\n    return false;\n  }\n  // Remove Luhn check digit and run Verhoeff check\n  return algorithms.verhoeffCheck(\"\".concat(tin.slice(0, 11)).concat(tin[12]));\n}\n\n/*\n * hr-HR validation function\n * (Osobni identifikacijski broj (OIB), persons/entities)\n * Verify TIN validity by calling iso7064Check(digits)\n */\nfunction hrHrCheck(tin) {\n  return algorithms.iso7064Check(tin);\n}\n\n/*\n * hu-HU validation function\n * (Ad\u00F3azonos\u00EDt\u00F3 jel, persons only)\n * Verify TIN validity by calculating check (last) digit\n */\nfunction huHuCheck(tin) {\n  // split digits into an array for further processing\n  var digits = tin.split('').map(function (a) {\n    return parseInt(a, 10);\n  });\n  var checksum = 8;\n  for (var i = 1; i < 9; i++) {\n    checksum += digits[i] * (i + 1);\n  }\n  return checksum % 11 === digits[9];\n}\n\n/*\n * lt-LT validation function (should go here if needed)\n * (Asmens kodas, persons/entities respectively)\n * Current validation check is alias of etEeCheck- same format applies\n */\n\n/*\n * it-IT first/last name validity check\n * Accepts it-IT TIN-encoded names as a three-element character array and checks their validity\n * Due to lack of clarity between resources (\"Are only Italian consonants used?\n * What happens if a person has X in their name?\" etc.) only two test conditions\n * have been implemented:\n * Vowels may only be followed by other vowels or an X character\n * and X characters after vowels may only be followed by other X characters.\n */\nfunction itItNameCheck(name) {\n  // true at the first occurrence of a vowel\n  var vowelflag = false;\n\n  // true at the first occurrence of an X AFTER vowel\n  // (to properly handle last names with X as consonant)\n  var xflag = false;\n  for (var i = 0; i < 3; i++) {\n    if (!vowelflag && /[AEIOU]/.test(name[i])) {\n      vowelflag = true;\n    } else if (!xflag && vowelflag && name[i] === 'X') {\n      xflag = true;\n    } else if (i > 0) {\n      if (vowelflag && !xflag) {\n        if (!/[AEIOU]/.test(name[i])) {\n          return false;\n        }\n      }\n      if (xflag) {\n        if (!/X/.test(name[i])) {\n          return false;\n        }\n      }\n    }\n  }\n  return true;\n}\n\n/*\n * it-IT validation function\n * (Codice fiscale (TIN-IT), persons only)\n * Verify name, birth date and codice catastale validity\n * and calculate check character.\n * Material not in DG-TAXUD document sourced from:\n * `https://en.wikipedia.org/wiki/Italian_fiscal_code`\n */\nfunction itItCheck(tin) {\n  // Capitalize and split characters into an array for further processing\n  var chars = tin.toUpperCase().split('');\n\n  // Check first and last name validity calling itItNameCheck()\n  if (!itItNameCheck(chars.slice(0, 3))) {\n    return false;\n  }\n  if (!itItNameCheck(chars.slice(3, 6))) {\n    return false;\n  }\n\n  // Convert letters in number spaces back to numbers if any\n  var number_locations = [6, 7, 9, 10, 12, 13, 14];\n  var number_replace = {\n    L: '0',\n    M: '1',\n    N: '2',\n    P: '3',\n    Q: '4',\n    R: '5',\n    S: '6',\n    T: '7',\n    U: '8',\n    V: '9'\n  };\n  for (var _i4 = 0, _number_locations = number_locations; _i4 < _number_locations.length; _i4++) {\n    var i = _number_locations[_i4];\n    if (chars[i] in number_replace) {\n      chars.splice(i, 1, number_replace[chars[i]]);\n    }\n  }\n\n  // Extract month and day, and check date validity\n  var month_replace = {\n    A: '01',\n    B: '02',\n    C: '03',\n    D: '04',\n    E: '05',\n    H: '06',\n    L: '07',\n    M: '08',\n    P: '09',\n    R: '10',\n    S: '11',\n    T: '12'\n  };\n  var month = month_replace[chars[8]];\n  var day = parseInt(chars[9] + chars[10], 10);\n  if (day > 40) {\n    day -= 40;\n  }\n  if (day < 10) {\n    day = \"0\".concat(day);\n  }\n  var date = \"\".concat(chars[6]).concat(chars[7], \"/\").concat(month, \"/\").concat(day);\n  if (!(0, _isDate.default)(date, 'YY/MM/DD')) {\n    return false;\n  }\n\n  // Calculate check character by adding up even and odd characters as numbers\n  var checksum = 0;\n  for (var _i5 = 1; _i5 < chars.length - 1; _i5 += 2) {\n    var char_to_int = parseInt(chars[_i5], 10);\n    if (isNaN(char_to_int)) {\n      char_to_int = chars[_i5].charCodeAt(0) - 65;\n    }\n    checksum += char_to_int;\n  }\n  var odd_convert = {\n    // Maps of characters at odd places\n    A: 1,\n    B: 0,\n    C: 5,\n    D: 7,\n    E: 9,\n    F: 13,\n    G: 15,\n    H: 17,\n    I: 19,\n    J: 21,\n    K: 2,\n    L: 4,\n    M: 18,\n    N: 20,\n    O: 11,\n    P: 3,\n    Q: 6,\n    R: 8,\n    S: 12,\n    T: 14,\n    U: 16,\n    V: 10,\n    W: 22,\n    X: 25,\n    Y: 24,\n    Z: 23,\n    0: 1,\n    1: 0\n  };\n  for (var _i6 = 0; _i6 < chars.length - 1; _i6 += 2) {\n    var _char_to_int = 0;\n    if (chars[_i6] in odd_convert) {\n      _char_to_int = odd_convert[chars[_i6]];\n    } else {\n      var multiplier = parseInt(chars[_i6], 10);\n      _char_to_int = 2 * multiplier + 1;\n      if (multiplier > 4) {\n        _char_to_int += 2;\n      }\n    }\n    checksum += _char_to_int;\n  }\n  if (String.fromCharCode(65 + checksum % 26) !== chars[15]) {\n    return false;\n  }\n  return true;\n}\n\n/*\n * lv-LV validation function\n * (Personas kods (PK), persons only)\n * Check validity of birth date and calculate check (last) digit\n * Support only for old format numbers (not starting with '32', issued before 2017/07/01)\n * Material not in DG TAXUD document sourced from:\n * `https://boot.ritakafija.lv/forums/index.php?/topic/88314-personas-koda-algoritms-%C4%8Deksumma/`\n */\nfunction lvLvCheck(tin) {\n  tin = tin.replace(/\\W/, '');\n  // Extract date from TIN\n  var day = tin.slice(0, 2);\n  if (day !== '32') {\n    // No date/checksum check if new format\n    var month = tin.slice(2, 4);\n    if (month !== '00') {\n      // No date check if unknown month\n      var full_year = tin.slice(4, 6);\n      switch (tin[6]) {\n        case '0':\n          full_year = \"18\".concat(full_year);\n          break;\n        case '1':\n          full_year = \"19\".concat(full_year);\n          break;\n        default:\n          full_year = \"20\".concat(full_year);\n          break;\n      }\n      // Check date validity\n      var date = \"\".concat(full_year, \"/\").concat(tin.slice(2, 4), \"/\").concat(day);\n      if (!(0, _isDate.default)(date, 'YYYY/MM/DD')) {\n        return false;\n      }\n    }\n\n    // Calculate check digit\n    var checksum = 1101;\n    var multip_lookup = [1, 6, 3, 7, 9, 10, 5, 8, 4, 2];\n    for (var i = 0; i < tin.length - 1; i++) {\n      checksum -= parseInt(tin[i], 10) * multip_lookup[i];\n    }\n    return parseInt(tin[10], 10) === checksum % 11;\n  }\n  return true;\n}\n\n/*\n * mt-MT validation function\n * (Identity Card Number or Unique Taxpayer Reference, persons/entities)\n * Verify Identity Card Number structure (no other tests found)\n */\nfunction mtMtCheck(tin) {\n  if (tin.length !== 9) {\n    // No tests for UTR\n    var chars = tin.toUpperCase().split('');\n    // Fill with zeros if smaller than proper\n    while (chars.length < 8) {\n      chars.unshift(0);\n    }\n    // Validate format according to last character\n    switch (tin[7]) {\n      case 'A':\n      case 'P':\n        if (parseInt(chars[6], 10) === 0) {\n          return false;\n        }\n        break;\n      default:\n        {\n          var first_part = parseInt(chars.join('').slice(0, 5), 10);\n          if (first_part > 32000) {\n            return false;\n          }\n          var second_part = parseInt(chars.join('').slice(5, 7), 10);\n          if (first_part === second_part) {\n            return false;\n          }\n        }\n    }\n  }\n  return true;\n}\n\n/*\n * nl-NL validation function\n * (Burgerservicenummer (BSN) or Rechtspersonen Samenwerkingsverbanden Informatie Nummer (RSIN),\n * persons/entities respectively)\n * Verify TIN validity by calculating check (last) digit (variant of MOD 11)\n */\nfunction nlNlCheck(tin) {\n  return algorithms.reverseMultiplyAndSum(tin.split('').slice(0, 8).map(function (a) {\n    return parseInt(a, 10);\n  }), 9) % 11 === parseInt(tin[8], 10);\n}\n\n/*\n * pl-PL validation function\n * (Powszechny Elektroniczny System Ewidencji Ludno\u015Bci (PESEL)\n * or Numer identyfikacji podatkowej (NIP), persons/entities)\n * Verify TIN validity by validating birth date (PESEL) and calculating check (last) digit\n */\nfunction plPlCheck(tin) {\n  // NIP\n  if (tin.length === 10) {\n    // Calculate last digit by multiplying with lookup\n    var lookup = [6, 5, 7, 2, 3, 4, 5, 6, 7];\n    var _checksum = 0;\n    for (var i = 0; i < lookup.length; i++) {\n      _checksum += parseInt(tin[i], 10) * lookup[i];\n    }\n    _checksum %= 11;\n    if (_checksum === 10) {\n      return false;\n    }\n    return _checksum === parseInt(tin[9], 10);\n  }\n\n  // PESEL\n  // Extract full year using month\n  var full_year = tin.slice(0, 2);\n  var month = parseInt(tin.slice(2, 4), 10);\n  if (month > 80) {\n    full_year = \"18\".concat(full_year);\n    month -= 80;\n  } else if (month > 60) {\n    full_year = \"22\".concat(full_year);\n    month -= 60;\n  } else if (month > 40) {\n    full_year = \"21\".concat(full_year);\n    month -= 40;\n  } else if (month > 20) {\n    full_year = \"20\".concat(full_year);\n    month -= 20;\n  } else {\n    full_year = \"19\".concat(full_year);\n  }\n  // Add leading zero to month if needed\n  if (month < 10) {\n    month = \"0\".concat(month);\n  }\n  // Check date validity\n  var date = \"\".concat(full_year, \"/\").concat(month, \"/\").concat(tin.slice(4, 6));\n  if (!(0, _isDate.default)(date, 'YYYY/MM/DD')) {\n    return false;\n  }\n\n  // Calculate last digit by multiplying with odd one-digit numbers except 5\n  var checksum = 0;\n  var multiplier = 1;\n  for (var _i7 = 0; _i7 < tin.length - 1; _i7++) {\n    checksum += parseInt(tin[_i7], 10) * multiplier % 10;\n    multiplier += 2;\n    if (multiplier > 10) {\n      multiplier = 1;\n    } else if (multiplier === 5) {\n      multiplier += 2;\n    }\n  }\n  checksum = 10 - checksum % 10;\n  return checksum === parseInt(tin[10], 10);\n}\n\n/*\n* pt-BR validation function\n* (Cadastro de Pessoas F\u00EDsicas (CPF, persons)\n* Cadastro Nacional de Pessoas Jur\u00EDdicas (CNPJ, entities)\n* Both inputs will be validated\n*/\n\nfunction ptBrCheck(tin) {\n  if (tin.length === 11) {\n    var _sum;\n    var remainder;\n    _sum = 0;\n    if (\n    // Reject known invalid CPFs\n    tin === '11111111111' || tin === '22222222222' || tin === '33333333333' || tin === '44444444444' || tin === '55555555555' || tin === '66666666666' || tin === '77777777777' || tin === '88888888888' || tin === '99999999999' || tin === '00000000000') return false;\n    for (var i = 1; i <= 9; i++) _sum += parseInt(tin.substring(i - 1, i), 10) * (11 - i);\n    remainder = _sum * 10 % 11;\n    if (remainder === 10) remainder = 0;\n    if (remainder !== parseInt(tin.substring(9, 10), 10)) return false;\n    _sum = 0;\n    for (var _i8 = 1; _i8 <= 10; _i8++) _sum += parseInt(tin.substring(_i8 - 1, _i8), 10) * (12 - _i8);\n    remainder = _sum * 10 % 11;\n    if (remainder === 10) remainder = 0;\n    if (remainder !== parseInt(tin.substring(10, 11), 10)) return false;\n    return true;\n  }\n  if (\n  // Reject know invalid CNPJs\n  tin === '00000000000000' || tin === '11111111111111' || tin === '22222222222222' || tin === '33333333333333' || tin === '44444444444444' || tin === '55555555555555' || tin === '66666666666666' || tin === '77777777777777' || tin === '88888888888888' || tin === '99999999999999') {\n    return false;\n  }\n  var length = tin.length - 2;\n  var identifiers = tin.substring(0, length);\n  var verificators = tin.substring(length);\n  var sum = 0;\n  var pos = length - 7;\n  for (var _i9 = length; _i9 >= 1; _i9--) {\n    sum += identifiers.charAt(length - _i9) * pos;\n    pos -= 1;\n    if (pos < 2) {\n      pos = 9;\n    }\n  }\n  var result = sum % 11 < 2 ? 0 : 11 - sum % 11;\n  if (result !== parseInt(verificators.charAt(0), 10)) {\n    return false;\n  }\n  length += 1;\n  identifiers = tin.substring(0, length);\n  sum = 0;\n  pos = length - 7;\n  for (var _i0 = length; _i0 >= 1; _i0--) {\n    sum += identifiers.charAt(length - _i0) * pos;\n    pos -= 1;\n    if (pos < 2) {\n      pos = 9;\n    }\n  }\n  result = sum % 11 < 2 ? 0 : 11 - sum % 11;\n  if (result !== parseInt(verificators.charAt(1), 10)) {\n    return false;\n  }\n  return true;\n}\n\n/*\n * pt-PT validation function\n * (N\u00FAmero de identifica\u00E7\u00E3o fiscal (NIF), persons/entities)\n * Verify TIN validity by calculating check (last) digit (variant of MOD 11)\n */\nfunction ptPtCheck(tin) {\n  var checksum = 11 - algorithms.reverseMultiplyAndSum(tin.split('').slice(0, 8).map(function (a) {\n    return parseInt(a, 10);\n  }), 9) % 11;\n  if (checksum > 9) {\n    return parseInt(tin[8], 10) === 0;\n  }\n  return checksum === parseInt(tin[8], 10);\n}\n\n/*\n * ro-RO validation function\n * (Cod Numeric Personal (CNP) or Cod de \u00EEnregistrare fiscal\u0103 (CIF),\n * persons only)\n * Verify CNP validity by calculating check (last) digit (test not found for CIF)\n * Material not in DG TAXUD document sourced from:\n * `https://en.wikipedia.org/wiki/National_identification_number#Romania`\n */\nfunction roRoCheck(tin) {\n  if (tin.slice(0, 4) !== '9000') {\n    // No test found for this format\n    // Extract full year using century digit if possible\n    var full_year = tin.slice(1, 3);\n    switch (tin[0]) {\n      case '1':\n      case '2':\n        full_year = \"19\".concat(full_year);\n        break;\n      case '3':\n      case '4':\n        full_year = \"18\".concat(full_year);\n        break;\n      case '5':\n      case '6':\n        full_year = \"20\".concat(full_year);\n        break;\n      default:\n    }\n\n    // Check date validity\n    var date = \"\".concat(full_year, \"/\").concat(tin.slice(3, 5), \"/\").concat(tin.slice(5, 7));\n    if (date.length === 8) {\n      if (!(0, _isDate.default)(date, 'YY/MM/DD')) {\n        return false;\n      }\n    } else if (!(0, _isDate.default)(date, 'YYYY/MM/DD')) {\n      return false;\n    }\n\n    // Calculate check digit\n    var digits = tin.split('').map(function (a) {\n      return parseInt(a, 10);\n    });\n    var multipliers = [2, 7, 9, 1, 4, 6, 3, 5, 8, 2, 7, 9];\n    var checksum = 0;\n    for (var i = 0; i < multipliers.length; i++) {\n      checksum += digits[i] * multipliers[i];\n    }\n    if (checksum % 11 === 10) {\n      return digits[12] === 1;\n    }\n    return digits[12] === checksum % 11;\n  }\n  return true;\n}\n\n/*\n * sk-SK validation function\n * (Rodn\u00E9 \u010D\u00EDslo (R\u010C) or bezv\u00FDznamov\u00E9 identifika\u010Dn\u00E9 \u010D\u00EDslo (BI\u010C), persons only)\n * Checks validity of pre-1954 birth numbers (rodn\u00E9 \u010D\u00EDslo) only\n * Due to the introduction of the pseudo-random BI\u010C it is not possible to test\n * post-1954 birth numbers without knowing whether they are BI\u010C or R\u010C beforehand\n */\nfunction skSkCheck(tin) {\n  if (tin.length === 9) {\n    tin = tin.replace(/\\W/, '');\n    if (tin.slice(6) === '000') {\n      return false;\n    } // Three-zero serial not assigned before 1954\n\n    // Extract full year from TIN length\n    var full_year = parseInt(tin.slice(0, 2), 10);\n    if (full_year > 53) {\n      return false;\n    }\n    if (full_year < 10) {\n      full_year = \"190\".concat(full_year);\n    } else {\n      full_year = \"19\".concat(full_year);\n    }\n\n    // Extract month from TIN and normalize\n    var month = parseInt(tin.slice(2, 4), 10);\n    if (month > 50) {\n      month -= 50;\n    }\n    if (month < 10) {\n      month = \"0\".concat(month);\n    }\n\n    // Check date validity\n    var date = \"\".concat(full_year, \"/\").concat(month, \"/\").concat(tin.slice(4, 6));\n    if (!(0, _isDate.default)(date, 'YYYY/MM/DD')) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/*\n * sl-SI validation function\n * (Dav\u010Dna \u0161tevilka, persons/entities)\n * Verify TIN validity by calculating check (last) digit (variant of MOD 11)\n */\nfunction slSiCheck(tin) {\n  var checksum = 11 - algorithms.reverseMultiplyAndSum(tin.split('').slice(0, 7).map(function (a) {\n    return parseInt(a, 10);\n  }), 8) % 11;\n  if (checksum === 10) {\n    return parseInt(tin[7], 10) === 0;\n  }\n  return checksum === parseInt(tin[7], 10);\n}\n\n/*\n * sv-SE validation function\n * (Personnummer or samordningsnummer, persons only)\n * Checks validity of birth date and calls luhnCheck() to validate check (last) digit\n */\nfunction svSeCheck(tin) {\n  // Make copy of TIN and normalize to two-digit year form\n  var tin_copy = tin.slice(0);\n  if (tin.length > 11) {\n    tin_copy = tin_copy.slice(2);\n  }\n\n  // Extract date of birth\n  var full_year = '';\n  var month = tin_copy.slice(2, 4);\n  var day = parseInt(tin_copy.slice(4, 6), 10);\n  if (tin.length > 11) {\n    full_year = tin.slice(0, 4);\n  } else {\n    full_year = tin.slice(0, 2);\n    if (tin.length === 11 && day < 60) {\n      // Extract full year from centenarian symbol\n      // Should work just fine until year 10000 or so\n      var current_year = new Date().getFullYear().toString();\n      var current_century = parseInt(current_year.slice(0, 2), 10);\n      current_year = parseInt(current_year, 10);\n      if (tin[6] === '-') {\n        if (parseInt(\"\".concat(current_century).concat(full_year), 10) > current_year) {\n          full_year = \"\".concat(current_century - 1).concat(full_year);\n        } else {\n          full_year = \"\".concat(current_century).concat(full_year);\n        }\n      } else {\n        full_year = \"\".concat(current_century - 1).concat(full_year);\n        if (current_year - parseInt(full_year, 10) < 100) {\n          return false;\n        }\n      }\n    }\n  }\n\n  // Normalize day and check date validity\n  if (day > 60) {\n    day -= 60;\n  }\n  if (day < 10) {\n    day = \"0\".concat(day);\n  }\n  var date = \"\".concat(full_year, \"/\").concat(month, \"/\").concat(day);\n  if (date.length === 8) {\n    if (!(0, _isDate.default)(date, 'YY/MM/DD')) {\n      return false;\n    }\n  } else if (!(0, _isDate.default)(date, 'YYYY/MM/DD')) {\n    return false;\n  }\n  return algorithms.luhnCheck(tin.replace(/\\W/, ''));\n}\n\n/**\n * uk-UA validation function\n * Verify TIN validity by calculating check (last) digit (variant of MOD 11)\n */\nfunction ukUaCheck(tin) {\n  // Calculate check digit\n  var digits = tin.split('').map(function (a) {\n    return parseInt(a, 10);\n  });\n  var multipliers = [-1, 5, 7, 9, 4, 6, 10, 5, 7];\n  var checksum = 0;\n  for (var i = 0; i < multipliers.length; i++) {\n    checksum += digits[i] * multipliers[i];\n  }\n  return checksum % 11 === 10 ? digits[9] === 0 : digits[9] === checksum % 11;\n}\n\n// Locale lookup objects\n\n/*\n * Tax id regex formats for various locales\n *\n * Where not explicitly specified in DG-TAXUD document both\n * uppercase and lowercase letters are acceptable.\n */\nvar taxIdFormat = {\n  'bg-BG': /^\\d{10}$/,\n  'cs-CZ': /^\\d{6}\\/{0,1}\\d{3,4}$/,\n  'de-AT': /^\\d{9}$/,\n  'de-DE': /^[1-9]\\d{10}$/,\n  'dk-DK': /^\\d{6}-{0,1}\\d{4}$/,\n  'el-CY': /^[09]\\d{7}[A-Z]$/,\n  'el-GR': /^([0-4]|[7-9])\\d{8}$/,\n  'en-CA': /^\\d{9}$/,\n  'en-GB': /^\\d{10}$|^(?!GB|NK|TN|ZZ)(?![DFIQUV])[A-Z](?![DFIQUVO])[A-Z]\\d{6}[ABCD ]$/i,\n  'en-IE': /^\\d{7}[A-W][A-IW]{0,1}$/i,\n  'en-US': /^\\d{2}[- ]{0,1}\\d{7}$/,\n  'es-AR': /(20|23|24|27|30|33|34)[0-9]{8}[0-9]/,\n  'es-ES': /^(\\d{0,8}|[XYZKLM]\\d{7})[A-HJ-NP-TV-Z]$/i,\n  'et-EE': /^[1-6]\\d{6}(00[1-9]|0[1-9][0-9]|[1-6][0-9]{2}|70[0-9]|710)\\d$/,\n  'fi-FI': /^\\d{6}[-+A]\\d{3}[0-9A-FHJ-NPR-Y]$/i,\n  'fr-BE': /^\\d{11}$/,\n  'fr-FR': /^[0-3]\\d{12}$|^[0-3]\\d\\s\\d{2}(\\s\\d{3}){3}$/,\n  // Conforms both to official spec and provided example\n  'fr-LU': /^\\d{13}$/,\n  'hr-HR': /^\\d{11}$/,\n  'hu-HU': /^8\\d{9}$/,\n  'it-IT': /^[A-Z]{6}[L-NP-V0-9]{2}[A-EHLMPRST][L-NP-V0-9]{2}[A-ILMZ][L-NP-V0-9]{3}[A-Z]$/i,\n  'lv-LV': /^\\d{6}-{0,1}\\d{5}$/,\n  // Conforms both to DG TAXUD spec and original research\n  'mt-MT': /^\\d{3,7}[APMGLHBZ]$|^([1-8])\\1\\d{7}$/i,\n  'nl-NL': /^\\d{9}$/,\n  'pl-PL': /^\\d{10,11}$/,\n  'pt-BR': /(?:^\\d{11}$)|(?:^\\d{14}$)/,\n  'pt-PT': /^\\d{9}$/,\n  'ro-RO': /^\\d{13}$/,\n  'sk-SK': /^\\d{6}\\/{0,1}\\d{3,4}$/,\n  'sl-SI': /^[1-9]\\d{7}$/,\n  'sv-SE': /^(\\d{6}[-+]{0,1}\\d{4}|(18|19|20)\\d{6}[-+]{0,1}\\d{4})$/,\n  'uk-UA': /^\\d{10}$/\n};\n// taxIdFormat locale aliases\ntaxIdFormat['lb-LU'] = taxIdFormat['fr-LU'];\ntaxIdFormat['lt-LT'] = taxIdFormat['et-EE'];\ntaxIdFormat['nl-BE'] = taxIdFormat['fr-BE'];\ntaxIdFormat['fr-CA'] = taxIdFormat['en-CA'];\n\n// Algorithmic tax id check functions for various locales\nvar taxIdCheck = {\n  'bg-BG': bgBgCheck,\n  'cs-CZ': csCzCheck,\n  'de-AT': deAtCheck,\n  'de-DE': deDeCheck,\n  'dk-DK': dkDkCheck,\n  'el-CY': elCyCheck,\n  'el-GR': elGrCheck,\n  'en-CA': isCanadianSIN,\n  'en-IE': enIeCheck,\n  'en-US': enUsCheck,\n  'es-AR': esArCheck,\n  'es-ES': esEsCheck,\n  'et-EE': etEeCheck,\n  'fi-FI': fiFiCheck,\n  'fr-BE': frBeCheck,\n  'fr-FR': frFrCheck,\n  'fr-LU': frLuCheck,\n  'hr-HR': hrHrCheck,\n  'hu-HU': huHuCheck,\n  'it-IT': itItCheck,\n  'lv-LV': lvLvCheck,\n  'mt-MT': mtMtCheck,\n  'nl-NL': nlNlCheck,\n  'pl-PL': plPlCheck,\n  'pt-BR': ptBrCheck,\n  'pt-PT': ptPtCheck,\n  'ro-RO': roRoCheck,\n  'sk-SK': skSkCheck,\n  'sl-SI': slSiCheck,\n  'sv-SE': svSeCheck,\n  'uk-UA': ukUaCheck\n};\n// taxIdCheck locale aliases\ntaxIdCheck['lb-LU'] = taxIdCheck['fr-LU'];\ntaxIdCheck['lt-LT'] = taxIdCheck['et-EE'];\ntaxIdCheck['nl-BE'] = taxIdCheck['fr-BE'];\ntaxIdCheck['fr-CA'] = taxIdCheck['en-CA'];\n\n// Regexes for locales where characters should be omitted before checking format\nvar allsymbols = /[-\\\\\\/!@#$%\\^&\\*\\(\\)\\+\\=\\[\\]]+/g;\nvar sanitizeRegexes = {\n  'de-AT': allsymbols,\n  'de-DE': /[\\/\\\\]/g,\n  'fr-BE': allsymbols\n};\n// sanitizeRegexes locale aliases\nsanitizeRegexes['nl-BE'] = sanitizeRegexes['fr-BE'];\n\n/*\n * Validator function\n * Return true if the passed string is a valid tax identification number\n * for the specified locale.\n * Throw an error exception if the locale is not supported.\n */\nfunction isTaxID(str) {\n  var locale = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'en-US';\n  (0, _assertString.default)(str);\n  // Copy TIN to avoid replacement if sanitized\n  var strcopy = str.slice(0);\n  if (locale in taxIdFormat) {\n    if (locale in sanitizeRegexes) {\n      strcopy = strcopy.replace(sanitizeRegexes[locale], '');\n    }\n    if (!taxIdFormat[locale].test(strcopy)) {\n      return false;\n    }\n    if (locale in taxIdCheck) {\n      return taxIdCheck[locale](strcopy);\n    }\n    // Fallthrough; not all locales have algorithmic checks\n    return true;\n  }\n  throw new Error(\"Invalid locale '\".concat(locale, \"'\"));\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isMobilePhone;\nexports.locales = void 0;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\n/* eslint-disable max-len */\nvar phones = {\n  'am-AM': /^(\\+?374|0)(33|4[134]|55|77|88|9[13-689])\\d{6}$/,\n  'ar-AE': /^((\\+?971)|0)?5[024568]\\d{7}$/,\n  'ar-BH': /^(\\+?973)?(3|6)\\d{7}$/,\n  'ar-DZ': /^(\\+?213|0)(5|6|7)\\d{8}$/,\n  'ar-LB': /^(\\+?961)?((3|81)\\d{6}|7\\d{7})$/,\n  'ar-EG': /^((\\+?20)|0)?1[0125]\\d{8}$/,\n  'ar-IQ': /^(\\+?964|0)?7[0-9]\\d{8}$/,\n  'ar-JO': /^(\\+?962|0)?7[789]\\d{7}$/,\n  'ar-KW': /^(\\+?965)([569]\\d{7}|41\\d{6})$/,\n  'ar-LY': /^((\\+?218)|0)?(9[1-6]\\d{7}|[1-8]\\d{7,9})$/,\n  'ar-MA': /^(?:(?:\\+|00)212|0)[5-7]\\d{8}$/,\n  'ar-OM': /^((\\+|00)968)?([79][1-9])\\d{6}$/,\n  'ar-PS': /^(\\+?970|0)5[6|9](\\d{7})$/,\n  'ar-SA': /^(!?(\\+?966)|0)?5\\d{8}$/,\n  'ar-SD': /^((\\+?249)|0)?(9[012369]|1[012])\\d{7}$/,\n  'ar-SY': /^(!?(\\+?963)|0)?9\\d{8}$/,\n  'ar-TN': /^(\\+?216)?[2459]\\d{7}$/,\n  'az-AZ': /^(\\+994|0)(10|5[015]|7[07]|99)\\d{7}$/,\n  'ar-QA': /^(\\+?974|0)?([3567]\\d{7})$/,\n  'bs-BA': /^((((\\+|00)3876)|06))((([0-3]|[5-6])\\d{6})|(4\\d{7}))$/,\n  'be-BY': /^(\\+?375)?(24|25|29|33|44)\\d{7}$/,\n  'bg-BG': /^(\\+?359|0)?8[789]\\d{7}$/,\n  'bn-BD': /^(\\+?880|0)1[13456789][0-9]{8}$/,\n  'ca-AD': /^(\\+376)?[346]\\d{5}$/,\n  'cs-CZ': /^(\\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,\n  'da-DK': /^(\\+?45)?\\s?\\d{2}\\s?\\d{2}\\s?\\d{2}\\s?\\d{2}$/,\n  'de-DE': /^((\\+49|0)1)(5[0-25-9]\\d|6([23]|0\\d?)|7([0-57-9]|6\\d))\\d{7,9}$/,\n  'de-AT': /^(\\+43|0)\\d{1,4}\\d{3,12}$/,\n  'de-CH': /^(\\+41|0)([1-9])\\d{1,9}$/,\n  'de-LU': /^(\\+352)?((6\\d1)\\d{6})$/,\n  'dv-MV': /^(\\+?960)?(7[2-9]|9[1-9])\\d{5}$/,\n  'el-GR': /^(\\+?30|0)?6(8[5-9]|9(?![26])[0-9])\\d{7}$/,\n  'el-CY': /^(\\+?357?)?(9(9|7|6|5|4)\\d{6})$/,\n  'en-AI': /^(\\+?1|0)264(?:2(35|92)|4(?:6[1-2]|76|97)|5(?:3[6-9]|8[1-4])|7(?:2(4|9)|72))\\d{4}$/,\n  'en-AU': /^(\\+?61|0)4\\d{8}$/,\n  'en-AG': /^(?:\\+1|1)268(?:464|7(?:1[3-9]|[28]\\d|3[0246]|64|7[0-689]))\\d{4}$/,\n  'en-BM': /^(\\+?1)?441(((3|7)\\d{6}$)|(5[0-3][0-9]\\d{4}$)|(59\\d{5}$))/,\n  'en-BS': /^(\\+?1[-\\s]?|0)?\\(?242\\)?[-\\s]?\\d{3}[-\\s]?\\d{4}$/,\n  'en-GB': /^(\\+?44|0)7[1-9]\\d{8}$/,\n  'en-GG': /^(\\+?44|0)1481\\d{6}$/,\n  'en-GH': /^(\\+233|0)(20|50|24|54|27|57|26|56|23|53|28|55|59)\\d{7}$/,\n  'en-GY': /^(\\+592|0)6\\d{6}$/,\n  'en-HK': /^(\\+?852[-\\s]?)?[456789]\\d{3}[-\\s]?\\d{4}$/,\n  'en-MO': /^(\\+?853[-\\s]?)?[6]\\d{3}[-\\s]?\\d{4}$/,\n  'en-IE': /^(\\+?353|0)8[356789]\\d{7}$/,\n  'en-IN': /^(\\+?91|0)?[6789]\\d{9}$/,\n  'en-JM': /^(\\+?876)?\\d{7}$/,\n  'en-KE': /^(\\+?254|0)(7|1)\\d{8}$/,\n  'fr-CF': /^(\\+?236| ?)(70|75|77|72|21|22)\\d{6}$/,\n  'en-SS': /^(\\+?211|0)(9[1257])\\d{7}$/,\n  'en-KI': /^((\\+686|686)?)?( )?((6|7)(2|3|8)[0-9]{6})$/,\n  'en-KN': /^(?:\\+1|1)869(?:46\\d|48[89]|55[6-8]|66\\d|76[02-7])\\d{4}$/,\n  'en-LS': /^(\\+?266)(22|28|57|58|59|27|52)\\d{6}$/,\n  'en-MT': /^(\\+?356|0)?(99|79|77|21|27|22|25)[0-9]{6}$/,\n  'en-MU': /^(\\+?230|0)?\\d{8}$/,\n  'en-MW': /^(\\+?265|0)(((77|88|31|99|98|21)\\d{7})|(((111)|1)\\d{6})|(32000\\d{4}))$/,\n  'en-NA': /^(\\+?264|0)(6|8)\\d{7}$/,\n  'en-NG': /^(\\+?234|0)?[789]\\d{9}$/,\n  'en-NZ': /^(\\+?64|0)[28]\\d{7,9}$/,\n  'en-PG': /^(\\+?675|0)?(7\\d|8[18])\\d{6}$/,\n  'en-PK': /^((00|\\+)?92|0)3[0-6]\\d{8}$/,\n  'en-PH': /^(09|\\+639)\\d{9}$/,\n  'en-RW': /^(\\+?250|0)?[7]\\d{8}$/,\n  'en-SG': /^(\\+65)?[3689]\\d{7}$/,\n  'en-SL': /^(\\+?232|0)\\d{8}$/,\n  'en-TZ': /^(\\+?255|0)?[67]\\d{8}$/,\n  'en-UG': /^(\\+?256|0)?[7]\\d{8}$/,\n  'en-US': /^((\\+1|1)?( |-)?)?(\\([2-9][0-9]{2}\\)|[2-9][0-9]{2})( |-)?([2-9][0-9]{2}( |-)?[0-9]{4})$/,\n  'en-ZA': /^(\\+?27|0)\\d{9}$/,\n  'en-ZM': /^(\\+?26)?0[79][567]\\d{7}$/,\n  'en-ZW': /^(\\+263)[0-9]{9}$/,\n  'en-BW': /^(\\+?267)?(7[1-8]{1})\\d{6}$/,\n  'es-AR': /^\\+?549(11|[2368]\\d)\\d{8}$/,\n  'es-BO': /^(\\+?591)?(6|7)\\d{7}$/,\n  'es-CO': /^(\\+?57)?3(0(0|1|2|4|5)|1\\d|2[0-4]|5(0|1))\\d{7}$/,\n  'es-CL': /^(\\+?56|0)[2-9]\\d{1}\\d{7}$/,\n  'es-CR': /^(\\+506)?[2-8]\\d{7}$/,\n  'es-CU': /^(\\+53|0053)?5\\d{7}$/,\n  'es-DO': /^(\\+?1)?8[024]9\\d{7}$/,\n  'es-HN': /^(\\+?504)?[9|8|3|2]\\d{7}$/,\n  'es-EC': /^(\\+?593|0)([2-7]|9[2-9])\\d{7}$/,\n  'es-ES': /^(\\+?34)?[6|7]\\d{8}$/,\n  'es-GT': /^(\\+?502)?[2|6|7]\\d{7}$/,\n  'es-PE': /^(\\+?51)?9\\d{8}$/,\n  'es-MX': /^(\\+?52)?(1|01)?\\d{10,11}$/,\n  'es-NI': /^(\\+?505)\\d{7,8}$/,\n  'es-PA': /^(\\+?507)\\d{7,8}$/,\n  'es-PY': /^(\\+?595|0)9[9876]\\d{7}$/,\n  'es-SV': /^(\\+?503)?[67]\\d{7}$/,\n  'es-UY': /^(\\+598|0)9[1-9][\\d]{6}$/,\n  'es-VE': /^(\\+?58)?(2|4)\\d{9}$/,\n  'et-EE': /^(\\+?372)?\\s?(5|8[1-4])\\s?([0-9]\\s?){6,7}$/,\n  'fa-IR': /^(\\+?98[\\-\\s]?|0)9[0-39]\\d[\\-\\s]?\\d{3}[\\-\\s]?\\d{4}$/,\n  'fi-FI': /^(\\+?358|0)\\s?(4[0-6]|50)\\s?(\\d\\s?){4,8}$/,\n  'fj-FJ': /^(\\+?679)?\\s?\\d{3}\\s?\\d{4}$/,\n  'fo-FO': /^(\\+?298)?\\s?\\d{2}\\s?\\d{2}\\s?\\d{2}$/,\n  'fr-BF': /^(\\+226|0)[67]\\d{7}$/,\n  'fr-BJ': /^(\\+229)\\d{8}$/,\n  'fr-CD': /^(\\+?243|0)?(8|9)\\d{8}$/,\n  'fr-CM': /^(\\+?237)6[0-9]{8}$/,\n  'fr-FR': /^(\\+?33|0)[67]\\d{8}$/,\n  'fr-GF': /^(\\+?594|0|00594)[67]\\d{8}$/,\n  'fr-GP': /^(\\+?590|0|00590)[67]\\d{8}$/,\n  'fr-MQ': /^(\\+?596|0|00596)[67]\\d{8}$/,\n  'fr-PF': /^(\\+?689)?8[789]\\d{6}$/,\n  'fr-RE': /^(\\+?262|0|00262)[67]\\d{8}$/,\n  'fr-WF': /^(\\+681)?\\d{6}$/,\n  'he-IL': /^(\\+972|0)([23489]|5[012345689]|77)[1-9]\\d{6}$/,\n  'hu-HU': /^(\\+?36|06)(20|30|31|50|70)\\d{7}$/,\n  'id-ID': /^(\\+?62|0)8(1[123456789]|2[1238]|3[1238]|5[12356789]|7[78]|9[56789]|8[123456789])([\\s?|\\d]{5,11})$/,\n  'ir-IR': /^(\\+98|0)?9\\d{9}$/,\n  'it-IT': /^(\\+?39)?\\s?3\\d{2} ?\\d{6,7}$/,\n  'it-SM': /^((\\+378)|(0549)|(\\+390549)|(\\+3780549))?6\\d{5,9}$/,\n  'ja-JP': /^(\\+81[ \\-]?(\\(0\\))?|0)[6789]0[ \\-]?\\d{4}[ \\-]?\\d{4}$/,\n  'ka-GE': /^(\\+?995)?(79\\d{7}|5\\d{8})$/,\n  'kk-KZ': /^(\\+?7|8)?7\\d{9}$/,\n  'kl-GL': /^(\\+?299)?\\s?\\d{2}\\s?\\d{2}\\s?\\d{2}$/,\n  'ko-KR': /^((\\+?82)[ \\-]?)?0?1([0|1|6|7|8|9]{1})[ \\-]?\\d{3,4}[ \\-]?\\d{4}$/,\n  'ky-KG': /^(\\+996\\s?)?(22[0-9]|50[0-9]|55[0-9]|70[0-9]|75[0-9]|77[0-9]|880|990|995|996|997|998)\\s?\\d{3}\\s?\\d{3}$/,\n  'lt-LT': /^(\\+370|8)\\d{8}$/,\n  'lv-LV': /^(\\+?371)2\\d{7}$/,\n  'mg-MG': /^((\\+?261|0)(2|3)\\d)?\\d{7}$/,\n  'mn-MN': /^(\\+|00|011)?976(77|81|88|91|94|95|96|99)\\d{6}$/,\n  'my-MM': /^(\\+?959|09|9)(2[5-7]|3[1-2]|4[0-5]|6[6-9]|7[5-9]|9[6-9])[0-9]{7}$/,\n  'ms-MY': /^(\\+?60|0)1(([0145](-|\\s)?\\d{7,8})|([236-9](-|\\s)?\\d{7}))$/,\n  'mz-MZ': /^(\\+?258)?8[234567]\\d{7}$/,\n  'nb-NO': /^(\\+?47)?[49]\\d{7}$/,\n  'ne-NP': /^(\\+?977)?9[78]\\d{8}$/,\n  'nl-BE': /^(\\+?32|0)4\\d{8}$/,\n  'nl-NL': /^(((\\+|00)?31\\(0\\))|((\\+|00)?31)|0)6{1}\\d{8}$/,\n  'nl-AW': /^(\\+)?297(56|59|64|73|74|99)\\d{5}$/,\n  'nn-NO': /^(\\+?47)?[49]\\d{7}$/,\n  'pl-PL': /^(\\+?48)? ?([5-8]\\d|45) ?\\d{3} ?\\d{2} ?\\d{2}$/,\n  'pt-BR': /^((\\+?55\\ ?[1-9]{2}\\ ?)|(\\+?55\\ ?\\([1-9]{2}\\)\\ ?)|(0[1-9]{2}\\ ?)|(\\([1-9]{2}\\)\\ ?)|([1-9]{2}\\ ?))((\\d{4}\\-?\\d{4})|(9[1-9]{1}\\d{3}\\-?\\d{4}))$/,\n  'pt-PT': /^(\\+?351)?9[1236]\\d{7}$/,\n  'pt-AO': /^(\\+?244)?9\\d{8}$/,\n  'ro-MD': /^(\\+?373|0)((6(0|1|2|6|7|8|9))|(7(6|7|8|9)))\\d{6}$/,\n  'ro-RO': /^(\\+?40|0)\\s?7\\d{2}(\\/|\\s|\\.|-)?\\d{3}(\\s|\\.|-)?\\d{3}$/,\n  'ru-RU': /^(\\+?7|8)?9\\d{9}$/,\n  'si-LK': /^(?:0|94|\\+94)?(7(0|1|2|4|5|6|7|8)( |-)?)\\d{7}$/,\n  'sl-SI': /^(\\+386\\s?|0)(\\d{1}\\s?\\d{3}\\s?\\d{2}\\s?\\d{2}|\\d{2}\\s?\\d{3}\\s?\\d{3})$/,\n  'sk-SK': /^(\\+?421)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,\n  'so-SO': /^(\\+?252|0)((6[0-9])\\d{7}|(7[1-9])\\d{7})$/,\n  'sq-AL': /^(\\+355|0)6[2-9]\\d{7}$/,\n  'sr-RS': /^(\\+3816|06)[- \\d]{5,9}$/,\n  'sv-SE': /^(\\+?46|0)[\\s\\-]?7[\\s\\-]?[02369]([\\s\\-]?\\d){7}$/,\n  'tg-TJ': /^(\\+?992)?[5][5]\\d{7}$/,\n  'th-TH': /^(\\+66|66|0)\\d{9}$/,\n  'tr-TR': /^(\\+?90|0)?5\\d{9}$/,\n  'tk-TM': /^(\\+993|993|8)\\d{8}$/,\n  'uk-UA': /^(\\+?38)?0(50|6[36-8]|7[357]|9[1-9])\\d{7}$/,\n  'uz-UZ': /^(\\+?998)?(6[125-79]|7[1-69]|88|9\\d)\\d{7}$/,\n  'vi-VN': /^((\\+?84)|0)((3([2-9]))|(5([25689]))|(7([0|6-9]))|(8([1-9]))|(9([0-9])))([0-9]{7})$/,\n  'zh-CN': /^((\\+|00)86)?(1[3-9]|9[28])\\d{9}$/,\n  'zh-TW': /^(\\+?886\\-?|0)?9\\d{8}$/,\n  'dz-BT': /^(\\+?975|0)?(17|16|77|02)\\d{6}$/,\n  'ar-YE': /^(((\\+|00)9677|0?7)[0137]\\d{7}|((\\+|00)967|0)[1-7]\\d{6})$/,\n  'ar-EH': /^(\\+?212|0)[\\s\\-]?(5288|5289)[\\s\\-]?\\d{5}$/,\n  'fa-AF': /^(\\+93|0)?(2{1}[0-8]{1}|[3-5]{1}[0-4]{1})(\\d{7})$/,\n  'mk-MK': /^(\\+?389|0)?((?:2[2-9]\\d{6}|(?:3[1-4]|4[2-8])\\d{6}|500\\d{5}|5[2-9]\\d{6}|7[0-9][2-9]\\d{5}|8[1-9]\\d{6}|800\\d{5}|8009\\d{4}))$/\n};\n/* eslint-enable max-len */\n\n// aliases\nphones['en-CA'] = phones['en-US'];\nphones['fr-CA'] = phones['en-CA'];\nphones['fr-BE'] = phones['nl-BE'];\nphones['zh-HK'] = phones['en-HK'];\nphones['zh-MO'] = phones['en-MO'];\nphones['ga-IE'] = phones['en-IE'];\nphones['fr-CH'] = phones['de-CH'];\nphones['it-CH'] = phones['fr-CH'];\nfunction isMobilePhone(str, locale, options) {\n  (0, _assertString.default)(str);\n  if (options && options.strictMode && !str.startsWith('+')) {\n    return false;\n  }\n  if (Array.isArray(locale)) {\n    return locale.some(function (key) {\n      // https://github.com/gotwarlost/istanbul/blob/master/ignoring-code-for-coverage.md#ignoring-code-for-coverage-purposes\n      // istanbul ignore else\n      if (phones.hasOwnProperty(key)) {\n        var phone = phones[key];\n        if (phone.test(str)) {\n          return true;\n        }\n      }\n      return false;\n    });\n  } else if (locale in phones) {\n    return phones[locale].test(str);\n    // alias falsey locale as 'any'\n  } else if (!locale || locale === 'any') {\n    for (var key in phones) {\n      // istanbul ignore else\n      if (phones.hasOwnProperty(key)) {\n        var phone = phones[key];\n        if (phone.test(str)) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n  throw new Error(\"Invalid locale '\".concat(locale, \"'\"));\n}\nvar locales = exports.locales = Object.keys(phones);", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isEthereumAddress;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar eth = /^(0x)[0-9a-f]{40}$/i;\nfunction isEthereumAddress(str) {\n  (0, _assertString.default)(str);\n  return eth.test(str);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isCurrency;\nvar _merge = _interopRequireDefault(require(\"./util/merge\"));\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction currencyRegex(options) {\n  var decimal_digits = \"\\\\d{\".concat(options.digits_after_decimal[0], \"}\");\n  options.digits_after_decimal.forEach(function (digit, index) {\n    if (index !== 0) decimal_digits = \"\".concat(decimal_digits, \"|\\\\d{\").concat(digit, \"}\");\n  });\n  var symbol = \"(\".concat(options.symbol.replace(/\\W/, function (m) {\n      return \"\\\\\".concat(m);\n    }), \")\").concat(options.require_symbol ? '' : '?'),\n    negative = '-?',\n    whole_dollar_amount_without_sep = '[1-9]\\\\d*',\n    whole_dollar_amount_with_sep = \"[1-9]\\\\d{0,2}(\\\\\".concat(options.thousands_separator, \"\\\\d{3})*\"),\n    valid_whole_dollar_amounts = ['0', whole_dollar_amount_without_sep, whole_dollar_amount_with_sep],\n    whole_dollar_amount = \"(\".concat(valid_whole_dollar_amounts.join('|'), \")?\"),\n    decimal_amount = \"(\\\\\".concat(options.decimal_separator, \"(\").concat(decimal_digits, \"))\").concat(options.require_decimal ? '' : '?');\n  var pattern = whole_dollar_amount + (options.allow_decimal || options.require_decimal ? decimal_amount : '');\n\n  // default is negative sign before symbol, but there are two other options (besides parens)\n  if (options.allow_negatives && !options.parens_for_negatives) {\n    if (options.negative_sign_after_digits) {\n      pattern += negative;\n    } else if (options.negative_sign_before_digits) {\n      pattern = negative + pattern;\n    }\n  }\n\n  // South African Rand, for example, uses R 123 (space) and R-123 (no space)\n  if (options.allow_negative_sign_placeholder) {\n    pattern = \"( (?!\\\\-))?\".concat(pattern);\n  } else if (options.allow_space_after_symbol) {\n    pattern = \" ?\".concat(pattern);\n  } else if (options.allow_space_after_digits) {\n    pattern += '( (?!$))?';\n  }\n  if (options.symbol_after_digits) {\n    pattern += symbol;\n  } else {\n    pattern = symbol + pattern;\n  }\n  if (options.allow_negatives) {\n    if (options.parens_for_negatives) {\n      pattern = \"(\\\\(\".concat(pattern, \"\\\\)|\").concat(pattern, \")\");\n    } else if (!(options.negative_sign_before_digits || options.negative_sign_after_digits)) {\n      pattern = negative + pattern;\n    }\n  }\n\n  // ensure there's a dollar and/or decimal amount, and that\n  // it doesn't start with a space or a negative sign followed by a space\n  return new RegExp(\"^(?!-? )(?=.*\\\\d)\".concat(pattern, \"$\"));\n}\nvar default_currency_options = {\n  symbol: '$',\n  require_symbol: false,\n  allow_space_after_symbol: false,\n  symbol_after_digits: false,\n  allow_negatives: true,\n  parens_for_negatives: false,\n  negative_sign_before_digits: false,\n  negative_sign_after_digits: false,\n  allow_negative_sign_placeholder: false,\n  thousands_separator: ',',\n  decimal_separator: '.',\n  allow_decimal: true,\n  require_decimal: false,\n  digits_after_decimal: [2],\n  allow_space_after_digits: false\n};\nfunction isCurrency(str, options) {\n  (0, _assertString.default)(str);\n  options = (0, _merge.default)(options, default_currency_options);\n  return currencyRegex(options).test(str);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isBtcAddress;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar bech32 = /^(bc1|tb1|bc1p|tb1p)[ac-hj-np-z02-9]{39,58}$/;\nvar base58 = /^(1|2|3|m)[A-HJ-NP-Za-km-z1-9]{25,39}$/;\nfunction isBtcAddress(str) {\n  (0, _assertString.default)(str);\n  return bech32.test(str) || base58.test(str);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isFreightContainerID = void 0;\nexports.isISO6346 = isISO6346;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\n// https://en.wikipedia.org/wiki/ISO_6346\n// according to ISO6346 standard, checksum digit is mandatory for freight container but recommended\n// for other container types (J and Z)\nvar isISO6346Str = /^[A-Z]{3}(U[0-9]{7})|([J,Z][0-9]{6,7})$/;\nvar isDigit = /^[0-9]$/;\nfunction isISO6346(str) {\n  (0, _assertString.default)(str);\n  str = str.toUpperCase();\n  if (!isISO6346Str.test(str)) return false;\n  if (str.length === 11) {\n    var sum = 0;\n    for (var i = 0; i < str.length - 1; i++) {\n      if (!isDigit.test(str[i])) {\n        var convertedCode = void 0;\n        var letterCode = str.charCodeAt(i) - 55;\n        if (letterCode < 11) convertedCode = letterCode;else if (letterCode >= 11 && letterCode <= 20) convertedCode = 12 + letterCode % 11;else if (letterCode >= 21 && letterCode <= 30) convertedCode = 23 + letterCode % 21;else convertedCode = 34 + letterCode % 31;\n        sum += convertedCode * Math.pow(2, i);\n      } else sum += str[i] * Math.pow(2, i);\n    }\n    var checkSumDigit = sum % 11;\n    if (checkSumDigit === 10) checkSumDigit = 0;\n    return Number(str[str.length - 1]) === checkSumDigit;\n  }\n  return true;\n}\nvar isFreightContainerID = exports.isFreightContainerID = isISO6346;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isISO6391;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar isISO6391Set = new Set(['aa', 'ab', 'ae', 'af', 'ak', 'am', 'an', 'ar', 'as', 'av', 'ay', 'az', 'az', 'ba', 'be', 'bg', 'bh', 'bi', 'bm', 'bn', 'bo', 'br', 'bs', 'ca', 'ce', 'ch', 'co', 'cr', 'cs', 'cu', 'cv', 'cy', 'da', 'de', 'dv', 'dz', 'ee', 'el', 'en', 'eo', 'es', 'et', 'eu', 'fa', 'ff', 'fi', 'fj', 'fo', 'fr', 'fy', 'ga', 'gd', 'gl', 'gn', 'gu', 'gv', 'ha', 'he', 'hi', 'ho', 'hr', 'ht', 'hu', 'hy', 'hz', 'ia', 'id', 'ie', 'ig', 'ii', 'ik', 'io', 'is', 'it', 'iu', 'ja', 'jv', 'ka', 'kg', 'ki', 'kj', 'kk', 'kl', 'km', 'kn', 'ko', 'kr', 'ks', 'ku', 'kv', 'kw', 'ky', 'la', 'lb', 'lg', 'li', 'ln', 'lo', 'lt', 'lu', 'lv', 'mg', 'mh', 'mi', 'mk', 'ml', 'mn', 'mr', 'ms', 'mt', 'my', 'na', 'nb', 'nd', 'ne', 'ng', 'nl', 'nn', 'no', 'nr', 'nv', 'ny', 'oc', 'oj', 'om', 'or', 'os', 'pa', 'pi', 'pl', 'ps', 'pt', 'qu', 'rm', 'rn', 'ro', 'ru', 'rw', 'sa', 'sc', 'sd', 'se', 'sg', 'si', 'sk', 'sl', 'sm', 'sn', 'so', 'sq', 'sr', 'ss', 'st', 'su', 'sv', 'sw', 'ta', 'te', 'tg', 'th', 'ti', 'tk', 'tl', 'tn', 'to', 'tr', 'ts', 'tt', 'tw', 'ty', 'ug', 'uk', 'ur', 'uz', 've', 'vi', 'vo', 'wa', 'wo', 'xh', 'yi', 'yo', 'za', 'zh', 'zu']);\nfunction isISO6391(str) {\n  (0, _assertString.default)(str);\n  return isISO6391Set.has(str);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isISO8601;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\n/* eslint-disable max-len */\n// from http://goo.gl/0ejHHW\nvar iso8601 = /^([\\+-]?\\d{4}(?!\\d{2}\\b))((-?)((0[1-9]|1[0-2])(\\3([12]\\d|0[1-9]|3[01]))?|W([0-4]\\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\\d|[12]\\d{2}|3([0-5]\\d|6[1-6])))([T\\s]((([01]\\d|2[0-3])((:?)[0-5]\\d)?|24:?00)([\\.,]\\d+(?!:))?)?(\\17[0-5]\\d([\\.,]\\d+)?)?([zZ]|([\\+-])([01]\\d|2[0-3]):?([0-5]\\d)?)?)?)?$/;\n// same as above, except with a strict 'T' separator between date and time\nvar iso8601StrictSeparator = /^([\\+-]?\\d{4}(?!\\d{2}\\b))((-?)((0[1-9]|1[0-2])(\\3([12]\\d|0[1-9]|3[01]))?|W([0-4]\\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\\d|[12]\\d{2}|3([0-5]\\d|6[1-6])))([T]((([01]\\d|2[0-3])((:?)[0-5]\\d)?|24:?00)([\\.,]\\d+(?!:))?)?(\\17[0-5]\\d([\\.,]\\d+)?)?([zZ]|([\\+-])([01]\\d|2[0-3]):?([0-5]\\d)?)?)?)?$/;\n/* eslint-enable max-len */\nvar isValidDate = function isValidDate(str) {\n  // str must have passed the ISO8601 check\n  // this check is meant to catch invalid dates\n  // like 2009-02-31\n  // first check for ordinal dates\n  var ordinalMatch = str.match(/^(\\d{4})-?(\\d{3})([ T]{1}\\.*|$)/);\n  if (ordinalMatch) {\n    var oYear = Number(ordinalMatch[1]);\n    var oDay = Number(ordinalMatch[2]);\n    // if is leap year\n    if (oYear % 4 === 0 && oYear % 100 !== 0 || oYear % 400 === 0) return oDay <= 366;\n    return oDay <= 365;\n  }\n  var match = str.match(/(\\d{4})-?(\\d{0,2})-?(\\d*)/).map(Number);\n  var year = match[1];\n  var month = match[2];\n  var day = match[3];\n  var monthString = month ? \"0\".concat(month).slice(-2) : month;\n  var dayString = day ? \"0\".concat(day).slice(-2) : day;\n\n  // create a date object and compare\n  var d = new Date(\"\".concat(year, \"-\").concat(monthString || '01', \"-\").concat(dayString || '01'));\n  if (month && day) {\n    return d.getUTCFullYear() === year && d.getUTCMonth() + 1 === month && d.getUTCDate() === day;\n  }\n  return true;\n};\nfunction isISO8601(str) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  (0, _assertString.default)(str);\n  var check = options.strictSeparator ? iso8601StrictSeparator.test(str) : iso8601.test(str);\n  if (check && options.strict) return isValidDate(str);\n  return check;\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isRFC3339;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\n/* Based on https://tools.ietf.org/html/rfc3339#section-5.6 */\n\nvar dateFullYear = /[0-9]{4}/;\nvar dateMonth = /(0[1-9]|1[0-2])/;\nvar dateMDay = /([12]\\d|0[1-9]|3[01])/;\nvar timeHour = /([01][0-9]|2[0-3])/;\nvar timeMinute = /[0-5][0-9]/;\nvar timeSecond = /([0-5][0-9]|60)/;\nvar timeSecFrac = /(\\.[0-9]+)?/;\nvar timeNumOffset = new RegExp(\"[-+]\".concat(timeHour.source, \":\").concat(timeMinute.source));\nvar timeOffset = new RegExp(\"([zZ]|\".concat(timeNumOffset.source, \")\"));\nvar partialTime = new RegExp(\"\".concat(timeHour.source, \":\").concat(timeMinute.source, \":\").concat(timeSecond.source).concat(timeSecFrac.source));\nvar fullDate = new RegExp(\"\".concat(dateFullYear.source, \"-\").concat(dateMonth.source, \"-\").concat(dateMDay.source));\nvar fullTime = new RegExp(\"\".concat(partialTime.source).concat(timeOffset.source));\nvar rfc3339 = new RegExp(\"^\".concat(fullDate.source, \"[ tT]\").concat(fullTime.source, \"$\"));\nfunction isRFC3339(str) {\n  (0, _assertString.default)(str);\n  return rfc3339.test(str);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ScriptCodes = void 0;\nexports.default = isISO15924;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\n// from https://www.unicode.org/iso15924/iso15924-codes.html\nvar validISO15924Codes = new Set(['Adlm', 'Afak', 'Aghb', 'Ahom', 'Arab', 'Aran', 'Armi', 'Armn', 'Avst', 'Bali', 'Bamu', 'Bass', 'Batk', 'Beng', 'Bhks', 'Blis', 'Bopo', 'Brah', 'Brai', 'Bugi', 'Buhd', 'Cakm', 'Cans', 'Cari', 'Cham', 'Cher', 'Chis', 'Chrs', 'Cirt', 'Copt', 'Cpmn', 'Cprt', 'Cyrl', 'Cyrs', 'Deva', 'Diak', 'Dogr', 'Dsrt', 'Dupl', 'Egyd', 'Egyh', 'Egyp', 'Elba', 'Elym', 'Ethi', 'Gara', 'Geok', 'Geor', 'Glag', 'Gong', 'Gonm', 'Goth', 'Gran', 'Grek', 'Gujr', 'Gukh', 'Guru', 'Hanb', 'Hang', 'Hani', 'Hano', 'Hans', 'Hant', 'Hatr', 'Hebr', 'Hira', 'Hluw', 'Hmng', 'Hmnp', 'Hrkt', 'Hung', 'Inds', 'Ital', 'Jamo', 'Java', 'Jpan', 'Jurc', 'Kali', 'Kana', 'Kawi', 'Khar', 'Khmr', 'Khoj', 'Kitl', 'Kits', 'Knda', 'Kore', 'Kpel', 'Krai', 'Kthi', 'Lana', 'Laoo', 'Latf', 'Latg', 'Latn', 'Leke', 'Lepc', 'Limb', 'Lina', 'Linb', 'Lisu', 'Loma', 'Lyci', 'Lydi', 'Mahj', 'Maka', 'Mand', 'Mani', 'Marc', 'Maya', 'Medf', 'Mend', 'Merc', 'Mero', 'Mlym', 'Modi', 'Mong', 'Moon', 'Mroo', 'Mtei', 'Mult', 'Mymr', 'Nagm', 'Nand', 'Narb', 'Nbat', 'Newa', 'Nkdb', 'Nkgb', 'Nkoo', 'Nshu', 'Ogam', 'Olck', 'Onao', 'Orkh', 'Orya', 'Osge', 'Osma', 'Ougr', 'Palm', 'Pauc', 'Pcun', 'Pelm', 'Perm', 'Phag', 'Phli', 'Phlp', 'Phlv', 'Phnx', 'Plrd', 'Piqd', 'Prti', 'Psin', 'Qaaa', 'Qaab', 'Qaac', 'Qaad', 'Qaae', 'Qaaf', 'Qaag', 'Qaah', 'Qaai', 'Qaaj', 'Qaak', 'Qaal', 'Qaam', 'Qaan', 'Qaao', 'Qaap', 'Qaaq', 'Qaar', 'Qaas', 'Qaat', 'Qaau', 'Qaav', 'Qaaw', 'Qaax', 'Qaay', 'Qaaz', 'Qaba', 'Qabb', 'Qabc', 'Qabd', 'Qabe', 'Qabf', 'Qabg', 'Qabh', 'Qabi', 'Qabj', 'Qabk', 'Qabl', 'Qabm', 'Qabn', 'Qabo', 'Qabp', 'Qabq', 'Qabr', 'Qabs', 'Qabt', 'Qabu', 'Qabv', 'Qabw', 'Qabx', 'Ranj', 'Rjng', 'Rohg', 'Roro', 'Runr', 'Samr', 'Sara', 'Sarb', 'Saur', 'Sgnw', 'Shaw', 'Shrd', 'Shui', 'Sidd', 'Sidt', 'Sind', 'Sinh', 'Sogd', 'Sogo', 'Sora', 'Soyo', 'Sund', 'Sunu', 'Sylo', 'Syrc', 'Syre', 'Syrj', 'Syrn', 'Tagb', 'Takr', 'Tale', 'Talu', 'Taml', 'Tang', 'Tavt', 'Tayo', 'Telu', 'Teng', 'Tfng', 'Tglg', 'Thaa', 'Thai', 'Tibt', 'Tirh', 'Tnsa', 'Todr', 'Tols', 'Toto', 'Tutg', 'Ugar', 'Vaii', 'Visp', 'Vith', 'Wara', 'Wcho', 'Wole', 'Xpeo', 'Xsux', 'Yezi', 'Yiii', 'Zanb', 'Zinh', 'Zmth', 'Zsye', 'Zsym', 'Zxxx', 'Zyyy', 'Zzzz']);\nfunction isISO15924(str) {\n  (0, _assertString.default)(str);\n  return validISO15924Codes.has(str);\n}\nvar ScriptCodes = exports.ScriptCodes = validISO15924Codes;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isISO31661Alpha3;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\n// from https://en.wikipedia.org/wiki/ISO_3166-1_alpha-3\nvar validISO31661Alpha3CountriesCodes = new Set(['AFG', 'ALA', 'ALB', 'DZA', 'ASM', 'AND', 'AGO', 'AIA', 'ATA', 'ATG', 'ARG', 'ARM', 'ABW', 'AUS', 'AUT', 'AZE', 'BHS', 'BHR', 'BGD', 'BRB', 'BLR', 'BEL', 'BLZ', 'BEN', 'BMU', 'BTN', 'BOL', 'BES', 'BIH', 'BWA', 'BVT', 'BRA', 'IOT', 'BRN', 'BGR', 'BFA', 'BDI', 'KHM', 'CMR', 'CAN', 'CPV', 'CYM', 'CAF', 'TCD', 'CHL', 'CHN', 'CXR', 'CCK', 'COL', 'COM', 'COG', 'COD', 'COK', 'CRI', 'CIV', 'HRV', 'CUB', 'CUW', 'CYP', 'CZE', 'DNK', 'DJI', 'DMA', 'DOM', 'ECU', 'EGY', 'SLV', 'GNQ', 'ERI', 'EST', 'ETH', 'FLK', 'FRO', 'FJI', 'FIN', 'FRA', 'GUF', 'PYF', 'ATF', 'GAB', 'GMB', 'GEO', 'DEU', 'GHA', 'GIB', 'GRC', 'GRL', 'GRD', 'GLP', 'GUM', 'GTM', 'GGY', 'GIN', 'GNB', 'GUY', 'HTI', 'HMD', 'VAT', 'HND', 'HKG', 'HUN', 'ISL', 'IND', 'IDN', 'IRN', 'IRQ', 'IRL', 'IMN', 'ISR', 'ITA', 'JAM', 'JPN', 'JEY', 'JOR', 'KAZ', 'KEN', 'KIR', 'PRK', 'KOR', 'KWT', 'KGZ', 'LAO', 'LVA', 'LBN', 'LSO', 'LBR', 'LBY', 'LIE', 'LTU', 'LUX', 'MAC', 'MKD', 'MDG', 'MWI', 'MYS', 'MDV', 'MLI', 'MLT', 'MHL', 'MTQ', 'MRT', 'MUS', 'MYT', 'MEX', 'FSM', 'MDA', 'MCO', 'MNG', 'MNE', 'MSR', 'MAR', 'MOZ', 'MMR', 'NAM', 'NRU', 'NPL', 'NLD', 'NCL', 'NZL', 'NIC', 'NER', 'NGA', 'NIU', 'NFK', 'MNP', 'NOR', 'OMN', 'PAK', 'PLW', 'PSE', 'PAN', 'PNG', 'PRY', 'PER', 'PHL', 'PCN', 'POL', 'PRT', 'PRI', 'QAT', 'REU', 'ROU', 'RUS', 'RWA', 'BLM', 'SHN', 'KNA', 'LCA', 'MAF', 'SPM', 'VCT', 'WSM', 'SMR', 'STP', 'SAU', 'SEN', 'SRB', 'SYC', 'SLE', 'SGP', 'SXM', 'SVK', 'SVN', 'SLB', 'SOM', 'ZAF', 'SGS', 'SSD', 'ESP', 'LKA', 'SDN', 'SUR', 'SJM', 'SWZ', 'SWE', 'CHE', 'SYR', 'TWN', 'TJK', 'TZA', 'THA', 'TLS', 'TGO', 'TKL', 'TON', 'TTO', 'TUN', 'TUR', 'TKM', 'TCA', 'TUV', 'UGA', 'UKR', 'ARE', 'GBR', 'USA', 'UMI', 'URY', 'UZB', 'VUT', 'VEN', 'VNM', 'VGB', 'VIR', 'WLF', 'ESH', 'YEM', 'ZMB', 'ZWE']);\nfunction isISO31661Alpha3(str) {\n  (0, _assertString.default)(str);\n  return validISO31661Alpha3CountriesCodes.has(str.toUpperCase());\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isISO31661Numeric;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\n// from https://en.wikipedia.org/wiki/ISO_3166-1_numeric\nvar validISO31661NumericCountriesCodes = new Set(['004', '008', '010', '012', '016', '020', '024', '028', '031', '032', '036', '040', '044', '048', '050', '051', '052', '056', '060', '064', '068', '070', '072', '074', '076', '084', '086', '090', '092', '096', '100', '104', '108', '112', '116', '120', '124', '132', '136', '140', '144', '148', '152', '156', '158', '162', '166', '170', '174', '175', '178', '180', '184', '188', '191', '192', '196', '203', '204', '208', '212', '214', '218', '222', '226', '231', '232', '233', '234', '238', '239', '242', '246', '248', '250', '254', '258', '260', '262', '266', '268', '270', '275', '276', '288', '292', '296', '300', '304', '308', '312', '316', '320', '324', '328', '332', '334', '336', '340', '344', '348', '352', '356', '360', '364', '368', '372', '376', '380', '384', '388', '392', '398', '400', '404', '408', '410', '414', '417', '418', '422', '426', '428', '430', '434', '438', '440', '442', '446', '450', '454', '458', '462', '466', '470', '474', '478', '480', '484', '492', '496', '498', '499', '500', '504', '508', '512', '516', '520', '524', '528', '531', '533', '534', '535', '540', '548', '554', '558', '562', '566', '570', '574', '578', '580', '581', '583', '584', '585', '586', '591', '598', '600', '604', '608', '612', '616', '620', '624', '626', '630', '634', '638', '642', '643', '646', '652', '654', '659', '660', '662', '663', '666', '670', '674', '678', '682', '686', '688', '690', '694', '702', '703', '704', '705', '706', '710', '716', '724', '728', '729', '732', '740', '744', '748', '752', '756', '760', '762', '764', '768', '772', '776', '780', '784', '788', '792', '795', '796', '798', '800', '804', '807', '818', '826', '831', '832', '833', '834', '840', '850', '854', '858', '860', '862', '876', '882', '887', '894']);\nfunction isISO31661Numeric(str) {\n  (0, _assertString.default)(str);\n  return validISO31661NumericCountriesCodes.has(str);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CurrencyCodes = void 0;\nexports.default = isISO4217;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\n// from https://en.wikipedia.org/wiki/ISO_4217\nvar validISO4217CurrencyCodes = new Set(['AED', 'AFN', 'ALL', 'AMD', 'ANG', 'AOA', 'ARS', 'AUD', 'AWG', 'AZN', 'BAM', 'BBD', 'BDT', 'BGN', 'BHD', 'BIF', 'BMD', 'BND', 'BOB', 'BOV', 'BRL', 'BSD', 'BTN', 'BWP', 'BYN', 'BZD', 'CAD', 'CDF', 'CHE', 'CHF', 'CHW', 'CLF', 'CLP', 'CNY', 'COP', 'COU', 'CRC', 'CUP', 'CVE', 'CZK', 'DJF', 'DKK', 'DOP', 'DZD', 'EGP', 'ERN', 'ETB', 'EUR', 'FJD', 'FKP', 'GBP', 'GEL', 'GHS', 'GIP', 'GMD', 'GNF', 'GTQ', 'GYD', 'HKD', 'HNL', 'HTG', 'HUF', 'IDR', 'ILS', 'INR', 'IQD', 'IRR', 'ISK', 'JMD', 'JOD', 'JPY', 'KES', 'KGS', 'KHR', 'KMF', 'KPW', 'KRW', 'KWD', 'KYD', 'KZT', 'LAK', 'LBP', 'LKR', 'LRD', 'LSL', 'LYD', 'MAD', 'MDL', 'MGA', 'MKD', 'MMK', 'MNT', 'MOP', 'MRU', 'MUR', 'MVR', 'MWK', 'MXN', 'MXV', 'MYR', 'MZN', 'NAD', 'NGN', 'NIO', 'NOK', 'NPR', 'NZD', 'OMR', 'PAB', 'PEN', 'PGK', 'PHP', 'PKR', 'PLN', 'PYG', 'QAR', 'RON', 'RSD', 'RUB', 'RWF', 'SAR', 'SBD', 'SCR', 'SDG', 'SEK', 'SGD', 'SHP', 'SLE', 'SLL', 'SOS', 'SRD', 'SSP', 'STN', 'SVC', 'SYP', 'SZL', 'THB', 'TJS', 'TMT', 'TND', 'TOP', 'TRY', 'TTD', 'TWD', 'TZS', 'UAH', 'UGX', 'USD', 'USN', 'UYI', 'UYU', 'UYW', 'UZS', 'VED', 'VES', 'VND', 'VUV', 'WST', 'XAF', 'XAG', 'XAU', 'XBA', 'XBB', 'XBC', 'XBD', 'XCD', 'XDR', 'XOF', 'XPD', 'XPF', 'XPT', 'XSU', 'XTS', 'XUA', 'XXX', 'YER', 'ZAR', 'ZMW', 'ZWL']);\nfunction isISO4217(str) {\n  (0, _assertString.default)(str);\n  return validISO4217CurrencyCodes.has(str.toUpperCase());\n}\nvar CurrencyCodes = exports.CurrencyCodes = validISO4217CurrencyCodes;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isBase32;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nvar _merge = _interopRequireDefault(require(\"./util/merge\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar base32 = /^[A-Z2-7]+=*$/;\nvar crockfordBase32 = /^[A-HJKMNP-TV-Z0-9]+$/;\nvar defaultBase32Options = {\n  crockford: false\n};\nfunction isBase32(str, options) {\n  (0, _assertString.default)(str);\n  options = (0, _merge.default)(options, defaultBase32Options);\n  if (options.crockford) {\n    return crockfordBase32.test(str);\n  }\n  var len = str.length;\n  if (len % 8 === 0 && base32.test(str)) {\n    return true;\n  }\n  return false;\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isBase58;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\n// Accepted chars - 123456789ABCDEFGH JKLMN PQRSTUVWXYZabcdefghijk mnopqrstuvwxyz\nvar base58Reg = /^[A-HJ-NP-Za-km-z1-9]*$/;\nfunction isBase58(str) {\n  (0, _assertString.default)(str);\n  if (base58Reg.test(str)) {\n    return true;\n  }\n  return false;\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isDataURI;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar validMediaType = /^[a-z]+\\/[a-z0-9\\-\\+\\._]+$/i;\nvar validAttribute = /^[a-z\\-]+=[a-z0-9\\-]+$/i;\nvar validData = /^[a-z0-9!\\$&'\\(\\)\\*\\+,;=\\-\\._~:@\\/\\?%\\s]*$/i;\nfunction isDataURI(str) {\n  (0, _assertString.default)(str);\n  var data = str.split(',');\n  if (data.length < 2) {\n    return false;\n  }\n  var attributes = data.shift().trim().split(';');\n  var schemeAndMediaType = attributes.shift();\n  if (schemeAndMediaType.slice(0, 5) !== 'data:') {\n    return false;\n  }\n  var mediaType = schemeAndMediaType.slice(5);\n  if (mediaType !== '' && !validMediaType.test(mediaType)) {\n    return false;\n  }\n  for (var i = 0; i < attributes.length; i++) {\n    if (!(i === attributes.length - 1 && attributes[i].toLowerCase() === 'base64') && !validAttribute.test(attributes[i])) {\n      return false;\n    }\n  }\n  for (var _i = 0; _i < data.length; _i++) {\n    if (!validData.test(data[_i])) {\n      return false;\n    }\n  }\n  return true;\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isMagnetURI;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar magnetURIComponent = /(?:^magnet:\\?|[^?&]&)xt(?:\\.1)?=urn:(?:(?:aich|bitprint|btih|ed2k|ed2khash|kzhash|md5|sha1|tree:tiger):[a-z0-9]{32}(?:[a-z0-9]{8})?|btmh:1220[a-z0-9]{64})(?:$|&)/i;\nfunction isMagnetURI(url) {\n  (0, _assertString.default)(url);\n  if (url.indexOf('magnet:?') !== 0) {\n    return false;\n  }\n  return magnetURIComponent.test(url);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = rtrim;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction rtrim(str, chars) {\n  (0, _assertString.default)(str);\n  if (chars) {\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#Escaping\n    var pattern = new RegExp(\"[\".concat(chars.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'), \"]+$\"), 'g');\n    return str.replace(pattern, '');\n  }\n  // Use a faster and more safe than regex trim method https://blog.stevenlevithan.com/archives/faster-trim-javascript\n  var strIndex = str.length - 1;\n  while (/\\s/.test(str.charAt(strIndex))) {\n    strIndex -= 1;\n  }\n  return str.slice(0, strIndex + 1);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = ltrim;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction ltrim(str, chars) {\n  (0, _assertString.default)(str);\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#Escaping\n  var pattern = chars ? new RegExp(\"^[\".concat(chars.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'), \"]+\"), 'g') : /^\\s+/g;\n  return str.replace(pattern, '');\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = trim;\nvar _rtrim = _interopRequireDefault(require(\"./rtrim\"));\nvar _ltrim = _interopRequireDefault(require(\"./ltrim\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction trim(str, chars) {\n  return (0, _rtrim.default)((0, _ltrim.default)(str, chars), chars);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isMailtoURI;\nvar _trim = _interopRequireDefault(require(\"./trim\"));\nvar _isEmail = _interopRequireDefault(require(\"./isEmail\"));\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nfunction _createForOfIteratorHelper(r, e) { var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t.return || t.return(); } finally { if (u) throw o; } } }; }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction parseMailtoQueryString(queryString) {\n  var allowedParams = new Set(['subject', 'body', 'cc', 'bcc']),\n    query = {\n      cc: '',\n      bcc: ''\n    };\n  var isParseFailed = false;\n  var queryParams = queryString.split('&');\n  if (queryParams.length > 4) {\n    return false;\n  }\n  var _iterator = _createForOfIteratorHelper(queryParams),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var q = _step.value;\n      var _q$split = q.split('='),\n        _q$split2 = _slicedToArray(_q$split, 2),\n        key = _q$split2[0],\n        value = _q$split2[1];\n\n      // checked for invalid and duplicated query params\n      if (key && !allowedParams.has(key)) {\n        isParseFailed = true;\n        break;\n      }\n      if (value && (key === 'cc' || key === 'bcc')) {\n        query[key] = value;\n      }\n      if (key) {\n        allowedParams.delete(key);\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  return isParseFailed ? false : query;\n}\nfunction isMailtoURI(url, options) {\n  (0, _assertString.default)(url);\n  if (url.indexOf('mailto:') !== 0) {\n    return false;\n  }\n  var _url$replace$split = url.replace('mailto:', '').split('?'),\n    _url$replace$split2 = _slicedToArray(_url$replace$split, 2),\n    to = _url$replace$split2[0],\n    _url$replace$split2$ = _url$replace$split2[1],\n    queryString = _url$replace$split2$ === void 0 ? '' : _url$replace$split2$;\n  if (!to && !queryString) {\n    return true;\n  }\n  var query = parseMailtoQueryString(queryString);\n  if (!query) {\n    return false;\n  }\n  return \"\".concat(to, \",\").concat(query.cc, \",\").concat(query.bcc).split(',').every(function (email) {\n    email = (0, _trim.default)(email, ' ');\n    if (email) {\n      return (0, _isEmail.default)(email, options);\n    }\n    return true;\n  });\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isMimeType;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\n/*\n  Checks if the provided string matches to a correct Media type format (MIME type)\n\n  This function only checks is the string format follows the\n  established rules by the according RFC specifications.\n  This function supports 'charset' in textual media types\n  (https://tools.ietf.org/html/rfc6657).\n\n  This function does not check against all the media types listed\n  by the IANA (https://www.iana.org/assignments/media-types/media-types.xhtml)\n  because of lightness purposes : it would require to include\n  all these MIME types in this library, which would weigh it\n  significantly. This kind of effort maybe is not worth for the use that\n  this function has in this entire library.\n\n  More information in the RFC specifications :\n  - https://tools.ietf.org/html/rfc2045\n  - https://tools.ietf.org/html/rfc2046\n  - https://tools.ietf.org/html/rfc7231#section-3.1.1.1\n  - https://tools.ietf.org/html/rfc7231#section-3.1.1.5\n*/\n\n// Match simple MIME types\n// NB :\n//   Subtype length must not exceed 100 characters.\n//   This rule does not comply to the RFC specs (what is the max length ?).\nvar mimeTypeSimple = /^(application|audio|font|image|message|model|multipart|text|video)\\/[a-zA-Z0-9\\.\\-\\+_]{1,100}$/i; // eslint-disable-line max-len\n\n// Handle \"charset\" in \"text/*\"\nvar mimeTypeText = /^text\\/[a-zA-Z0-9\\.\\-\\+]{1,100};\\s?charset=(\"[a-zA-Z0-9\\.\\-\\+\\s]{0,70}\"|[a-zA-Z0-9\\.\\-\\+]{0,70})(\\s?\\([a-zA-Z0-9\\.\\-\\+\\s]{1,20}\\))?$/i; // eslint-disable-line max-len\n\n// Handle \"boundary\" in \"multipart/*\"\nvar mimeTypeMultipart = /^multipart\\/[a-zA-Z0-9\\.\\-\\+]{1,100}(;\\s?(boundary|charset)=(\"[a-zA-Z0-9\\.\\-\\+\\s]{0,70}\"|[a-zA-Z0-9\\.\\-\\+]{0,70})(\\s?\\([a-zA-Z0-9\\.\\-\\+\\s]{1,20}\\))?){0,2}$/i; // eslint-disable-line max-len\n\nfunction isMimeType(str) {\n  (0, _assertString.default)(str);\n  return mimeTypeSimple.test(str) || mimeTypeText.test(str) || mimeTypeMultipart.test(str);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isLatLong;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nvar _merge = _interopRequireDefault(require(\"./util/merge\"));\nvar _includesString = _interopRequireDefault(require(\"./util/includesString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar lat = /^\\(?[+-]?(90(\\.0+)?|[1-8]?\\d(\\.\\d+)?)$/;\nvar long = /^\\s?[+-]?(180(\\.0+)?|1[0-7]\\d(\\.\\d+)?|\\d{1,2}(\\.\\d+)?)\\)?$/;\nvar latDMS = /^(([1-8]?\\d)\\D+([1-5]?\\d|60)\\D+([1-5]?\\d|60)(\\.\\d+)?|90\\D+0\\D+0)\\D+[NSns]?$/i;\nvar longDMS = /^\\s*([1-7]?\\d{1,2}\\D+([1-5]?\\d|60)\\D+([1-5]?\\d|60)(\\.\\d+)?|180\\D+0\\D+0)\\D+[EWew]?$/i;\nvar defaultLatLongOptions = {\n  checkDMS: false\n};\nfunction isLatLong(str, options) {\n  (0, _assertString.default)(str);\n  options = (0, _merge.default)(options, defaultLatLongOptions);\n  if (!(0, _includesString.default)(str, ',')) return false;\n  var pair = str.split(',');\n  if (pair[0].startsWith('(') && !pair[1].endsWith(')') || pair[1].endsWith(')') && !pair[0].startsWith('(')) return false;\n  if (options.checkDMS) {\n    return latDMS.test(pair[0]) && longDMS.test(pair[1]);\n  }\n  return lat.test(pair[0]) && long.test(pair[1]);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isPostalCode;\nexports.locales = void 0;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\n// common patterns\nvar threeDigit = /^\\d{3}$/;\nvar fourDigit = /^\\d{4}$/;\nvar fiveDigit = /^\\d{5}$/;\nvar sixDigit = /^\\d{6}$/;\nvar patterns = {\n  AD: /^AD\\d{3}$/,\n  AT: fourDigit,\n  AU: fourDigit,\n  AZ: /^AZ\\d{4}$/,\n  BA: /^([7-8]\\d{4}$)/,\n  BD: /^([1-8][0-9]{3}|9[0-4][0-9]{2})$/,\n  BE: fourDigit,\n  BG: fourDigit,\n  BR: /^\\d{5}-?\\d{3}$/,\n  BY: /^2[1-4]\\d{4}$/,\n  CA: /^[ABCEGHJKLMNPRSTVXY]\\d[ABCEGHJ-NPRSTV-Z][\\s\\-]?\\d[ABCEGHJ-NPRSTV-Z]\\d$/i,\n  CH: fourDigit,\n  CN: /^(0[1-7]|1[012356]|2[0-7]|3[0-6]|4[0-7]|5[1-7]|6[1-7]|7[1-5]|8[1345]|9[09])\\d{4}$/,\n  CO: /^(05|08|11|13|15|17|18|19|20|23|25|27|41|44|47|50|52|54|63|66|68|70|73|76|81|85|86|88|91|94|95|97|99)(\\d{4})$/,\n  CZ: /^\\d{3}\\s?\\d{2}$/,\n  DE: fiveDigit,\n  DK: fourDigit,\n  DO: fiveDigit,\n  DZ: fiveDigit,\n  EE: fiveDigit,\n  ES: /^(5[0-2]{1}|[0-4]{1}\\d{1})\\d{3}$/,\n  FI: fiveDigit,\n  FR: /^(?:(?:0[1-9]|[1-8]\\d|9[0-5])\\d{3}|97[1-46]\\d{2})$/,\n  GB: /^(gir\\s?0aa|[a-z]{1,2}\\d[\\da-z]?\\s?(\\d[a-z]{2})?)$/i,\n  GR: /^\\d{3}\\s?\\d{2}$/,\n  HR: /^([1-5]\\d{4}$)/,\n  HT: /^HT\\d{4}$/,\n  HU: fourDigit,\n  ID: fiveDigit,\n  IE: /^(?!.*(?:o))[A-Za-z]\\d[\\dw]\\s\\w{4}$/i,\n  IL: /^(\\d{5}|\\d{7})$/,\n  IN: /^((?!10|29|35|54|55|65|66|86|87|88|89)[1-9][0-9]{5})$/,\n  IR: /^(?!(\\d)\\1{3})[13-9]{4}[1346-9][013-9]{5}$/,\n  IS: threeDigit,\n  IT: fiveDigit,\n  JP: /^\\d{3}\\-\\d{4}$/,\n  KE: fiveDigit,\n  KR: /^(\\d{5}|\\d{6})$/,\n  LI: /^(948[5-9]|949[0-7])$/,\n  LT: /^LT\\-\\d{5}$/,\n  LU: fourDigit,\n  LV: /^LV\\-\\d{4}$/,\n  LK: fiveDigit,\n  MG: threeDigit,\n  MX: fiveDigit,\n  MT: /^[A-Za-z]{3}\\s{0,1}\\d{4}$/,\n  MY: fiveDigit,\n  NL: /^[1-9]\\d{3}\\s?(?!sa|sd|ss)[a-z]{2}$/i,\n  NO: fourDigit,\n  NP: /^(10|21|22|32|33|34|44|45|56|57)\\d{3}$|^(977)$/i,\n  NZ: fourDigit,\n  // https://www.pakpost.gov.pk/postcodes.php\n  PK: fiveDigit,\n  PL: /^\\d{2}\\-\\d{3}$/,\n  PR: /^00[679]\\d{2}([ -]\\d{4})?$/,\n  PT: /^\\d{4}\\-\\d{3}?$/,\n  RO: sixDigit,\n  RU: sixDigit,\n  SA: fiveDigit,\n  SE: /^[1-9]\\d{2}\\s?\\d{2}$/,\n  SG: sixDigit,\n  SI: fourDigit,\n  SK: /^\\d{3}\\s?\\d{2}$/,\n  TH: fiveDigit,\n  TN: fourDigit,\n  TW: /^\\d{3}(\\d{2,3})?$/,\n  UA: fiveDigit,\n  US: /^\\d{5}(-\\d{4})?$/,\n  ZA: fourDigit,\n  ZM: fiveDigit\n};\nvar locales = exports.locales = Object.keys(patterns);\nfunction isPostalCode(str, locale) {\n  (0, _assertString.default)(str);\n  if (locale in patterns) {\n    return patterns[locale].test(str);\n  } else if (locale === 'any') {\n    for (var key in patterns) {\n      // https://github.com/gotwarlost/istanbul/blob/master/ignoring-code-for-coverage.md#ignoring-code-for-coverage-purposes\n      // istanbul ignore else\n      if (patterns.hasOwnProperty(key)) {\n        var pattern = patterns[key];\n        if (pattern.test(str)) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n  throw new Error(\"Invalid locale '\".concat(locale, \"'\"));\n}", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = escape;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction escape(str) {\n  (0, _assertString.default)(str);\n  return str.replace(/&/g, '&amp;').replace(/\"/g, '&quot;').replace(/'/g, '&#x27;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\\//g, '&#x2F;').replace(/\\\\/g, '&#x5C;').replace(/`/g, '&#96;');\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = unescape;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction unescape(str) {\n  (0, _assertString.default)(str);\n  return str.replace(/&quot;/g, '\"').replace(/&#x27;/g, \"'\").replace(/&lt;/g, '<').replace(/&gt;/g, '>').replace(/&#x2F;/g, '/').replace(/&#x5C;/g, '\\\\').replace(/&#96;/g, '`').replace(/&amp;/g, '&');\n  // &amp; replacement has to be the last one to prevent\n  // bugs with intermediate strings containing escape sequences\n  // See: https://github.com/validatorjs/validator.js/issues/1827\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = blacklist;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction blacklist(str, chars) {\n  (0, _assertString.default)(str);\n  return str.replace(new RegExp(\"[\".concat(chars, \"]+\"), 'g'), '');\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = stripLow;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nvar _blacklist = _interopRequireDefault(require(\"./blacklist\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction stripLow(str, keep_new_lines) {\n  (0, _assertString.default)(str);\n  var chars = keep_new_lines ? '\\\\x00-\\\\x09\\\\x0B\\\\x0C\\\\x0E-\\\\x1F\\\\x7F' : '\\\\x00-\\\\x1F\\\\x7F';\n  return (0, _blacklist.default)(str, chars);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = whitelist;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction whitelist(str, chars) {\n  (0, _assertString.default)(str);\n  return str.replace(new RegExp(\"[^\".concat(chars, \"]+\"), 'g'), '');\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isWhitelisted;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nfunction isWhitelisted(str, chars) {\n  (0, _assertString.default)(str);\n  for (var i = str.length - 1; i >= 0; i--) {\n    if (chars.indexOf(str[i]) === -1) {\n      return false;\n    }\n  }\n  return true;\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = normalizeEmail;\nvar _merge = _interopRequireDefault(require(\"./util/merge\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar default_normalize_email_options = {\n  // The following options apply to all email addresses\n  // Lowercases the local part of the email address.\n  // Please note this may violate RFC 5321 as per http://stackoverflow.com/a/9808332/192024).\n  // The domain is always lowercased, as per RFC 1035\n  all_lowercase: true,\n  // The following conversions are specific to GMail\n  // Lowercases the local part of the GMail address (known to be case-insensitive)\n  gmail_lowercase: true,\n  // Removes dots from the local part of the email address, as that's ignored by GMail\n  gmail_remove_dots: true,\n  // Removes the subaddress (e.g. \"+foo\") from the email address\n  gmail_remove_subaddress: true,\n  // Conversts the googlemail.com domain to gmail.com\n  gmail_convert_googlemaildotcom: true,\n  // The following conversions are specific to Outlook.com / Windows Live / Hotmail\n  // Lowercases the local part of the Outlook.com address (known to be case-insensitive)\n  outlookdotcom_lowercase: true,\n  // Removes the subaddress (e.g. \"+foo\") from the email address\n  outlookdotcom_remove_subaddress: true,\n  // The following conversions are specific to Yahoo\n  // Lowercases the local part of the Yahoo address (known to be case-insensitive)\n  yahoo_lowercase: true,\n  // Removes the subaddress (e.g. \"-foo\") from the email address\n  yahoo_remove_subaddress: true,\n  // The following conversions are specific to Yandex\n  // Lowercases the local part of the Yandex address (known to be case-insensitive)\n  yandex_lowercase: true,\n  // all yandex domains are equal, this explicitly sets the domain to 'yandex.ru'\n  yandex_convert_yandexru: true,\n  // The following conversions are specific to iCloud\n  // Lowercases the local part of the iCloud address (known to be case-insensitive)\n  icloud_lowercase: true,\n  // Removes the subaddress (e.g. \"+foo\") from the email address\n  icloud_remove_subaddress: true\n};\n\n// List of domains used by iCloud\nvar icloud_domains = ['icloud.com', 'me.com'];\n\n// List of domains used by Outlook.com and its predecessors\n// This list is likely incomplete.\n// Partial reference:\n// https://blogs.office.com/2013/04/17/outlook-com-gets-two-step-verification-sign-in-by-alias-and-new-international-domains/\nvar outlookdotcom_domains = ['hotmail.at', 'hotmail.be', 'hotmail.ca', 'hotmail.cl', 'hotmail.co.il', 'hotmail.co.nz', 'hotmail.co.th', 'hotmail.co.uk', 'hotmail.com', 'hotmail.com.ar', 'hotmail.com.au', 'hotmail.com.br', 'hotmail.com.gr', 'hotmail.com.mx', 'hotmail.com.pe', 'hotmail.com.tr', 'hotmail.com.vn', 'hotmail.cz', 'hotmail.de', 'hotmail.dk', 'hotmail.es', 'hotmail.fr', 'hotmail.hu', 'hotmail.id', 'hotmail.ie', 'hotmail.in', 'hotmail.it', 'hotmail.jp', 'hotmail.kr', 'hotmail.lv', 'hotmail.my', 'hotmail.ph', 'hotmail.pt', 'hotmail.sa', 'hotmail.sg', 'hotmail.sk', 'live.be', 'live.co.uk', 'live.com', 'live.com.ar', 'live.com.mx', 'live.de', 'live.es', 'live.eu', 'live.fr', 'live.it', 'live.nl', 'msn.com', 'outlook.at', 'outlook.be', 'outlook.cl', 'outlook.co.il', 'outlook.co.nz', 'outlook.co.th', 'outlook.com', 'outlook.com.ar', 'outlook.com.au', 'outlook.com.br', 'outlook.com.gr', 'outlook.com.pe', 'outlook.com.tr', 'outlook.com.vn', 'outlook.cz', 'outlook.de', 'outlook.dk', 'outlook.es', 'outlook.fr', 'outlook.hu', 'outlook.id', 'outlook.ie', 'outlook.in', 'outlook.it', 'outlook.jp', 'outlook.kr', 'outlook.lv', 'outlook.my', 'outlook.ph', 'outlook.pt', 'outlook.sa', 'outlook.sg', 'outlook.sk', 'passport.com'];\n\n// List of domains used by Yahoo Mail\n// This list is likely incomplete\nvar yahoo_domains = ['rocketmail.com', 'yahoo.ca', 'yahoo.co.uk', 'yahoo.com', 'yahoo.de', 'yahoo.fr', 'yahoo.in', 'yahoo.it', 'ymail.com'];\n\n// List of domains used by yandex.ru\nvar yandex_domains = ['yandex.ru', 'yandex.ua', 'yandex.kz', 'yandex.com', 'yandex.by', 'ya.ru'];\n\n// replace single dots, but not multiple consecutive dots\nfunction dotsReplacer(match) {\n  if (match.length > 1) {\n    return match;\n  }\n  return '';\n}\nfunction normalizeEmail(email, options) {\n  options = (0, _merge.default)(options, default_normalize_email_options);\n  var raw_parts = email.split('@');\n  var domain = raw_parts.pop();\n  var user = raw_parts.join('@');\n  var parts = [user, domain];\n\n  // The domain is always lowercased, as it's case-insensitive per RFC 1035\n  parts[1] = parts[1].toLowerCase();\n  if (parts[1] === 'gmail.com' || parts[1] === 'googlemail.com') {\n    // Address is GMail\n    if (options.gmail_remove_subaddress) {\n      parts[0] = parts[0].split('+')[0];\n    }\n    if (options.gmail_remove_dots) {\n      // this does not replace consecutive dots like example..email@gmail.com\n      parts[0] = parts[0].replace(/\\.+/g, dotsReplacer);\n    }\n    if (!parts[0].length) {\n      return false;\n    }\n    if (options.all_lowercase || options.gmail_lowercase) {\n      parts[0] = parts[0].toLowerCase();\n    }\n    parts[1] = options.gmail_convert_googlemaildotcom ? 'gmail.com' : parts[1];\n  } else if (icloud_domains.indexOf(parts[1]) >= 0) {\n    // Address is iCloud\n    if (options.icloud_remove_subaddress) {\n      parts[0] = parts[0].split('+')[0];\n    }\n    if (!parts[0].length) {\n      return false;\n    }\n    if (options.all_lowercase || options.icloud_lowercase) {\n      parts[0] = parts[0].toLowerCase();\n    }\n  } else if (outlookdotcom_domains.indexOf(parts[1]) >= 0) {\n    // Address is Outlook.com\n    if (options.outlookdotcom_remove_subaddress) {\n      parts[0] = parts[0].split('+')[0];\n    }\n    if (!parts[0].length) {\n      return false;\n    }\n    if (options.all_lowercase || options.outlookdotcom_lowercase) {\n      parts[0] = parts[0].toLowerCase();\n    }\n  } else if (yahoo_domains.indexOf(parts[1]) >= 0) {\n    // Address is Yahoo\n    if (options.yahoo_remove_subaddress) {\n      var components = parts[0].split('-');\n      parts[0] = components.length > 1 ? components.slice(0, -1).join('-') : components[0];\n    }\n    if (!parts[0].length) {\n      return false;\n    }\n    if (options.all_lowercase || options.yahoo_lowercase) {\n      parts[0] = parts[0].toLowerCase();\n    }\n  } else if (yandex_domains.indexOf(parts[1]) >= 0) {\n    if (options.all_lowercase || options.yandex_lowercase) {\n      parts[0] = parts[0].toLowerCase();\n    }\n    parts[1] = options.yandex_convert_yandexru ? 'yandex.ru' : parts[1];\n  } else if (options.all_lowercase) {\n    // Any other address\n    parts[0] = parts[0].toLowerCase();\n  }\n  return parts.join('@');\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isSlug;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar charsetRegex = /^[^\\s-_](?!.*?[-_]{2,})[a-z0-9-\\\\][^\\s]*[^-_\\s]$/;\nfunction isSlug(str) {\n  (0, _assertString.default)(str);\n  return charsetRegex.test(str);\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isLicensePlate;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar validators = {\n  'cs-CZ': function csCZ(str) {\n    return /^(([ABCDEFHIJKLMNPRSTUVXYZ]|[0-9])-?){5,8}$/.test(str);\n  },\n  'de-DE': function deDE(str) {\n    return /^((A|AA|AB|AC|AE|AH|AK|AM|AN|A\u00D6|AP|AS|AT|AU|AW|AZ|B|BA|BB|BC|BE|BF|BH|BI|BK|BL|BM|BN|BO|B\u00D6|BS|BT|BZ|C|CA|CB|CE|CO|CR|CW|D|DA|DD|DE|DH|DI|DL|DM|DN|DO|DU|DW|DZ|E|EA|EB|ED|EE|EF|EG|EH|EI|EL|EM|EN|ER|ES|EU|EW|F|FB|FD|FF|FG|FI|FL|FN|FO|FR|FS|FT|F\u00DC|FW|FZ|G|GA|GC|GD|GE|GF|GG|GI|GK|GL|GM|GN|G\u00D6|GP|GR|GS|GT|G\u00DC|GV|GW|GZ|H|HA|HB|HC|HD|HE|HF|HG|HH|HI|HK|HL|HM|HN|HO|HP|HR|HS|HU|HV|HX|HY|HZ|IK|IL|IN|IZ|J|JE|JL|K|KA|KB|KC|KE|KF|KG|KH|KI|KK|KL|KM|KN|KO|KR|KS|KT|KU|KW|KY|L|LA|LB|LC|LD|LF|LG|LH|LI|LL|LM|LN|L\u00D6|LP|LR|LU|M|MA|MB|MC|MD|ME|MG|MH|MI|MK|ML|MM|MN|MO|MQ|MR|MS|M\u00DC|MW|MY|MZ|N|NB|ND|NE|NF|NH|NI|NK|NM|N\u00D6|NP|NR|NT|NU|NW|NY|NZ|OA|OB|OC|OD|OE|OF|OG|OH|OK|OL|OP|OS|OZ|P|PA|PB|PE|PF|PI|PL|PM|PN|PR|PS|PW|PZ|R|RA|RC|RD|RE|RG|RH|RI|RL|RM|RN|RO|RP|RS|RT|RU|RV|RW|RZ|S|SB|SC|SE|SG|SI|SK|SL|SM|SN|SO|SP|SR|ST|SU|SW|SY|SZ|TE|TF|TG|TO|TP|TR|TS|TT|T\u00DC|\u00DCB|UE|UH|UL|UM|UN|V|VB|VG|VK|VR|VS|W|WA|WB|WE|WF|WI|WK|WL|WM|WN|WO|WR|WS|WT|W\u00DC|WW|WZ|Z|ZE|ZI|ZP|ZR|ZW|ZZ)[- ]?[A-Z]{1,2}[- ]?\\d{1,4}|(ABG|ABI|AIB|AIC|ALF|ALZ|ANA|ANG|ANK|APD|ARN|ART|ASL|ASZ|AUR|AZE|BAD|BAR|BBG|BCH|BED|BER|BGD|BGL|BID|BIN|BIR|BIT|BIW|BKS|BLB|BLK|BNA|BOG|BOH|BOR|BOT|BRA|BRB|BRG|BRK|BRL|BRV|BSB|BSK|BTF|B\u00DCD|BUL|B\u00DCR|B\u00DCS|B\u00DCZ|CAS|CHA|CLP|CLZ|COC|COE|CUX|DAH|DAN|DAU|DBR|DEG|DEL|DGF|DIL|DIN|DIZ|DKB|DLG|DON|DUD|D\u00DCW|EBE|EBN|EBS|ECK|EIC|EIL|EIN|EIS|EMD|EMS|ERB|ERH|ERK|ERZ|ESB|ESW|FDB|FDS|FEU|FFB|FKB|FL\u00D6|FOR|FRG|FRI|FRW|FTL|F\u00DCS|GAN|GAP|GDB|GEL|GEO|GER|GHA|GHC|GLA|GMN|GNT|GOA|GOH|GRA|GRH|GRI|GRM|GRZ|GTH|GUB|GUN|GVM|HAB|HAL|HAM|HAS|HBN|HBS|HCH|HDH|HDL|HEB|HEF|HEI|HER|HET|HGN|HGW|HHM|HIG|HIP|HM\u00DC|HOG|HOH|HOL|HOM|HOR|H\u00D6S|HOT|HRO|HSK|HST|HVL|HWI|IGB|ILL|J\u00DCL|KEH|KEL|KEM|KIB|KLE|KLZ|K\u00D6N|K\u00D6T|K\u00D6Z|KRU|K\u00DCN|KUS|KYF|LAN|LAU|LBS|LBZ|LDK|LDS|LEO|LER|LEV|LIB|LIF|LIP|L\u00D6B|LOS|LRO|LSZ|L\u00DCN|LUP|LWL|MAB|MAI|MAK|MAL|MED|MEG|MEI|MEK|MEL|MER|MET|MGH|MGN|MHL|MIL|MKK|MOD|MOL|MON|MOS|MSE|MSH|MSP|MST|MTK|MTL|M\u00DCB|M\u00DCR|MYK|MZG|NAB|NAI|NAU|NDH|NEA|NEB|NEC|NEN|NES|NEW|NMB|NMS|NOH|NOL|NOM|NOR|NVP|NWM|OAL|OBB|OBG|OCH|OHA|\u00D6HR|OHV|OHZ|OPR|OSL|OVI|OVL|OVP|PAF|PAN|PAR|PCH|PEG|PIR|PL\u00D6|PR\u00DC|QFT|QLB|RDG|REG|REH|REI|RID|RIE|ROD|ROF|ROK|ROL|ROS|ROT|ROW|RSL|R\u00DCD|R\u00DCG|SAB|SAD|SAN|SAW|SBG|SBK|SCZ|SDH|SDL|SDT|SEB|SEE|SEF|SEL|SFB|SFT|SGH|SHA|SHG|SHK|SHL|SIG|SIM|SLE|SLF|SLK|SLN|SLS|SL\u00DC|SLZ|SM\u00DC|SOB|SOG|SOK|S\u00D6M|SON|SPB|SPN|SRB|SRO|STA|STB|STD|STE|STL|SUL|S\u00DCW|SWA|SZB|TBB|TDO|TET|TIR|T\u00D6L|TUT|UEM|UER|UFF|USI|VAI|VEC|VER|VIB|VIE|VIT|VOH|WAF|WAK|WAN|WAR|WAT|WBS|WDA|WEL|WEN|WER|WES|WHV|WIL|WIS|WIT|WIZ|WLG|WMS|WND|WOB|WOH|WOL|WOR|WOS|WRN|WSF|WST|WSW|WTL|WTM|WUG|W\u00DCM|WUN|WUR|WZL|ZEL|ZIG)[- ]?(([A-Z][- ]?\\d{1,4})|([A-Z]{2}[- ]?\\d{1,3})))[- ]?(E|H)?$/.test(str);\n  },\n  'de-LI': function deLI(str) {\n    return /^FL[- ]?\\d{1,5}[UZ]?$/.test(str);\n  },\n  'en-IN': function enIN(str) {\n    return /^[A-Z]{2}[ -]?[0-9]{1,2}(?:[ -]?[A-Z])(?:[ -]?[A-Z]*)?[ -]?[0-9]{4}$/.test(str);\n  },\n  'en-SG': function enSG(str) {\n    return /^[A-Z]{3}[ -]?[\\d]{4}[ -]?[A-Z]{1}$/.test(str);\n  },\n  'es-AR': function esAR(str) {\n    return /^(([A-Z]{2} ?[0-9]{3} ?[A-Z]{2})|([A-Z]{3} ?[0-9]{3}))$/.test(str);\n  },\n  'fi-FI': function fiFI(str) {\n    return /^(?=.{4,7})(([A-Z]{1,3}|[0-9]{1,3})[\\s-]?([A-Z]{1,3}|[0-9]{1,5}))$/.test(str);\n  },\n  'hu-HU': function huHU(str) {\n    return /^((((?!AAA)(([A-NPRSTVZWXY]{1})([A-PR-Z]{1})([A-HJ-NPR-Z]))|(A[ABC]I)|A[ABC]O|A[A-W]Q|BPI|BPO|UCO|UDO|XAO)-(?!000)\\d{3})|(M\\d{6})|((CK|DT|CD|HC|H[ABEFIKLMNPRSTVX]|MA|OT|R[A-Z]) \\d{2}-\\d{2})|(CD \\d{3}-\\d{3})|(C-(C|X) \\d{4})|(X-(A|B|C) \\d{4})|(([EPVZ]-\\d{5}))|(S A[A-Z]{2} \\d{2})|(SP \\d{2}-\\d{2}))$/.test(str);\n  },\n  'pt-BR': function ptBR(str) {\n    return /^[A-Z]{3}[ -]?[0-9][A-Z][0-9]{2}|[A-Z]{3}[ -]?[0-9]{4}$/.test(str);\n  },\n  'pt-PT': function ptPT(str) {\n    return /^(([A-Z]{2}[ -\u00B7]?[0-9]{2}[ -\u00B7]?[0-9]{2})|([0-9]{2}[ -\u00B7]?[A-Z]{2}[ -\u00B7]?[0-9]{2})|([0-9]{2}[ -\u00B7]?[0-9]{2}[ -\u00B7]?[A-Z]{2})|([A-Z]{2}[ -\u00B7]?[0-9]{2}[ -\u00B7]?[A-Z]{2}))$/.test(str);\n  },\n  'sq-AL': function sqAL(str) {\n    return /^[A-Z]{2}[- ]?((\\d{3}[- ]?(([A-Z]{2})|T))|(R[- ]?\\d{3}))$/.test(str);\n  },\n  'sv-SE': function svSE(str) {\n    return /^[A-HJ-PR-UW-Z]{3} ?[\\d]{2}[A-HJ-PR-UW-Z1-9]$|(^[A-Z\u00C5\u00C4\u00D6 ]{2,7}$)/.test(str.trim());\n  },\n  'en-PK': function enPK(str) {\n    return /(^[A-Z]{2}((\\s|-){0,1})[0-9]{3,4}((\\s|-)[0-9]{2}){0,1}$)|(^[A-Z]{3}((\\s|-){0,1})[0-9]{3,4}((\\s|-)[0-9]{2}){0,1}$)|(^[A-Z]{4}((\\s|-){0,1})[0-9]{3,4}((\\s|-)[0-9]{2}){0,1}$)|(^[A-Z]((\\s|-){0,1})[0-9]{4}((\\s|-)[0-9]{2}){0,1}$)/.test(str.trim());\n  }\n};\nfunction isLicensePlate(str, locale) {\n  (0, _assertString.default)(str);\n  if (locale in validators) {\n    return validators[locale](str);\n  } else if (locale === 'any') {\n    for (var key in validators) {\n      /* eslint guard-for-in: 0 */\n      var validator = validators[key];\n      if (validator(str)) {\n        return true;\n      }\n    }\n    return false;\n  }\n  throw new Error(\"Invalid locale '\".concat(locale, \"'\"));\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isStrongPassword;\nvar _merge = _interopRequireDefault(require(\"./util/merge\"));\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar upperCaseRegex = /^[A-Z]$/;\nvar lowerCaseRegex = /^[a-z]$/;\nvar numberRegex = /^[0-9]$/;\nvar symbolRegex = /^[-#!$@\u00A3%^&*()_+|~=`{}\\[\\]:\";'<>?,.\\/\\\\ ]$/;\nvar defaultOptions = {\n  minLength: 8,\n  minLowercase: 1,\n  minUppercase: 1,\n  minNumbers: 1,\n  minSymbols: 1,\n  returnScore: false,\n  pointsPerUnique: 1,\n  pointsPerRepeat: 0.5,\n  pointsForContainingLower: 10,\n  pointsForContainingUpper: 10,\n  pointsForContainingNumber: 10,\n  pointsForContainingSymbol: 10\n};\n\n/* Counts number of occurrences of each char in a string\n * could be moved to util/ ?\n*/\nfunction countChars(str) {\n  var result = {};\n  Array.from(str).forEach(function (char) {\n    var curVal = result[char];\n    if (curVal) {\n      result[char] += 1;\n    } else {\n      result[char] = 1;\n    }\n  });\n  return result;\n}\n\n/* Return information about a password */\nfunction analyzePassword(password) {\n  var charMap = countChars(password);\n  var analysis = {\n    length: password.length,\n    uniqueChars: Object.keys(charMap).length,\n    uppercaseCount: 0,\n    lowercaseCount: 0,\n    numberCount: 0,\n    symbolCount: 0\n  };\n  Object.keys(charMap).forEach(function (char) {\n    /* istanbul ignore else */\n    if (upperCaseRegex.test(char)) {\n      analysis.uppercaseCount += charMap[char];\n    } else if (lowerCaseRegex.test(char)) {\n      analysis.lowercaseCount += charMap[char];\n    } else if (numberRegex.test(char)) {\n      analysis.numberCount += charMap[char];\n    } else if (symbolRegex.test(char)) {\n      analysis.symbolCount += charMap[char];\n    }\n  });\n  return analysis;\n}\nfunction scorePassword(analysis, scoringOptions) {\n  var points = 0;\n  points += analysis.uniqueChars * scoringOptions.pointsPerUnique;\n  points += (analysis.length - analysis.uniqueChars) * scoringOptions.pointsPerRepeat;\n  if (analysis.lowercaseCount > 0) {\n    points += scoringOptions.pointsForContainingLower;\n  }\n  if (analysis.uppercaseCount > 0) {\n    points += scoringOptions.pointsForContainingUpper;\n  }\n  if (analysis.numberCount > 0) {\n    points += scoringOptions.pointsForContainingNumber;\n  }\n  if (analysis.symbolCount > 0) {\n    points += scoringOptions.pointsForContainingSymbol;\n  }\n  return points;\n}\nfunction isStrongPassword(str) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  (0, _assertString.default)(str);\n  var analysis = analyzePassword(str);\n  options = (0, _merge.default)(options || {}, defaultOptions);\n  if (options.returnScore) {\n    return scorePassword(analysis, options);\n  }\n  return analysis.length >= options.minLength && analysis.lowercaseCount >= options.minLowercase && analysis.uppercaseCount >= options.minUppercase && analysis.numberCount >= options.minNumbers && analysis.symbolCount >= options.minSymbols;\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "\"use strict\";\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isVAT;\nexports.vatMatchers = void 0;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nvar algorithms = _interopRequireWildcard(require(\"./util/algorithms\"));\nfunction _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) \"default\" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar AU = function AU(str) {\n  var match = str.match(/^(AU)?(\\d{11})$/);\n  if (!match) {\n    return false;\n  }\n  // @see {@link https://abr.business.gov.au/Help/AbnFormat}\n  var weights = [10, 1, 3, 5, 7, 9, 11, 13, 15, 17, 19];\n  str = str.replace(/^AU/, '');\n  var ABN = (parseInt(str.slice(0, 1), 10) - 1).toString() + str.slice(1);\n  var total = 0;\n  for (var i = 0; i < 11; i++) {\n    total += weights[i] * ABN.charAt(i);\n  }\n  return total !== 0 && total % 89 === 0;\n};\nvar CH = function CH(str) {\n  // @see {@link https://www.ech.ch/de/ech/ech-0097/5.2.0}\n  var hasValidCheckNumber = function hasValidCheckNumber(digits) {\n    var lastDigit = digits.pop(); // used as check number\n    var weights = [5, 4, 3, 2, 7, 6, 5, 4];\n    var calculatedCheckNumber = (11 - digits.reduce(function (acc, el, idx) {\n      return acc + el * weights[idx];\n    }, 0) % 11) % 11;\n    return lastDigit === calculatedCheckNumber;\n  };\n\n  // @see {@link https://www.estv.admin.ch/estv/de/home/mehrwertsteuer/uid/mwst-uid-nummer.html}\n  return /^(CHE[- ]?)?(\\d{9}|(\\d{3}\\.\\d{3}\\.\\d{3})|(\\d{3} \\d{3} \\d{3})) ?(TVA|MWST|IVA)?$/.test(str) && hasValidCheckNumber(str.match(/\\d/g).map(function (el) {\n    return +el;\n  }));\n};\nvar PT = function PT(str) {\n  var match = str.match(/^(PT)?(\\d{9})$/);\n  if (!match) {\n    return false;\n  }\n  var tin = match[2];\n  var checksum = 11 - algorithms.reverseMultiplyAndSum(tin.split('').slice(0, 8).map(function (a) {\n    return parseInt(a, 10);\n  }), 9) % 11;\n  if (checksum > 9) {\n    return parseInt(tin[8], 10) === 0;\n  }\n  return checksum === parseInt(tin[8], 10);\n};\nvar vatMatchers = exports.vatMatchers = {\n  /**\r\n   * European Union VAT identification numbers\r\n   */\n  AT: function AT(str) {\n    return /^(AT)?U\\d{8}$/.test(str);\n  },\n  BE: function BE(str) {\n    return /^(BE)?\\d{10}$/.test(str);\n  },\n  BG: function BG(str) {\n    return /^(BG)?\\d{9,10}$/.test(str);\n  },\n  HR: function HR(str) {\n    return /^(HR)?\\d{11}$/.test(str);\n  },\n  CY: function CY(str) {\n    return /^(CY)?\\w{9}$/.test(str);\n  },\n  CZ: function CZ(str) {\n    return /^(CZ)?\\d{8,10}$/.test(str);\n  },\n  DK: function DK(str) {\n    return /^(DK)?\\d{8}$/.test(str);\n  },\n  EE: function EE(str) {\n    return /^(EE)?\\d{9}$/.test(str);\n  },\n  FI: function FI(str) {\n    return /^(FI)?\\d{8}$/.test(str);\n  },\n  FR: function FR(str) {\n    return /^(FR)([A-Z0-9]{2}\\d{9})$/.test(str);\n  },\n  DE: function DE(str) {\n    return /^(DE)?\\d{9}$/.test(str);\n  },\n  EL: function EL(str) {\n    return /^(EL)?\\d{9}$/.test(str);\n  },\n  HU: function HU(str) {\n    return /^(HU)?\\d{8}$/.test(str);\n  },\n  IE: function IE(str) {\n    return /^(IE)?\\d{7}\\w{1}(W)?$/.test(str);\n  },\n  IT: function IT(str) {\n    return /^(IT)?\\d{11}$/.test(str);\n  },\n  LV: function LV(str) {\n    return /^(LV)?\\d{11}$/.test(str);\n  },\n  LT: function LT(str) {\n    return /^(LT)?\\d{9,12}$/.test(str);\n  },\n  LU: function LU(str) {\n    return /^(LU)?\\d{8}$/.test(str);\n  },\n  MT: function MT(str) {\n    return /^(MT)?\\d{8}$/.test(str);\n  },\n  NL: function NL(str) {\n    return /^(NL)?\\d{9}B\\d{2}$/.test(str);\n  },\n  PL: function PL(str) {\n    return /^(PL)?(\\d{10}|(\\d{3}-\\d{3}-\\d{2}-\\d{2})|(\\d{3}-\\d{2}-\\d{2}-\\d{3}))$/.test(str);\n  },\n  PT: PT,\n  RO: function RO(str) {\n    return /^(RO)?\\d{2,10}$/.test(str);\n  },\n  SK: function SK(str) {\n    return /^(SK)?\\d{10}$/.test(str);\n  },\n  SI: function SI(str) {\n    return /^(SI)?\\d{8}$/.test(str);\n  },\n  ES: function ES(str) {\n    return /^(ES)?\\w\\d{7}[A-Z]$/.test(str);\n  },\n  SE: function SE(str) {\n    return /^(SE)?\\d{12}$/.test(str);\n  },\n  /**\r\n   * VAT numbers of non-EU countries\r\n   */\n  AL: function AL(str) {\n    return /^(AL)?\\w{9}[A-Z]$/.test(str);\n  },\n  MK: function MK(str) {\n    return /^(MK)?\\d{13}$/.test(str);\n  },\n  AU: AU,\n  BY: function BY(str) {\n    return /^(\u0423\u041D\u041F )?\\d{9}$/.test(str);\n  },\n  CA: function CA(str) {\n    return /^(CA)?\\d{9}$/.test(str);\n  },\n  IS: function IS(str) {\n    return /^(IS)?\\d{5,6}$/.test(str);\n  },\n  IN: function IN(str) {\n    return /^(IN)?\\d{15}$/.test(str);\n  },\n  ID: function ID(str) {\n    return /^(ID)?(\\d{15}|(\\d{2}.\\d{3}.\\d{3}.\\d{1}-\\d{3}.\\d{3}))$/.test(str);\n  },\n  IL: function IL(str) {\n    return /^(IL)?\\d{9}$/.test(str);\n  },\n  KZ: function KZ(str) {\n    return /^(KZ)?\\d{12}$/.test(str);\n  },\n  NZ: function NZ(str) {\n    return /^(NZ)?\\d{9}$/.test(str);\n  },\n  NG: function NG(str) {\n    return /^(NG)?(\\d{12}|(\\d{8}-\\d{4}))$/.test(str);\n  },\n  NO: function NO(str) {\n    return /^(NO)?\\d{9}MVA$/.test(str);\n  },\n  PH: function PH(str) {\n    return /^(PH)?(\\d{12}|\\d{3} \\d{3} \\d{3} \\d{3})$/.test(str);\n  },\n  RU: function RU(str) {\n    return /^(RU)?(\\d{10}|\\d{12})$/.test(str);\n  },\n  SM: function SM(str) {\n    return /^(SM)?\\d{5}$/.test(str);\n  },\n  SA: function SA(str) {\n    return /^(SA)?\\d{15}$/.test(str);\n  },\n  RS: function RS(str) {\n    return /^(RS)?\\d{9}$/.test(str);\n  },\n  CH: CH,\n  TR: function TR(str) {\n    return /^(TR)?\\d{10}$/.test(str);\n  },\n  UA: function UA(str) {\n    return /^(UA)?\\d{12}$/.test(str);\n  },\n  GB: function GB(str) {\n    return /^GB((\\d{3} \\d{4} ([0-8][0-9]|9[0-6]))|(\\d{9} \\d{3})|(((GD[0-4])|(HA[5-9]))[0-9]{2}))$/.test(str);\n  },\n  UZ: function UZ(str) {\n    return /^(UZ)?\\d{9}$/.test(str);\n  },\n  /**\r\n   * VAT numbers of Latin American countries\r\n   */\n  AR: function AR(str) {\n    return /^(AR)?\\d{11}$/.test(str);\n  },\n  BO: function BO(str) {\n    return /^(BO)?\\d{7}$/.test(str);\n  },\n  BR: function BR(str) {\n    return /^(BR)?((\\d{2}.\\d{3}.\\d{3}\\/\\d{4}-\\d{2})|(\\d{3}.\\d{3}.\\d{3}-\\d{2}))$/.test(str);\n  },\n  CL: function CL(str) {\n    return /^(CL)?\\d{8}-\\d{1}$/.test(str);\n  },\n  CO: function CO(str) {\n    return /^(CO)?\\d{10}$/.test(str);\n  },\n  CR: function CR(str) {\n    return /^(CR)?\\d{9,12}$/.test(str);\n  },\n  EC: function EC(str) {\n    return /^(EC)?\\d{13}$/.test(str);\n  },\n  SV: function SV(str) {\n    return /^(SV)?\\d{4}-\\d{6}-\\d{3}-\\d{1}$/.test(str);\n  },\n  GT: function GT(str) {\n    return /^(GT)?\\d{7}-\\d{1}$/.test(str);\n  },\n  HN: function HN(str) {\n    return /^(HN)?$/.test(str);\n  },\n  MX: function MX(str) {\n    return /^(MX)?\\w{3,4}\\d{6}\\w{3}$/.test(str);\n  },\n  NI: function NI(str) {\n    return /^(NI)?\\d{3}-\\d{6}-\\d{4}\\w{1}$/.test(str);\n  },\n  PA: function PA(str) {\n    return /^(PA)?$/.test(str);\n  },\n  PY: function PY(str) {\n    return /^(PY)?\\d{6,8}-\\d{1}$/.test(str);\n  },\n  PE: function PE(str) {\n    return /^(PE)?\\d{11}$/.test(str);\n  },\n  DO: function DO(str) {\n    return /^(DO)?(\\d{11}|(\\d{3}-\\d{7}-\\d{1})|[1,4,5]{1}\\d{8}|([1,4,5]{1})-\\d{2}-\\d{5}-\\d{1})$/.test(str);\n  },\n  UY: function UY(str) {\n    return /^(UY)?\\d{12}$/.test(str);\n  },\n  VE: function VE(str) {\n    return /^(VE)?[J,G,V,E]{1}-(\\d{9}|(\\d{8}-\\d{1}))$/.test(str);\n  }\n};\nfunction isVAT(str, countryCode) {\n  (0, _assertString.default)(str);\n  (0, _assertString.default)(countryCode);\n  if (countryCode in vatMatchers) {\n    return vatMatchers[countryCode](str);\n  }\n  throw new Error(\"Invalid country code: '\".concat(countryCode, \"'\"));\n}", "\"use strict\";\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _toDate = _interopRequireDefault(require(\"./lib/toDate\"));\nvar _toFloat = _interopRequireDefault(require(\"./lib/toFloat\"));\nvar _toInt = _interopRequireDefault(require(\"./lib/toInt\"));\nvar _toBoolean = _interopRequireDefault(require(\"./lib/toBoolean\"));\nvar _equals = _interopRequireDefault(require(\"./lib/equals\"));\nvar _contains = _interopRequireDefault(require(\"./lib/contains\"));\nvar _matches = _interopRequireDefault(require(\"./lib/matches\"));\nvar _isEmail = _interopRequireDefault(require(\"./lib/isEmail\"));\nvar _isURL = _interopRequireDefault(require(\"./lib/isURL\"));\nvar _isMACAddress = _interopRequireDefault(require(\"./lib/isMACAddress\"));\nvar _isIP = _interopRequireDefault(require(\"./lib/isIP\"));\nvar _isIPRange = _interopRequireDefault(require(\"./lib/isIPRange\"));\nvar _isFQDN = _interopRequireDefault(require(\"./lib/isFQDN\"));\nvar _isDate = _interopRequireDefault(require(\"./lib/isDate\"));\nvar _isTime = _interopRequireDefault(require(\"./lib/isTime\"));\nvar _isBoolean = _interopRequireDefault(require(\"./lib/isBoolean\"));\nvar _isLocale = _interopRequireDefault(require(\"./lib/isLocale\"));\nvar _isAbaRouting = _interopRequireDefault(require(\"./lib/isAbaRouting\"));\nvar _isAlpha = _interopRequireWildcard(require(\"./lib/isAlpha\"));\nvar _isAlphanumeric = _interopRequireWildcard(require(\"./lib/isAlphanumeric\"));\nvar _isNumeric = _interopRequireDefault(require(\"./lib/isNumeric\"));\nvar _isPassportNumber = _interopRequireWildcard(require(\"./lib/isPassportNumber\"));\nvar _isPort = _interopRequireDefault(require(\"./lib/isPort\"));\nvar _isLowercase = _interopRequireDefault(require(\"./lib/isLowercase\"));\nvar _isUppercase = _interopRequireDefault(require(\"./lib/isUppercase\"));\nvar _isIMEI = _interopRequireDefault(require(\"./lib/isIMEI\"));\nvar _isAscii = _interopRequireDefault(require(\"./lib/isAscii\"));\nvar _isFullWidth = _interopRequireDefault(require(\"./lib/isFullWidth\"));\nvar _isHalfWidth = _interopRequireDefault(require(\"./lib/isHalfWidth\"));\nvar _isVariableWidth = _interopRequireDefault(require(\"./lib/isVariableWidth\"));\nvar _isMultibyte = _interopRequireDefault(require(\"./lib/isMultibyte\"));\nvar _isSemVer = _interopRequireDefault(require(\"./lib/isSemVer\"));\nvar _isSurrogatePair = _interopRequireDefault(require(\"./lib/isSurrogatePair\"));\nvar _isInt = _interopRequireDefault(require(\"./lib/isInt\"));\nvar _isFloat = _interopRequireWildcard(require(\"./lib/isFloat\"));\nvar _isDecimal = _interopRequireDefault(require(\"./lib/isDecimal\"));\nvar _isHexadecimal = _interopRequireDefault(require(\"./lib/isHexadecimal\"));\nvar _isOctal = _interopRequireDefault(require(\"./lib/isOctal\"));\nvar _isDivisibleBy = _interopRequireDefault(require(\"./lib/isDivisibleBy\"));\nvar _isHexColor = _interopRequireDefault(require(\"./lib/isHexColor\"));\nvar _isRgbColor = _interopRequireDefault(require(\"./lib/isRgbColor\"));\nvar _isHSL = _interopRequireDefault(require(\"./lib/isHSL\"));\nvar _isISRC = _interopRequireDefault(require(\"./lib/isISRC\"));\nvar _isIBAN = _interopRequireWildcard(require(\"./lib/isIBAN\"));\nvar _isBIC = _interopRequireDefault(require(\"./lib/isBIC\"));\nvar _isMD = _interopRequireDefault(require(\"./lib/isMD5\"));\nvar _isHash = _interopRequireDefault(require(\"./lib/isHash\"));\nvar _isJWT = _interopRequireDefault(require(\"./lib/isJWT\"));\nvar _isJSON = _interopRequireDefault(require(\"./lib/isJSON\"));\nvar _isEmpty = _interopRequireDefault(require(\"./lib/isEmpty\"));\nvar _isLength = _interopRequireDefault(require(\"./lib/isLength\"));\nvar _isByteLength = _interopRequireDefault(require(\"./lib/isByteLength\"));\nvar _isULID = _interopRequireDefault(require(\"./lib/isULID\"));\nvar _isUUID = _interopRequireDefault(require(\"./lib/isUUID\"));\nvar _isMongoId = _interopRequireDefault(require(\"./lib/isMongoId\"));\nvar _isAfter = _interopRequireDefault(require(\"./lib/isAfter\"));\nvar _isBefore = _interopRequireDefault(require(\"./lib/isBefore\"));\nvar _isIn = _interopRequireDefault(require(\"./lib/isIn\"));\nvar _isLuhnNumber = _interopRequireDefault(require(\"./lib/isLuhnNumber\"));\nvar _isCreditCard = _interopRequireDefault(require(\"./lib/isCreditCard\"));\nvar _isIdentityCard = _interopRequireDefault(require(\"./lib/isIdentityCard\"));\nvar _isEAN = _interopRequireDefault(require(\"./lib/isEAN\"));\nvar _isISIN = _interopRequireDefault(require(\"./lib/isISIN\"));\nvar _isISBN = _interopRequireDefault(require(\"./lib/isISBN\"));\nvar _isISSN = _interopRequireDefault(require(\"./lib/isISSN\"));\nvar _isTaxID = _interopRequireDefault(require(\"./lib/isTaxID\"));\nvar _isMobilePhone = _interopRequireWildcard(require(\"./lib/isMobilePhone\"));\nvar _isEthereumAddress = _interopRequireDefault(require(\"./lib/isEthereumAddress\"));\nvar _isCurrency = _interopRequireDefault(require(\"./lib/isCurrency\"));\nvar _isBtcAddress = _interopRequireDefault(require(\"./lib/isBtcAddress\"));\nvar _isISO = require(\"./lib/isISO6346\");\nvar _isISO2 = _interopRequireDefault(require(\"./lib/isISO6391\"));\nvar _isISO3 = _interopRequireDefault(require(\"./lib/isISO8601\"));\nvar _isRFC = _interopRequireDefault(require(\"./lib/isRFC3339\"));\nvar _isISO4 = _interopRequireDefault(require(\"./lib/isISO15924\"));\nvar _isISO31661Alpha = _interopRequireDefault(require(\"./lib/isISO31661Alpha2\"));\nvar _isISO31661Alpha2 = _interopRequireDefault(require(\"./lib/isISO31661Alpha3\"));\nvar _isISO31661Numeric = _interopRequireDefault(require(\"./lib/isISO31661Numeric\"));\nvar _isISO5 = _interopRequireDefault(require(\"./lib/isISO4217\"));\nvar _isBase = _interopRequireDefault(require(\"./lib/isBase32\"));\nvar _isBase2 = _interopRequireDefault(require(\"./lib/isBase58\"));\nvar _isBase3 = _interopRequireDefault(require(\"./lib/isBase64\"));\nvar _isDataURI = _interopRequireDefault(require(\"./lib/isDataURI\"));\nvar _isMagnetURI = _interopRequireDefault(require(\"./lib/isMagnetURI\"));\nvar _isMailtoURI = _interopRequireDefault(require(\"./lib/isMailtoURI\"));\nvar _isMimeType = _interopRequireDefault(require(\"./lib/isMimeType\"));\nvar _isLatLong = _interopRequireDefault(require(\"./lib/isLatLong\"));\nvar _isPostalCode = _interopRequireWildcard(require(\"./lib/isPostalCode\"));\nvar _ltrim = _interopRequireDefault(require(\"./lib/ltrim\"));\nvar _rtrim = _interopRequireDefault(require(\"./lib/rtrim\"));\nvar _trim = _interopRequireDefault(require(\"./lib/trim\"));\nvar _escape = _interopRequireDefault(require(\"./lib/escape\"));\nvar _unescape = _interopRequireDefault(require(\"./lib/unescape\"));\nvar _stripLow = _interopRequireDefault(require(\"./lib/stripLow\"));\nvar _whitelist = _interopRequireDefault(require(\"./lib/whitelist\"));\nvar _blacklist = _interopRequireDefault(require(\"./lib/blacklist\"));\nvar _isWhitelisted = _interopRequireDefault(require(\"./lib/isWhitelisted\"));\nvar _normalizeEmail = _interopRequireDefault(require(\"./lib/normalizeEmail\"));\nvar _isSlug = _interopRequireDefault(require(\"./lib/isSlug\"));\nvar _isLicensePlate = _interopRequireDefault(require(\"./lib/isLicensePlate\"));\nvar _isStrongPassword = _interopRequireDefault(require(\"./lib/isStrongPassword\"));\nvar _isVAT = _interopRequireDefault(require(\"./lib/isVAT\"));\nfunction _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) \"default\" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar version = '13.15.23';\nvar validator = {\n  version: version,\n  toDate: _toDate.default,\n  toFloat: _toFloat.default,\n  toInt: _toInt.default,\n  toBoolean: _toBoolean.default,\n  equals: _equals.default,\n  contains: _contains.default,\n  matches: _matches.default,\n  isEmail: _isEmail.default,\n  isURL: _isURL.default,\n  isMACAddress: _isMACAddress.default,\n  isIP: _isIP.default,\n  isIPRange: _isIPRange.default,\n  isFQDN: _isFQDN.default,\n  isBoolean: _isBoolean.default,\n  isIBAN: _isIBAN.default,\n  isBIC: _isBIC.default,\n  isAbaRouting: _isAbaRouting.default,\n  isAlpha: _isAlpha.default,\n  isAlphaLocales: _isAlpha.locales,\n  isAlphanumeric: _isAlphanumeric.default,\n  isAlphanumericLocales: _isAlphanumeric.locales,\n  isNumeric: _isNumeric.default,\n  isPassportNumber: _isPassportNumber.default,\n  passportNumberLocales: _isPassportNumber.locales,\n  isPort: _isPort.default,\n  isLowercase: _isLowercase.default,\n  isUppercase: _isUppercase.default,\n  isAscii: _isAscii.default,\n  isFullWidth: _isFullWidth.default,\n  isHalfWidth: _isHalfWidth.default,\n  isVariableWidth: _isVariableWidth.default,\n  isMultibyte: _isMultibyte.default,\n  isSemVer: _isSemVer.default,\n  isSurrogatePair: _isSurrogatePair.default,\n  isInt: _isInt.default,\n  isIMEI: _isIMEI.default,\n  isFloat: _isFloat.default,\n  isFloatLocales: _isFloat.locales,\n  isDecimal: _isDecimal.default,\n  isHexadecimal: _isHexadecimal.default,\n  isOctal: _isOctal.default,\n  isDivisibleBy: _isDivisibleBy.default,\n  isHexColor: _isHexColor.default,\n  isRgbColor: _isRgbColor.default,\n  isHSL: _isHSL.default,\n  isISRC: _isISRC.default,\n  isMD5: _isMD.default,\n  isHash: _isHash.default,\n  isJWT: _isJWT.default,\n  isJSON: _isJSON.default,\n  isEmpty: _isEmpty.default,\n  isLength: _isLength.default,\n  isLocale: _isLocale.default,\n  isByteLength: _isByteLength.default,\n  isULID: _isULID.default,\n  isUUID: _isUUID.default,\n  isMongoId: _isMongoId.default,\n  isAfter: _isAfter.default,\n  isBefore: _isBefore.default,\n  isIn: _isIn.default,\n  isLuhnNumber: _isLuhnNumber.default,\n  isCreditCard: _isCreditCard.default,\n  isIdentityCard: _isIdentityCard.default,\n  isEAN: _isEAN.default,\n  isISIN: _isISIN.default,\n  isISBN: _isISBN.default,\n  isISSN: _isISSN.default,\n  isMobilePhone: _isMobilePhone.default,\n  isMobilePhoneLocales: _isMobilePhone.locales,\n  isPostalCode: _isPostalCode.default,\n  isPostalCodeLocales: _isPostalCode.locales,\n  isEthereumAddress: _isEthereumAddress.default,\n  isCurrency: _isCurrency.default,\n  isBtcAddress: _isBtcAddress.default,\n  isISO6346: _isISO.isISO6346,\n  isFreightContainerID: _isISO.isFreightContainerID,\n  isISO6391: _isISO2.default,\n  isISO8601: _isISO3.default,\n  isISO15924: _isISO4.default,\n  isRFC3339: _isRFC.default,\n  isISO31661Alpha2: _isISO31661Alpha.default,\n  isISO31661Alpha3: _isISO31661Alpha2.default,\n  isISO31661Numeric: _isISO31661Numeric.default,\n  isISO4217: _isISO5.default,\n  isBase32: _isBase.default,\n  isBase58: _isBase2.default,\n  isBase64: _isBase3.default,\n  isDataURI: _isDataURI.default,\n  isMagnetURI: _isMagnetURI.default,\n  isMailtoURI: _isMailtoURI.default,\n  isMimeType: _isMimeType.default,\n  isLatLong: _isLatLong.default,\n  ltrim: _ltrim.default,\n  rtrim: _rtrim.default,\n  trim: _trim.default,\n  escape: _escape.default,\n  unescape: _unescape.default,\n  stripLow: _stripLow.default,\n  whitelist: _whitelist.default,\n  blacklist: _blacklist.default,\n  isWhitelisted: _isWhitelisted.default,\n  normalizeEmail: _normalizeEmail.default,\n  toString: toString,\n  isSlug: _isSlug.default,\n  isStrongPassword: _isStrongPassword.default,\n  isTaxID: _isTaxID.default,\n  isDate: _isDate.default,\n  isTime: _isTime.default,\n  isLicensePlate: _isLicensePlate.default,\n  isVAT: _isVAT.default,\n  ibanLocales: _isIBAN.locales\n};\nvar _default = exports.default = validator;\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;", "import { spawn } from \"node:child_process\";\nimport fs from \"node:fs\";\nimport path from \"node:path\";\nimport {\n  Action,\n  ActionPanel,\n  BrowserExtension,\n  Clipboard,\n  Form,\n  Icon,\n  getPreferenceValues,\n  getSelectedText,\n  open,\n  showHUD,\n  showToast,\n  Toast,\n} from \"@raycast/api\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport { useForm, usePromise } from \"@raycast/utils\";\nimport { execa } from \"execa\";\nimport {\n  DownloadOptions,\n  getffmpegPath,\n  getffprobePath,\n  getFormats,\n  getFormatTitle,\n  getFormatValue,\n  getytdlPath,\n  isMac,\n  isValidHHMM,\n  isValidUrl,\n  parseHHMM,\n  sanitizeVideoTitle,\n} from \"./utils.js\";\nimport { Video } from \"./types.js\";\nimport Installer from \"./views/installer.js\";\nimport Updater from \"./views/updater.js\";\n\nconst {\n  downloadPath,\n  autoLoadUrlFromClipboard,\n  autoLoadUrlFromSelectedText,\n  enableBrowserExtensionSupport,\n  forceIpv4,\n} = getPreferenceValues<ExtensionPreferences>();\n\nexport default function DownloadVideo() {\n  const [error, setError] = useState(0);\n  const [warning, setWarning] = useState(\"\");\n\n  const ytdlPath = useMemo(() => getytdlPath(), [error]);\n  const ffmpegPath = useMemo(() => getffmpegPath(), [error]);\n  const ffprobePath = useMemo(() => getffprobePath(), [error]);\n\n  const { handleSubmit, values, itemProps, setValue, setValidationError } = useForm<DownloadOptions>({\n    initialValues: {\n      url: \"\",\n    },\n    onSubmit: async (values) => {\n      if (!values.format) return;\n      const options = [\"-o\", path.join(downloadPath, `${video?.title || \"video\"} (%(id)s).%(ext)s`)];\n      const [downloadFormat, recodeFormat] = values.format.split(\"#\");\n\n      options.push(\"--ffmpeg-location\", ffmpegPath);\n      options.push(\"--format\", downloadFormat);\n      options.push(\"--recode-video\", recodeFormat);\n\n      const toast = await showToast({\n        title: \"Downloading Video\",\n        style: Toast.Style.Animated,\n        message: \"0%\",\n      });\n\n      options.push(\"--progress\");\n      options.push(\"--print\", \"after_move:filepath\");\n\n      const process = spawn(ytdlPath, [...options, values.url]);\n\n      let filePath = \"\";\n\n      process.stdout.on(\"data\", (data) => {\n        const line = data.toString() as string;\n\n        const progress = Number(/\\[download\\]\\s+(\\d+(\\.\\d+)?)%.*/.exec(line)?.[1]);\n        if (progress) {\n          const currentProgress = Number(toast.message?.replace(\"%\", \"\"));\n\n          if (progress < currentProgress) {\n            toast.title = \"Formatting Video\";\n          }\n          toast.message = `${Math.floor(progress)}%`;\n        }\n\n        if (isMac ? line.startsWith(\"/\") : line.match(/^[a-zA-Z]:\\\\/)) {\n          filePath = line.trim();\n        }\n      });\n\n      process.stderr.on(\"data\", (data) => {\n        const line = data.toString();\n\n        if (line.startsWith(\"WARNING:\")) {\n          setWarning(line);\n        }\n\n        if (line.startsWith(\"ERROR:\")) {\n          toast.title = \"Download Failed\";\n          toast.style = Toast.Style.Failure;\n        }\n        toast.message = line;\n      });\n\n      process.on(\"close\", () => {\n        if (toast.style === Toast.Style.Failure) {\n          return;\n        }\n\n        toast.title = \"Video Downloaded\";\n        toast.style = Toast.Style.Success;\n        toast.message = video?.title;\n\n        if (filePath) {\n          toast.primaryAction = {\n            title: isMac ? \"Open in Finder\" : \"Open in Explorer\",\n            shortcut: { modifiers: [\"cmd\", \"shift\"], key: \"o\" },\n            onAction: () => {\n              open(path.dirname(filePath));\n            },\n          };\n          toast.secondaryAction = {\n            title: \"Copy to Clipboard\",\n            shortcut: { modifiers: [\"cmd\", \"shift\"], key: \"c\" },\n            onAction: () => {\n              Clipboard.copy({ file: filePath });\n              showHUD(\"Copied to Clipboard\");\n            },\n          };\n        }\n      });\n    },\n    validation: {\n      url: (value) => {\n        if (!value) {\n          return \"URL is required\";\n        }\n        if (!isValidUrl(value)) {\n          return \"Invalid URL\";\n        }\n      },\n      startTime: (value) => {\n        if (value) {\n          if (!isValidHHMM(value)) {\n            return \"Invalid time format\";\n          }\n        }\n      },\n      endTime: (value) => {\n        if (value) {\n          if (!isValidHHMM(value)) {\n            return \"Invalid time format\";\n          }\n          if (video && parseHHMM(value) > video?.duration) {\n            return \"End time is greater than video duration\";\n          }\n        }\n      },\n    },\n  });\n\n  const { data: video, isLoading } = usePromise(\n    async (url: string) => {\n      if (!url) return;\n      if (!isValidUrl(url)) return;\n\n      const result = await execa(\n        ytdlPath,\n        [forceIpv4 ? \"--force-ipv4\" : \"\", \"--dump-json\", \"--format-sort=resolution,ext,tbr\", url].filter((x) =>\n          Boolean(x),\n        ),\n      );\n      const data = JSON.parse(result.stdout) as Video;\n\n      return { ...data, title: sanitizeVideoTitle(data.title) };\n    },\n    [values.url],\n    {\n      onError(error) {\n        showToast({\n          style: Toast.Style.Failure,\n          title: \"Video not found with the provided URL\",\n          message: error.message,\n          primaryAction: {\n            title: \"Copy to Clipboard\",\n            onAction: () => {\n              Clipboard.copy(error.message);\n            },\n          },\n        });\n      },\n    },\n  );\n\n  useEffect(() => {\n    if (video) {\n      if (video.live_status !== \"not_live\" && video.live_status !== undefined) {\n        setValidationError(\"url\", \"Live streams are not supported\");\n      }\n    }\n  }, [video]);\n\n  useEffect(() => {\n    (async () => {\n      if (autoLoadUrlFromClipboard) {\n        const clipboardText = await Clipboard.readText();\n        if (clipboardText && isValidUrl(clipboardText)) {\n          setValue(\"url\", clipboardText);\n          return;\n        }\n      }\n\n      if (autoLoadUrlFromSelectedText) {\n        try {\n          const selectedText = await getSelectedText();\n          if (selectedText && isValidUrl(selectedText)) {\n            setValue(\"url\", selectedText);\n            return;\n          }\n        } catch {\n          // Suppress the error if Raycast didn't find any selected text\n        }\n      }\n\n      if (enableBrowserExtensionSupport) {\n        try {\n          const tabUrl = (await BrowserExtension.getTabs()).find((tab) => tab.active)?.url;\n          if (tabUrl && isValidUrl(tabUrl)) setValue(\"url\", tabUrl);\n        } catch {\n          // Suppress the error if Raycast didn't find browser extension\n        }\n      }\n    })();\n  }, []);\n\n  const missingExecutable = useMemo(() => {\n    if (!fs.existsSync(ytdlPath)) {\n      return \"yt-dlp\";\n    }\n    if (!fs.existsSync(ffmpegPath)) {\n      return \"ffmpeg\";\n    }\n    if (!fs.existsSync(ffprobePath)) {\n      return \"ffprobe\";\n    }\n    return null;\n  }, [error]);\n\n  const formats = useMemo(() => getFormats(video), [video]);\n\n  if (missingExecutable) {\n    return <Installer executable={missingExecutable} onRefresh={() => setError(error + 1)} />;\n  }\n\n  return (\n    <Form\n      isLoading={isLoading}\n      actions={\n        <ActionPanel>\n          <ActionPanel.Section>\n            <Action.SubmitForm\n              icon={Icon.Download}\n              title=\"Download Video\"\n              onSubmit={(values) => {\n                setWarning(\"\");\n                handleSubmit({ ...values, copyToClipboard: false } as DownloadOptions);\n              }}\n            />\n          </ActionPanel.Section>\n          <ActionPanel.Section>\n            <Action.Push icon={Icon.Hammer} title=\"Update Libraries\" target={<Updater />} />\n          </ActionPanel.Section>\n        </ActionPanel>\n      }\n      searchBarAccessory={\n        <Form.LinkAccessory\n          text=\"Supported Sites\"\n          target=\"https://github.com/yt-dlp/yt-dlp/blob/master/supportedsites.md\"\n        />\n      }\n    >\n      <Form.Description title=\"Title\" text={video?.title ?? \"Video not found\"} />\n      <Form.TextField\n        {...itemProps.url}\n        autoFocus\n        title=\"URL\"\n        placeholder=\"https://www.youtube.com/watch?v=ykaj0pS4A1A\"\n      />\n      {warning && <Form.Description text={warning} />}\n      {video && (\n        <Form.Dropdown {...itemProps.format} title=\"Format\">\n          {Object.entries(formats).map(([category, formats]) => (\n            <Form.Dropdown.Section title={category} key={category}>\n              {formats.map((format) => (\n                <Form.Dropdown.Item\n                  key={format.format_id}\n                  value={getFormatValue(format)}\n                  title={getFormatTitle(format)}\n                />\n              ))}\n            </Form.Dropdown.Section>\n          ))}\n        </Form.Dropdown>\n      )}\n    </Form>\n  );\n}\n", "var has = Object.prototype.hasOwnProperty;\n\nexport function dequal(foo, bar) {\n\tvar ctor, len;\n\tif (foo === bar) return true;\n\n\tif (foo && bar && (ctor=foo.constructor) === bar.constructor) {\n\t\tif (ctor === Date) return foo.getTime() === bar.getTime();\n\t\tif (ctor === RegExp) return foo.toString() === bar.toString();\n\n\t\tif (ctor === Array) {\n\t\t\tif ((len=foo.length) === bar.length) {\n\t\t\t\twhile (len-- && dequal(foo[len], bar[len]));\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (!ctor || typeof foo === 'object') {\n\t\t\tlen = 0;\n\t\t\tfor (ctor in foo) {\n\t\t\t\tif (has.call(foo, ctor) && ++len && !has.call(bar, ctor)) return false;\n\t\t\t\tif (!(ctor in bar) || !dequal(foo[ctor], bar[ctor])) return false;\n\t\t\t}\n\t\t\treturn Object.keys(bar).length === len;\n\t\t}\n\t}\n\n\treturn foo !== foo && bar !== bar;\n}\n", "/// <reference types=\"node\" />\n\nexport { usePromise } from \"./usePromise\";\nexport { useCachedState } from \"./useCachedState\";\nexport { useCachedPromise } from \"./useCachedPromise\";\nexport { useFetch } from \"./useFetch\";\nexport { useExec } from \"./useExec\";\nexport { useStreamJSON } from \"./useStreamJSON\";\nexport { useSQL } from \"./useSQL\";\nexport { useForm, FormValidation } from \"./useForm\";\nexport { useAI } from \"./useAI\";\nexport { useFrecencySorting } from \"./useFrecencySorting\";\nexport { useLocalStorage } from \"./useLocalStorage\";\n\nexport { getAvatarIcon, getFavicon, getProgressIcon } from \"./icon\";\n\nexport { OAuthService, withAccessToken, getAccessToken } from \"./oauth\";\n\nexport { createDeeplink, createExtensionDeeplink, createScriptCommandDeeplink, DeeplinkType } from \"./createDeeplink\";\nexport { executeSQL } from \"./executeSQL\";\nexport { runAppleScript } from \"./run-applescript\";\nexport { runPowerShellScript } from \"./run-powershell-script\";\nexport { showFailureToast } from \"./showFailureToast\";\nexport { withCache } from \"./cache\";\n\nexport type { PromiseOptions } from \"./usePromise\";\nexport type { CachedPromiseOptions } from \"./useCachedPromise\";\nexport type {\n  OAuthServiceOptions,\n  OnAuthorizeParams,\n  WithAccessTokenComponentOrFn,\n  ProviderWithDefaultClientOptions,\n  ProviderOptions,\n} from \"./oauth\";\nexport type { AsyncState, MutatePromise } from \"./types\";\n", "import { useEffect, useCallback, RefObject, useRef, useState } from \"react\";\nimport { environment, LaunchType, Toast } from \"@raycast/api\";\nimport { useDeepMemo } from \"./useDeepMemo\";\nimport {\n  FunctionReturningPromise,\n  MutatePromise,\n  UsePromiseReturnType,\n  AsyncState,\n  FunctionReturningPaginatedPromise,\n  UnwrapReturn,\n  PaginationOptions,\n} from \"./types\";\nimport { useLatest } from \"./useLatest\";\nimport { showFailureToast } from \"./showFailureToast\";\n\nexport type PromiseOptions<T extends FunctionReturningPromise | FunctionReturningPaginatedPromise> = {\n  /**\n   * A reference to an `AbortController` to cancel a previous call when triggering a new one\n   */\n  abortable?: RefObject<AbortController | null | undefined>;\n  /**\n   * Whether to actually execute the function or not.\n   * This is useful for cases where one of the function's arguments depends on something that\n   * might not be available right away (for example, depends on some user inputs). Because React requires\n   * every hooks to be defined on the render, this flag enables you to define the hook right away but\n   * wait util you have all the arguments ready to execute the function.\n   */\n  execute?: boolean;\n  /**\n   * Options for the generic failure toast.\n   * It allows you to customize the title, message, and primary action of the failure toast.\n   */\n  failureToastOptions?: Partial<Pick<Toast.Options, \"title\" | \"primaryAction\" | \"message\">>;\n  /**\n   * Called when an execution fails. By default it will log the error and show\n   * a generic failure toast.\n   */\n  onError?: (error: Error) => void | Promise<void>;\n  /**\n   * Called when an execution succeeds.\n   */\n  onData?: (data: UnwrapReturn<T>, pagination?: PaginationOptions<UnwrapReturn<T>>) => void | Promise<void>;\n  /**\n   * Called when an execution will start\n   */\n  onWillExecute?: (parameters: Parameters<T>) => void;\n};\n\n/**\n * Wraps an asynchronous function or a function that returns a Promise in another function, and returns the {@link AsyncState} corresponding to the execution of the function.\n *\n * @remark This overload should be used when working with paginated data sources.\n *\n * @example\n * ```\n * import { setTimeout } from \"node:timers/promises\";\n * import { useState } from \"react\";\n * import { List } from \"@raycast/api\";\n * import { usePromise } from \"@raycast/utils\";\n *\n * export default function Command() {\n *   const [searchText, setSearchText] = useState(\"\");\n *\n *   const { isLoading, data, pagination } = usePromise(\n *     (searchText: string) => async (options: { page: number }) => {\n *       await setTimeout(200);\n *       const newData = Array.from({ length: 25 }, (_v, index) => ({\n *         index,\n *         page: options.page,\n *         text: searchText,\n *       }));\n *       return { data: newData, hasMore: options.page < 10 };\n *     },\n *     [searchText]\n *   );\n *\n *   return (\n *     <List isLoading={isLoading} onSearchTextChange={setSearchText} pagination={pagination}>\n *       {data?.map((item) => (\n *         <List.Item\n *           key={`${item.page} ${item.index} ${item.text}`}\n *           title={`Page ${item.page} Item ${item.index}`}\n *           subtitle={item.text}\n *         />\n *       ))}\n *     </List>\n *   );\n * };\n * ```\n */\nexport function usePromise<T extends FunctionReturningPaginatedPromise<[]>>(\n  fn: T,\n): UsePromiseReturnType<UnwrapReturn<T>>;\nexport function usePromise<T extends FunctionReturningPaginatedPromise>(\n  fn: T,\n  args: Parameters<T>,\n  options?: PromiseOptions<T>,\n): UsePromiseReturnType<UnwrapReturn<T>>;\n\n/**\n * Wraps an asynchronous function or a function that returns a Promise and returns the {@link AsyncState} corresponding to the execution of the function.\n *\n * @remark The function is assumed to be constant (eg. changing it won't trigger a revalidation).\n *\n * @example\n * ```\n * import { usePromise } from '@raycast/utils';\n *\n * export default function Command() {\n *   const abortable = useRef<AbortController>();\n *   const { isLoading, data, revalidate } = usePromise(async (url: string) => {\n *     const response = await fetch(url, { signal: abortable.current?.signal });\n *     const result = await response.text();\n *     return result\n *   },\n *   ['https://api.example'],\n *   {\n *     abortable\n *   });\n *\n *   return (\n *     <Detail\n *       isLoading={isLoading}\n *       markdown={data}\n *       actions={\n *         <ActionPanel>\n *           <Action title=\"Reload\" onAction={() => revalidate()} />\n *         </ActionPanel>\n *       }\n *     />\n *   );\n * };\n * ```\n */\nexport function usePromise<T extends FunctionReturningPromise<[]>>(fn: T): UsePromiseReturnType<UnwrapReturn<T>>;\nexport function usePromise<T extends FunctionReturningPromise>(\n  fn: T,\n  args: Parameters<T>,\n  options?: PromiseOptions<T>,\n): UsePromiseReturnType<UnwrapReturn<T>>;\n\nexport function usePromise<T extends FunctionReturningPromise | FunctionReturningPaginatedPromise>(\n  fn: T,\n  args?: Parameters<T>,\n  options?: PromiseOptions<T>,\n): UsePromiseReturnType<any> {\n  const lastCallId = useRef(0);\n  const [state, set] = useState<AsyncState<UnwrapReturn<T>>>({ isLoading: true });\n\n  const fnRef = useLatest(fn);\n  const latestAbortable = useLatest(options?.abortable);\n  const latestArgs = useLatest(args || []);\n  const latestOnError = useLatest(options?.onError);\n  const latestOnData = useLatest(options?.onData);\n  const latestOnWillExecute = useLatest(options?.onWillExecute);\n  const latestFailureToast = useLatest(options?.failureToastOptions);\n  const latestValue = useLatest(state.data);\n  const latestCallback = useRef<(...args: Parameters<T>) => Promise<UnwrapReturn<T>>>(null);\n\n  const paginationArgsRef = useRef<PaginationOptions>({ page: 0 });\n  const usePaginationRef = useRef(false);\n  const hasMoreRef = useRef(true);\n  const pageSizeRef = useRef(50);\n\n  const abort = useCallback(() => {\n    if (latestAbortable.current) {\n      latestAbortable.current.current?.abort();\n      latestAbortable.current.current = new AbortController();\n    }\n    return ++lastCallId.current;\n  }, [latestAbortable]);\n\n  const callback = useCallback(\n    (...args: Parameters<T>): Promise<UnwrapReturn<T>> => {\n      const callId = abort();\n\n      latestOnWillExecute.current?.(args);\n\n      set((prevState) => ({ ...prevState, isLoading: true }));\n\n      const promiseOrPaginatedPromise = bindPromiseIfNeeded(fnRef.current)(...args);\n\n      function handleError(error: any) {\n        if (error.name == \"AbortError\") {\n          return error;\n        }\n\n        if (callId === lastCallId.current) {\n          // handle errors\n          if (latestOnError.current) {\n            latestOnError.current(error);\n          } else {\n            if (environment.launchType !== LaunchType.Background) {\n              showFailureToast(error, {\n                title: \"Failed to fetch latest data\",\n                primaryAction: {\n                  title: \"Retry\",\n                  onAction(toast) {\n                    toast.hide();\n                    latestCallback.current?.(...((latestArgs.current || []) as Parameters<T>));\n                  },\n                },\n                ...latestFailureToast.current,\n              });\n            }\n          }\n          set({ error, isLoading: false });\n        }\n\n        return error;\n      }\n\n      if (typeof promiseOrPaginatedPromise === \"function\") {\n        usePaginationRef.current = true;\n        return promiseOrPaginatedPromise(paginationArgsRef.current).then(\n          // @ts-expect-error too complicated for TS\n          ({ data, hasMore, cursor }: { data: UnwrapReturn<T>; hasMore: boolean; cursor?: any }) => {\n            if (callId === lastCallId.current) {\n              if (paginationArgsRef.current) {\n                paginationArgsRef.current.cursor = cursor;\n                paginationArgsRef.current.lastItem = data?.[data.length - 1];\n              }\n\n              if (latestOnData.current) {\n                latestOnData.current(data, paginationArgsRef.current);\n              }\n\n              if (hasMore) {\n                pageSizeRef.current = data.length;\n              }\n              hasMoreRef.current = hasMore;\n\n              set((previousData) => {\n                if (paginationArgsRef.current.page === 0) {\n                  return { data, isLoading: false };\n                }\n                // @ts-expect-error we know it's an array here\n                return { data: (previousData.data || [])?.concat(data), isLoading: false };\n              });\n            }\n\n            return data;\n          },\n          (error: unknown) => {\n            hasMoreRef.current = false;\n            return handleError(error);\n          },\n        ) as Promise<UnwrapReturn<T>>;\n      }\n\n      usePaginationRef.current = false;\n      return promiseOrPaginatedPromise.then((data: UnwrapReturn<T>) => {\n        if (callId === lastCallId.current) {\n          if (latestOnData.current) {\n            latestOnData.current(data);\n          }\n          set({ data, isLoading: false });\n        }\n\n        return data;\n      }, handleError) as Promise<UnwrapReturn<T>>;\n    },\n    [\n      latestOnData,\n      latestOnError,\n      latestArgs,\n      fnRef,\n      set,\n      latestCallback,\n      latestOnWillExecute,\n      paginationArgsRef,\n      latestFailureToast,\n      abort,\n    ],\n  );\n\n  latestCallback.current = callback;\n\n  const revalidate = useCallback(() => {\n    // reset the pagination\n    paginationArgsRef.current = { page: 0 };\n\n    const args = (latestArgs.current || []) as Parameters<T>;\n    return callback(...args);\n  }, [callback, latestArgs]);\n\n  const mutate = useCallback<MutatePromise<Awaited<ReturnType<T>>, undefined>>(\n    async (asyncUpdate, options) => {\n      let dataBeforeOptimisticUpdate: Awaited<ReturnType<T>> | undefined;\n      try {\n        if (options?.optimisticUpdate) {\n          // cancel the in-flight request to make sure it won't overwrite the optimistic update\n          abort();\n\n          if (typeof options?.rollbackOnError !== \"function\" && options?.rollbackOnError !== false) {\n            // keep track of the data before the optimistic update,\n            // but only if we need it (eg. only when we want to automatically rollback after)\n            dataBeforeOptimisticUpdate = structuredClone(latestValue.current?.value);\n          }\n          const update = options.optimisticUpdate;\n          set((prevState) => ({ ...prevState, data: update(prevState.data) }));\n        }\n        return await asyncUpdate;\n      } catch (err) {\n        if (typeof options?.rollbackOnError === \"function\") {\n          const update = options.rollbackOnError;\n          set((prevState) => ({ ...prevState, data: update(prevState.data) }));\n        } else if (options?.optimisticUpdate && options?.rollbackOnError !== false) {\n          set((prevState) => ({ ...prevState, data: dataBeforeOptimisticUpdate }));\n        }\n        throw err;\n      } finally {\n        if (options?.shouldRevalidateAfter !== false) {\n          if (environment.launchType === LaunchType.Background || environment.commandMode === \"menu-bar\") {\n            // when in the background or in a menu bar, we are going to await the revalidation\n            // to make sure we get the right data at the end of the mutation\n            await revalidate();\n          } else {\n            revalidate();\n          }\n        }\n      }\n    },\n    [revalidate, latestValue, set, abort],\n  );\n\n  const onLoadMore = useCallback(() => {\n    paginationArgsRef.current.page += 1;\n    const args = (latestArgs.current || []) as Parameters<T>;\n    callback(...args);\n  }, [paginationArgsRef, latestArgs, callback]);\n\n  // revalidate when the args change\n  useEffect(() => {\n    // reset the pagination\n    paginationArgsRef.current = { page: 0 };\n\n    if (options?.execute !== false) {\n      callback(...((args || []) as Parameters<T>));\n    } else {\n      // cancel the previous request if we don't want to execute anymore\n      abort();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [useDeepMemo([args, options?.execute, callback]), latestAbortable, paginationArgsRef]);\n\n  // abort request when unmounting\n  useEffect(() => {\n    return () => {\n      abort();\n    };\n  }, [abort]);\n\n  // we only want to show the loading indicator if the promise is executing\n  const isLoading = options?.execute !== false ? state.isLoading : false;\n\n  // @ts-expect-error loading is has some fixed value in the enum which\n  const stateWithLoadingFixed: AsyncState<Awaited<ReturnType<T>>> = { ...state, isLoading };\n\n  const pagination = usePaginationRef.current\n    ? {\n        pageSize: pageSizeRef.current,\n        hasMore: hasMoreRef.current,\n        onLoadMore,\n      }\n    : undefined;\n\n  return { ...stateWithLoadingFixed, revalidate, mutate, pagination };\n}\n\n/** Bind the fn if it's a Promise method */\nfunction bindPromiseIfNeeded<T>(fn: T): T {\n  if (fn === (Promise.all as any)) {\n    // @ts-expect-error this is fine\n    return fn.bind(Promise);\n  }\n  if (fn === (Promise.race as any)) {\n    // @ts-expect-error this is fine\n    return fn.bind(Promise);\n  }\n  if (fn === (Promise.resolve as any)) {\n    // @ts-expect-error this is fine\n    return fn.bind(Promise as any);\n  }\n  if (fn === (Promise.reject as any)) {\n    // @ts-expect-error this is fine\n    return fn.bind(Promise);\n  }\n  return fn;\n}\n", "import { useRef, useMemo } from \"react\";\nimport { dequal } from \"dequal/lite\";\n\n/**\n * @param value the value to be memoized (usually a dependency list)\n * @returns a memoized version of the value as long as it remains deeply equal\n */\nexport function useDeepMemo<T>(value: T) {\n  const ref = useRef<T>(value);\n  const signalRef = useRef<number>(0);\n\n  if (!dequal(value, ref.current)) {\n    ref.current = value;\n    signalRef.current += 1;\n  }\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  return useMemo(() => ref.current, [signalRef.current]);\n}\n", "import { useRef } from \"react\";\n\n/**\n * Returns the latest state.\n *\n * This is mostly useful to get access to the latest value of some props or state inside an asynchronous callback, instead of that value at the time the callback was created from.\n */\nexport function useLatest<T>(value: T): { readonly current: T } {\n  const ref = useRef(value);\n  ref.current = value;\n  return ref;\n}\n", "import * as fs from \"node:fs\";\nimport * as path from \"node:path\";\nimport { Clipboard, environment, open, Toast, showToast } from \"@raycast/api\";\n\n/**\n * Shows a failure Toast for a given Error.\n *\n * @example\n * ```typescript\n * import { showHUD } from \"@raycast/api\";\n * import { runAppleScript, showFailureToast } from \"@raycast/utils\";\n *\n * export default async function () {\n *   try {\n *     const res = await runAppleScript(\n *       `\n *       on run argv\n *         return \"hello, \" & item 1 of argv & \".\"\n *       end run\n *       `,\n *       [\"world\"]\n *     );\n *     await showHUD(res);\n *   } catch (error) {\n *     showFailureToast(error, { title: \"Could not run AppleScript\" });\n *   }\n * }\n * ```\n */\nexport function showFailureToast(\n  error: unknown,\n  options?: Partial<Pick<Toast.Options, \"title\" | \"primaryAction\" | \"message\">>,\n) {\n  const message = error instanceof Error ? error.message : String(error);\n  return showToast({\n    style: Toast.Style.Failure,\n    title: options?.title ?? \"Something went wrong\",\n    message: options?.message ?? message,\n    primaryAction: options?.primaryAction ?? handleErrorToastAction(error),\n    secondaryAction: options?.primaryAction ? handleErrorToastAction(error) : undefined,\n  });\n}\n\nconst handleErrorToastAction = (error: unknown): Toast.ActionOptions => {\n  let privateExtension = true;\n  let title = \"[Extension Name]...\";\n  let extensionURL = \"\";\n  try {\n    const packageJSON = JSON.parse(fs.readFileSync(path.join(environment.assetsPath, \"..\", \"package.json\"), \"utf8\"));\n    title = `[${packageJSON.title}]...`;\n    extensionURL = `https://raycast.com/${packageJSON.owner || packageJSON.author}/${packageJSON.name}`;\n    if (!packageJSON.owner || packageJSON.access === \"public\") {\n      privateExtension = false;\n    }\n  } catch (err) {\n    // no-op\n  }\n\n  // if it's a private extension, we can't construct the URL to report the error\n  // so we fallback to copying the error to the clipboard\n  const fallback = environment.isDevelopment || privateExtension;\n\n  const stack = error instanceof Error ? error?.stack || error?.message || \"\" : String(error);\n\n  return {\n    title: fallback ? \"Copy Logs\" : \"Report Error\",\n    onAction(toast) {\n      toast.hide();\n      if (fallback) {\n        Clipboard.copy(stack);\n      } else {\n        open(\n          `https://github.com/raycast/extensions/issues/new?&labels=extension%2Cbug&template=extension_bug_report.yml&title=${encodeURIComponent(\n            title,\n          )}&extension-url=${encodeURI(extensionURL)}&description=${encodeURIComponent(\n            `#### Error:\n\\`\\`\\`\n${stack}\n\\`\\`\\`\n`,\n          )}`,\n        );\n      }\n    },\n  };\n};\n", "import { useCallback, Dispatch, SetStateAction, useSyncExternalStore, useMemo } from \"react\";\nimport { Cache } from \"@raycast/api\";\nimport { useLatest } from \"./useLatest\";\nimport { replacer, reviver } from \"./helpers\";\n\nconst rootCache = /* #__PURE__ */ Symbol(\"cache without namespace\");\nconst cacheMap = /* #__PURE__ */ new Map<string | symbol, Cache>();\n\n/**\n * Returns a stateful value, and a function to update it. The value will be kept between command runs.\n *\n * @remark The value needs to be JSON serializable.\n *\n * @param key - The unique identifier of the state. This can be used to share the state across components and/or commands.\n * @param initialState - The initial value of the state if there aren't any in the Cache yet.\n */\nexport function useCachedState<T>(\n  key: string,\n  initialState: T,\n  config?: { cacheNamespace?: string },\n): [T, Dispatch<SetStateAction<T>>];\nexport function useCachedState<T = undefined>(key: string): [T | undefined, Dispatch<SetStateAction<T | undefined>>];\nexport function useCachedState<T>(\n  key: string,\n  initialState?: T,\n  config?: { cacheNamespace?: string },\n): [T, Dispatch<SetStateAction<T>>] {\n  const cacheKey = config?.cacheNamespace || rootCache;\n  const cache =\n    cacheMap.get(cacheKey) || cacheMap.set(cacheKey, new Cache({ namespace: config?.cacheNamespace })).get(cacheKey);\n\n  if (!cache) {\n    throw new Error(\"Missing cache\");\n  }\n\n  const keyRef = useLatest(key);\n  const initialValueRef = useLatest(initialState);\n\n  const cachedState = useSyncExternalStore(cache.subscribe, () => {\n    try {\n      return cache.get(keyRef.current);\n    } catch (error) {\n      console.error(\"Could not get Cache data:\", error);\n      return undefined;\n    }\n  });\n\n  const state = useMemo(() => {\n    if (typeof cachedState !== \"undefined\") {\n      if (cachedState === \"undefined\") {\n        return undefined;\n      }\n      try {\n        return JSON.parse(cachedState, reviver);\n      } catch (err) {\n        // the data got corrupted somehow\n        console.warn(\"The cached data is corrupted\", err);\n        return initialValueRef.current;\n      }\n    } else {\n      return initialValueRef.current;\n    }\n  }, [cachedState, initialValueRef]);\n\n  const stateRef = useLatest(state);\n\n  const setStateAndCache = useCallback(\n    (updater: SetStateAction<T>) => {\n      // @ts-expect-error TS struggles to infer the types as T could potentially be a function\n      const newValue = typeof updater === \"function\" ? updater(stateRef.current) : updater;\n      if (typeof newValue === \"undefined\") {\n        cache.set(keyRef.current, \"undefined\");\n      } else {\n        const stringifiedValue = JSON.stringify(newValue, replacer);\n        cache.set(keyRef.current, stringifiedValue);\n      }\n      return newValue;\n    },\n    [cache, keyRef, stateRef],\n  );\n\n  return [state, setStateAndCache];\n}\n", "import crypto from \"node:crypto\";\nimport { typeHasher } from \"./vendors/type-hasher\";\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function replacer(this: any, key: string, _value: unknown) {\n  const value = this[key];\n  if (value instanceof Date) {\n    return `__raycast_cached_date__${value.toISOString()}`;\n  }\n  if (Buffer.isBuffer(value)) {\n    return `__raycast_cached_buffer__${value.toString(\"base64\")}`;\n  }\n  return _value;\n}\n\nexport function reviver(_key: string, value: unknown) {\n  if (typeof value === \"string\" && value.startsWith(\"__raycast_cached_date__\")) {\n    return new Date(value.replace(\"__raycast_cached_date__\", \"\"));\n  }\n  if (typeof value === \"string\" && value.startsWith(\"__raycast_cached_buffer__\")) {\n    return Buffer.from(value.replace(\"__raycast_cached_buffer__\", \"\"), \"base64\");\n  }\n  return value;\n}\n\nexport function hash(object: any) {\n  const hashingStream = crypto.createHash(\"sha1\");\n  const hasher = typeHasher(hashingStream);\n  hasher.dispatch(object);\n\n  return hashingStream.digest(\"hex\");\n}\n", "/* eslint-disable @typescript-eslint/ban-ts-comment */\n/* eslint-disable @typescript-eslint/no-this-alias */\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport crypto from \"node:crypto\";\n\n/** Check if the given function is a native function */\nfunction isNativeFunction(f: any) {\n  if (typeof f !== \"function\") {\n    return false;\n  }\n  const exp = /^function\\s+\\w*\\s*\\(\\s*\\)\\s*{\\s+\\[native code\\]\\s+}$/i;\n  return exp.exec(Function.prototype.toString.call(f)) !== null;\n}\n\nfunction hashReplacer(value: any): string {\n  if (value instanceof URLSearchParams) {\n    return value.toString();\n  }\n  return value;\n}\n\nexport function typeHasher(\n  writeTo:\n    | crypto.Hash\n    | {\n        buf: string;\n        write: (b: any) => void;\n        end: (b: any) => void;\n        read: () => string;\n      },\n  context: any[] = [],\n) {\n  function write(str: string) {\n    if (\"update\" in writeTo) {\n      return writeTo.update(str, \"utf8\");\n    } else {\n      return writeTo.write(str);\n    }\n  }\n\n  return {\n    dispatch: function (value: any) {\n      value = hashReplacer(value);\n\n      const type = typeof value;\n      if (value === null) {\n        this[\"_null\"]();\n      } else {\n        // @ts-ignore\n        this[\"_\" + type](value);\n      }\n    },\n    _object: function (object: any) {\n      const pattern = /\\[object (.*)\\]/i;\n      const objString = Object.prototype.toString.call(object);\n      let objType = pattern.exec(objString)?.[1] ?? \"unknown:[\" + objString + \"]\";\n      objType = objType.toLowerCase();\n\n      let objectNumber = null as any;\n\n      if ((objectNumber = context.indexOf(object)) >= 0) {\n        this.dispatch(\"[CIRCULAR:\" + objectNumber + \"]\");\n        return;\n      } else {\n        context.push(object);\n      }\n\n      if (Buffer.isBuffer(object)) {\n        write(\"buffer:\");\n        return write(object.toString(\"utf8\"));\n      }\n\n      if (objType !== \"object\" && objType !== \"function\" && objType !== \"asyncfunction\") {\n        // @ts-ignore\n        if (this[\"_\" + objType]) {\n          // @ts-ignore\n          this[\"_\" + objType](object);\n        } else {\n          throw new Error('Unknown object type \"' + objType + '\"');\n        }\n      } else {\n        let keys = Object.keys(object);\n        keys = keys.sort();\n        // Make sure to incorporate special properties, so\n        // Types with different prototypes will produce\n        // a different hash and objects derived from\n        // different functions (`new Foo`, `new Bar`) will\n        // produce different hashes.\n        // We never do this for native functions since some\n        // seem to break because of that.\n        if (!isNativeFunction(object)) {\n          keys.splice(0, 0, \"prototype\", \"__proto__\", \"constructor\");\n        }\n\n        write(\"object:\" + keys.length + \":\");\n        const self = this;\n        return keys.forEach(function (key) {\n          self.dispatch(key);\n          write(\":\");\n          self.dispatch(object[key]);\n          write(\",\");\n        });\n      }\n    },\n    _array: function (arr: any[], unordered: boolean) {\n      unordered = typeof unordered !== \"undefined\" ? unordered : false; // default to options.unorderedArrays\n\n      const self = this;\n      write(\"array:\" + arr.length + \":\");\n      if (!unordered || arr.length <= 1) {\n        arr.forEach(function (entry: any) {\n          self.dispatch(entry);\n        });\n        return;\n      }\n\n      // the unordered case is a little more complicated:\n      // since there is no canonical ordering on objects,\n      // i.e. {a:1} < {a:2} and {a:1} > {a:2} are both false,\n      // we first serialize each entry using a PassThrough stream\n      // before sorting.\n      // also: we cant use the same context array for all entries\n      // since the order of hashing should *not* matter. instead,\n      // we keep track of the additions to a copy of the context array\n      // and add all of them to the global context array when were done\n      let contextAdditions: any[] = [];\n      const entries = arr.map(function (entry: any) {\n        const strm = PassThrough();\n        const localContext = context.slice(); // make copy\n        const hasher = typeHasher(strm, localContext);\n        hasher.dispatch(entry);\n        // take only what was added to localContext and append it to contextAdditions\n        contextAdditions = contextAdditions.concat(localContext.slice(context.length));\n        return strm.read().toString();\n      });\n      context = context.concat(contextAdditions);\n      entries.sort();\n      this._array(entries, false);\n    },\n    _date: function (date: Date) {\n      write(\"date:\" + date.toJSON());\n    },\n    _symbol: function (sym: symbol) {\n      write(\"symbol:\" + sym.toString());\n    },\n    _error: function (err: Error) {\n      write(\"error:\" + err.toString());\n    },\n    _boolean: function (bool: boolean) {\n      write(\"bool:\" + bool.toString());\n    },\n    _string: function (string: string) {\n      write(\"string:\" + string.length + \":\");\n      write(string.toString());\n    },\n    _function: function (fn: any) {\n      write(\"fn:\");\n      if (isNativeFunction(fn)) {\n        this.dispatch(\"[native]\");\n      } else {\n        this.dispatch(fn.toString());\n      }\n\n      // Make sure we can still distinguish native functions\n      // by their name, otherwise String and Function will\n      // have the same hash\n      this.dispatch(\"function-name:\" + String(fn.name));\n\n      this._object(fn);\n    },\n    _number: function (number: number) {\n      write(\"number:\" + number.toString());\n    },\n    _xml: function (xml: any) {\n      write(\"xml:\" + xml.toString());\n    },\n    _null: function () {\n      write(\"Null\");\n    },\n    _undefined: function () {\n      write(\"Undefined\");\n    },\n    _regexp: function (regex: RegExp) {\n      write(\"regex:\" + regex.toString());\n    },\n    _uint8array: function (arr: Uint8Array) {\n      write(\"uint8array:\");\n      this.dispatch(Array.prototype.slice.call(arr));\n    },\n    _uint8clampedarray: function (arr: Uint8ClampedArray) {\n      write(\"uint8clampedarray:\");\n      this.dispatch(Array.prototype.slice.call(arr));\n    },\n    _int8array: function (arr: Int8Array) {\n      write(\"int8array:\");\n      this.dispatch(Array.prototype.slice.call(arr));\n    },\n    _uint16array: function (arr: Uint16Array) {\n      write(\"uint16array:\");\n      this.dispatch(Array.prototype.slice.call(arr));\n    },\n    _int16array: function (arr: Int16Array) {\n      write(\"int16array:\");\n      this.dispatch(Array.prototype.slice.call(arr));\n    },\n    _uint32array: function (arr: Uint32Array) {\n      write(\"uint32array:\");\n      this.dispatch(Array.prototype.slice.call(arr));\n    },\n    _int32array: function (arr: Int32Array) {\n      write(\"int32array:\");\n      this.dispatch(Array.prototype.slice.call(arr));\n    },\n    _float32array: function (arr: Float32Array) {\n      write(\"float32array:\");\n      this.dispatch(Array.prototype.slice.call(arr));\n    },\n    _float64array: function (arr: Float64Array) {\n      write(\"float64array:\");\n      this.dispatch(Array.prototype.slice.call(arr));\n    },\n    _arraybuffer: function (arr: ArrayBuffer) {\n      write(\"arraybuffer:\");\n      this.dispatch(new Uint8Array(arr));\n    },\n    _url: function (url: URL) {\n      write(\"url:\" + url.toString());\n    },\n    _map: function (map: Map<any, any>) {\n      write(\"map:\");\n      const arr = Array.from(map);\n      this._array(arr, true);\n    },\n    _set: function (set: Set<any>) {\n      write(\"set:\");\n      const arr = Array.from(set);\n      this._array(arr, true);\n    },\n    _file: function (file: any) {\n      write(\"file:\");\n      this.dispatch([file.name, file.size, file.type, file.lastModified]);\n    },\n    _blob: function () {\n      throw Error(\n        \"Hashing Blob objects is currently not supported\\n\" +\n          \"(see https://github.com/puleos/object-hash/issues/26)\\n\" +\n          'Use \"options.replacer\" or \"options.ignoreUnknown\"\\n',\n      );\n    },\n    _domwindow: function () {\n      write(\"domwindow\");\n    },\n    _bigint: function (number: bigint) {\n      write(\"bigint:\" + number.toString());\n    },\n    /* Node.js standard native objects */\n    _process: function () {\n      write(\"process\");\n    },\n    _timer: function () {\n      write(\"timer\");\n    },\n    _pipe: function () {\n      write(\"pipe\");\n    },\n    _tcp: function () {\n      write(\"tcp\");\n    },\n    _udp: function () {\n      write(\"udp\");\n    },\n    _tty: function () {\n      write(\"tty\");\n    },\n    _statwatcher: function () {\n      write(\"statwatcher\");\n    },\n    _securecontext: function () {\n      write(\"securecontext\");\n    },\n    _connection: function () {\n      write(\"connection\");\n    },\n    _zlib: function () {\n      write(\"zlib\");\n    },\n    _context: function () {\n      write(\"context\");\n    },\n    _nodescript: function () {\n      write(\"nodescript\");\n    },\n    _httpparser: function () {\n      write(\"httpparser\");\n    },\n    _dataview: function () {\n      write(\"dataview\");\n    },\n    _signal: function () {\n      write(\"signal\");\n    },\n    _fsevent: function () {\n      write(\"fsevent\");\n    },\n    _tlswrap: function () {\n      write(\"tlswrap\");\n    },\n  };\n}\n\n// Mini-implementation of stream.PassThrough\n// We are far from having need for the full implementation, and we can\n// make assumptions like \"many writes, then only one final read\"\n// and we can ignore encoding specifics\nfunction PassThrough() {\n  return {\n    buf: \"\",\n\n    write: function (b: string) {\n      this.buf += b;\n    },\n\n    end: function (b: string) {\n      this.buf += b;\n    },\n\n    read: function () {\n      return this.buf;\n    },\n  };\n}\n", "import { useEffect, useRef, useCallback } from \"react\";\nimport {\n  FunctionReturningPromise,\n  UseCachedPromiseReturnType,\n  MutatePromise,\n  FunctionReturningPaginatedPromise,\n  UnwrapReturn,\n  PaginationOptions,\n} from \"./types\";\nimport { useCachedState } from \"./useCachedState\";\nimport { usePromise, PromiseOptions } from \"./usePromise\";\nimport { useLatest } from \"./useLatest\";\nimport { hash } from \"./helpers\";\n\n// Symbol to differentiate an empty cache from `undefined`\nconst emptyCache = /* #__PURE__ */ Symbol();\n\nexport type CachedPromiseOptions<\n  T extends FunctionReturningPromise | FunctionReturningPaginatedPromise,\n  U,\n> = PromiseOptions<T> & {\n  /**\n   * The initial data if there aren't any in the Cache yet.\n   */\n  initialData?: U;\n  /**\n   * Tells the hook to keep the previous results instead of returning the initial value\n   * if there aren't any in the cache for the new arguments.\n   * This is particularly useful when used for data for a List to avoid flickering.\n   */\n  keepPreviousData?: boolean;\n};\n\n/**\n * Wraps an asynchronous function or a function that returns a Promise in another function, and returns the {@link AsyncState} corresponding to the execution of the function. The last value will be kept between command runs.\n *\n * @remark This overload should be used when working with paginated data sources.\n * @remark When paginating, only the first page will be cached.\n *\n * @example\n * ```\n * import { setTimeout } from \"node:timers/promises\";\n * import { useState } from \"react\";\n * import { List } from \"@raycast/api\";\n * import { useCachedPromise } from \"@raycast/utils\";\n *\n * export default function Command() {\n *   const [searchText, setSearchText] = useState(\"\");\n *\n *   const { isLoading, data, pagination } = useCachedPromise(\n *     (searchText: string) => async (options: { page: number }) => {\n *       await setTimeout(200);\n *       const newData = Array.from({ length: 25 }, (_v, index) => ({\n *         index,\n *         page: options.page,\n *         text: searchText,\n *       }));\n *       return { data: newData, hasMore: options.page < 10 };\n *     },\n *     [searchText],\n *   );\n *\n *   return (\n *     <List isLoading={isLoading} onSearchTextChange={setSearchText} pagination={pagination}>\n *       {data?.map((item) => (\n *         <List.Item\n *           key={`${item.page} ${item.index} ${item.text}`}\n *           title={`Page ${item.page} Item ${item.index}`}\n *           subtitle={item.text}\n *         />\n *       ))}\n *     </List>\n *   );\n * }\n * ```\n */\nexport function useCachedPromise<T extends FunctionReturningPaginatedPromise<[]>>(\n  fn: T,\n): UseCachedPromiseReturnType<UnwrapReturn<T>, undefined>;\nexport function useCachedPromise<T extends FunctionReturningPaginatedPromise, U extends any[] = any[]>(\n  fn: T,\n  args: Parameters<T>,\n  options?: CachedPromiseOptions<T, U>,\n): UseCachedPromiseReturnType<UnwrapReturn<T>, U>;\n\n/**\n * Wraps an asynchronous function or a function that returns a Promise and returns the {@link AsyncState} corresponding to the execution of the function. The last value will be kept between command runs.\n *\n * @remark The value needs to be JSON serializable.\n * @remark The function is assumed to be constant (eg. changing it won't trigger a revalidation).\n *\n * @example\n * ```\n * import { useCachedPromise } from '@raycast/utils';\n *\n * export default function Command() {\n *   const abortable = useRef<AbortController>();\n *   const { isLoading, data, revalidate } = useCachedPromise(async (url: string) => {\n *     const response = await fetch(url, { signal: abortable.current?.signal });\n *     const result = await response.text();\n *     return result\n *   },\n *   ['https://api.example'],\n *   {\n *     abortable\n *   });\n *\n *   return (\n *     <Detail\n *       isLoading={isLoading}\n *       markdown={data}\n *       actions={\n *         <ActionPanel>\n *           <Action title=\"Reload\" onAction={() => revalidate()} />\n *         </ActionPanel>\n *       }\n *     />\n *   );\n * };\n * ```\n */\nexport function useCachedPromise<T extends FunctionReturningPromise<[]>>(\n  fn: T,\n): UseCachedPromiseReturnType<UnwrapReturn<T>, undefined>;\nexport function useCachedPromise<T extends FunctionReturningPromise, U = undefined>(\n  fn: T,\n  args: Parameters<T>,\n  options?: CachedPromiseOptions<T, U>,\n): UseCachedPromiseReturnType<UnwrapReturn<T>, U>;\n\nexport function useCachedPromise<\n  T extends FunctionReturningPromise | FunctionReturningPaginatedPromise,\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  U extends any[] | undefined = undefined,\n>(fn: T, args?: Parameters<T>, options?: CachedPromiseOptions<T, U>) {\n  /**\n   * The hook generates a cache key from the promise it receives & its arguments.\n   * Sometimes that's not enough to guarantee uniqueness, so hooks that build on top of `useCachedPromise` can\n   * use an `internal_cacheKeySuffix` to help it.\n   *\n   * @remark For internal use only.\n   */\n  const {\n    initialData,\n    keepPreviousData,\n    internal_cacheKeySuffix,\n    ...usePromiseOptions\n  }: CachedPromiseOptions<T, U> & { internal_cacheKeySuffix?: string } = options || {};\n  const lastUpdateFrom = useRef<\"cache\" | \"promise\">(null);\n\n  const [cachedData, mutateCache] = useCachedState<typeof emptyCache | (UnwrapReturn<T> | U)>(\n    hash(args || []) + internal_cacheKeySuffix,\n    emptyCache,\n    {\n      cacheNamespace: hash(fn),\n    },\n  );\n\n  // Use a ref to store previous returned data. Use the inital data as its inital value from the cache.\n  const laggyDataRef = useRef<Awaited<ReturnType<T>> | U>(cachedData !== emptyCache ? cachedData : (initialData as U));\n  const paginationArgsRef = useRef<PaginationOptions<UnwrapReturn<T> | U> | undefined>(undefined);\n\n  const {\n    mutate: _mutate,\n    revalidate,\n    ...state\n    // @ts-expect-error fn has the same signature in both usePromise and useCachedPromise\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  } = usePromise(fn, args || ([] as any as Parameters<T>), {\n    ...usePromiseOptions,\n    onData(data, pagination) {\n      paginationArgsRef.current = pagination;\n      if (usePromiseOptions.onData) {\n        usePromiseOptions.onData(data, pagination);\n      }\n      if (pagination && pagination.page > 0) {\n        // don't cache beyond the first page\n        return;\n      }\n      lastUpdateFrom.current = \"promise\";\n      laggyDataRef.current = data;\n      mutateCache(data);\n    },\n  });\n\n  let returnedData: U | Awaited<ReturnType<T>> | UnwrapReturn<T>;\n  const pagination = state.pagination;\n  // when paginating, only the first page gets cached, so we return the data we get from `usePromise`, because\n  // it will be accumulated.\n  if (paginationArgsRef.current && paginationArgsRef.current.page > 0 && state.data) {\n    returnedData = state.data as UnwrapReturn<T>;\n    // if the latest update if from the Promise, we keep it\n  } else if (lastUpdateFrom.current === \"promise\") {\n    returnedData = laggyDataRef.current;\n  } else if (keepPreviousData && cachedData !== emptyCache) {\n    // if we want to keep the latest data, we pick the cache but only if it's not empty\n    returnedData = cachedData;\n    if (pagination) {\n      pagination.hasMore = true;\n      pagination.pageSize = cachedData.length;\n    }\n  } else if (keepPreviousData && cachedData === emptyCache) {\n    // if the cache is empty, we will return the previous data\n    returnedData = laggyDataRef.current;\n    // there are no special cases, so either return the cache or initial data\n  } else if (cachedData !== emptyCache) {\n    returnedData = cachedData;\n    if (pagination) {\n      pagination.hasMore = true;\n      pagination.pageSize = cachedData.length;\n    }\n  } else {\n    returnedData = initialData as U;\n  }\n\n  const latestData = useLatest(returnedData);\n\n  // we rewrite the mutate function to update the cache instead\n  const mutate = useCallback<MutatePromise<Awaited<ReturnType<T>> | U>>(\n    async (asyncUpdate, options) => {\n      let dataBeforeOptimisticUpdate;\n      try {\n        if (options?.optimisticUpdate) {\n          if (typeof options?.rollbackOnError !== \"function\" && options?.rollbackOnError !== false) {\n            // keep track of the data before the optimistic update,\n            // but only if we need it (eg. only when we want to automatically rollback after)\n            dataBeforeOptimisticUpdate = structuredClone(latestData.current);\n          }\n          const data = options.optimisticUpdate(latestData.current);\n          lastUpdateFrom.current = \"cache\";\n          laggyDataRef.current = data;\n          mutateCache(data);\n        }\n        return await _mutate(asyncUpdate, { shouldRevalidateAfter: options?.shouldRevalidateAfter });\n      } catch (err) {\n        if (typeof options?.rollbackOnError === \"function\") {\n          const data = options.rollbackOnError(latestData.current);\n          lastUpdateFrom.current = \"cache\";\n          laggyDataRef.current = data;\n          mutateCache(data);\n        } else if (options?.optimisticUpdate && options?.rollbackOnError !== false) {\n          lastUpdateFrom.current = \"cache\";\n          // @ts-expect-error when undefined, it's expected\n          laggyDataRef.current = dataBeforeOptimisticUpdate;\n          // @ts-expect-error when undefined, it's expected\n          mutateCache(dataBeforeOptimisticUpdate);\n        }\n        throw err;\n      }\n    },\n    [mutateCache, _mutate, latestData, laggyDataRef, lastUpdateFrom],\n  );\n\n  useEffect(() => {\n    if (cachedData !== emptyCache) {\n      lastUpdateFrom.current = \"cache\";\n      laggyDataRef.current = cachedData;\n    }\n  }, [cachedData]);\n\n  return {\n    data: returnedData,\n    isLoading: state.isLoading,\n    error: state.error,\n    mutate: paginationArgsRef.current && paginationArgsRef.current.page > 0 ? _mutate : mutate,\n    pagination,\n    revalidate,\n  };\n}\n", "import { useCallback, useMemo, useRef } from \"react\";\nimport { useCachedPromise, CachedPromiseOptions } from \"./useCachedPromise\";\nimport { useLatest } from \"./useLatest\";\nimport { FunctionReturningPaginatedPromise, FunctionReturningPromise, UseCachedPromiseReturnType } from \"./types\";\nimport { isJSON } from \"./fetch-utils\";\nimport { hash } from \"./helpers\";\n\nasync function defaultParsing(response: Response) {\n  if (!response.ok) {\n    throw new Error(response.statusText);\n  }\n\n  const contentTypeHeader = response.headers.get(\"content-type\");\n\n  if (contentTypeHeader && isJSON(contentTypeHeader)) {\n    return await response.json();\n  }\n  return await response.text();\n}\n\nfunction defaultMapping<V, T extends unknown[]>(result: V): { data: T; hasMore?: boolean; cursor?: any } {\n  return { data: result as unknown as T, hasMore: false };\n}\n\ntype RequestInfo = string | URL | globalThis.Request;\ntype PaginatedRequestInfo = (pagination: { page: number; lastItem?: any; cursor?: any }) => RequestInfo;\n\n/**\n * Fetches the paginatedURL and returns the {@link AsyncState} corresponding to the execution of the fetch. The last value will be kept between command runs.\n *\n * @remark This overload should be used when working with paginated data sources.\n * @remark When paginating, only the first page will be cached.\n *\n * @example\n * ```\n * import { Icon, Image, List } from \"@raycast/api\";\n * import { useFetch } from \"@raycast/utils\";\n * import { useState } from \"react\";\n *\n * type SearchResult = { companies: Company[]; page: number; totalPages: number };\n * type Company = { id: number; name: string; smallLogoUrl?: string };\n * export default function Command() {\n *   const [searchText, setSearchText] = useState(\"\");\n *   const { isLoading, data, pagination } = useFetch(\n *     (options) =>\n *       \"https://api.ycombinator.com/v0.1/companies?\" +\n *       new URLSearchParams({ page: String(options.page + 1), q: searchText }).toString(),\n *     {\n *       mapResult(result: SearchResult) {\n *         return {\n *           data: result.companies,\n *           hasMore: result.page < result.totalPages,\n *         };\n *       },\n *       keepPreviousData: true,\n *       initialData: [],\n *     },\n *   );\n *\n *   return (\n *     <List isLoading={isLoading} pagination={pagination} onSearchTextChange={setSearchText}>\n *       {data.map((company) => (\n *         <List.Item\n *           key={company.id}\n *           icon={{ source: company.smallLogoUrl ?? Icon.MinusCircle, mask: Image.Mask.RoundedRectangle }}\n *           title={company.name}\n *         />\n *       ))}\n *     </List>\n *   );\n * }\n * ```\n */\nexport function useFetch<V = unknown, U = undefined, T extends unknown[] = unknown[]>(\n  url: PaginatedRequestInfo,\n  options: RequestInit & {\n    mapResult: (result: V) => { data: T; hasMore?: boolean; cursor?: any };\n    parseResponse?: (response: Response) => Promise<V>;\n  } & Omit<CachedPromiseOptions<(url: RequestInfo, options?: RequestInit) => Promise<T>, U>, \"abortable\">,\n): UseCachedPromiseReturnType<T, U>;\n/**\n * Fetch the URL and returns the {@link AsyncState} corresponding to the execution of the fetch. The last value will be kept between command runs.\n *\n * @example\n * ```\n * import { useFetch } from '@raycast/utils';\n *\n * export default function Command() {\n *   const { isLoading, data, revalidate } = useFetch('https://api.example');\n *\n *   return (\n *     <Detail\n *       isLoading={isLoading}\n *       markdown={data}\n *       actions={\n *         <ActionPanel>\n *           <Action title=\"Reload\" onAction={() => revalidate()} />\n *         </ActionPanel>\n *       }\n *     />\n *   );\n * };\n * ```\n */\nexport function useFetch<V = unknown, U = undefined, T = V>(\n  url: RequestInfo,\n  options?: RequestInit & {\n    mapResult?: (result: V) => { data: T; hasMore?: boolean; cursor?: any };\n    parseResponse?: (response: Response) => Promise<V>;\n  } & Omit<CachedPromiseOptions<(url: RequestInfo, options?: RequestInit) => Promise<T>, U>, \"abortable\">,\n): UseCachedPromiseReturnType<T, U> & { pagination: undefined };\n\nexport function useFetch<V = unknown, U = undefined, T extends unknown[] = unknown[]>(\n  url: RequestInfo | PaginatedRequestInfo,\n  options?: RequestInit & {\n    mapResult?: (result: V) => { data: T; hasMore?: boolean; cursor?: any };\n    parseResponse?: (response: Response) => Promise<V>;\n  } & Omit<CachedPromiseOptions<(url: RequestInfo, options?: RequestInit) => Promise<T>, U>, \"abortable\">,\n): UseCachedPromiseReturnType<T, U> {\n  const {\n    parseResponse,\n    mapResult,\n    initialData,\n    execute,\n    keepPreviousData,\n    onError,\n    onData,\n    onWillExecute,\n    failureToastOptions,\n    ...fetchOptions\n  } = options || {};\n\n  const useCachedPromiseOptions: CachedPromiseOptions<(url: RequestInfo, options?: RequestInit) => Promise<T>, U> = {\n    initialData,\n    execute,\n    keepPreviousData,\n    onError,\n    onData,\n    onWillExecute,\n    failureToastOptions,\n  };\n\n  const parseResponseRef = useLatest(parseResponse || defaultParsing);\n  const mapResultRef = useLatest(mapResult || defaultMapping);\n  const urlRef = useRef<RequestInfo | PaginatedRequestInfo>(null);\n  const firstPageUrlRef = useRef<RequestInfo | undefined>(null);\n  const firstPageUrl = typeof url === \"function\" ? url({ page: 0 }) : undefined;\n  /**\n   * When paginating, `url` is a `PaginatedRequestInfo`, so we only want to update the ref when the `firstPageUrl` changes.\n   * When not paginating, `url` is a `RequestInfo`, so we want to update the ref whenever `url` changes.\n   */\n  if (!urlRef.current || typeof firstPageUrlRef.current === \"undefined\" || firstPageUrlRef.current !== firstPageUrl) {\n    urlRef.current = url;\n  }\n  firstPageUrlRef.current = firstPageUrl;\n  const abortable = useRef<AbortController>(null);\n\n  const paginatedFn: FunctionReturningPaginatedPromise<[PaginatedRequestInfo, typeof fetchOptions], T> = useCallback(\n    (url: PaginatedRequestInfo, options?: RequestInit) => async (pagination: { page: number }) => {\n      const res = await fetch(url(pagination), { signal: abortable.current?.signal, ...options });\n      const parsed = (await parseResponseRef.current(res)) as V;\n      return mapResultRef.current?.(parsed);\n    },\n    [parseResponseRef, mapResultRef],\n  );\n  const fn: FunctionReturningPromise<[RequestInfo, RequestInit?], T> = useCallback(\n    async (url: RequestInfo, options?: RequestInit) => {\n      const res = await fetch(url, { signal: abortable.current?.signal, ...options });\n      const parsed = (await parseResponseRef.current(res)) as V;\n      const mapped = mapResultRef.current(parsed);\n      return mapped?.data as unknown as T;\n    },\n    [parseResponseRef, mapResultRef],\n  );\n\n  const promise = useMemo(() => {\n    if (firstPageUrlRef.current) {\n      return paginatedFn;\n    }\n    return fn;\n  }, [firstPageUrlRef, fn, paginatedFn]);\n\n  // @ts-expect-error lastItem can't be inferred properly\n  return useCachedPromise(promise, [urlRef.current as PaginatedRequestInfo, fetchOptions], {\n    ...useCachedPromiseOptions,\n    internal_cacheKeySuffix: firstPageUrlRef.current + hash(mapResultRef.current) + hash(parseResponseRef.current),\n    abortable,\n  });\n}\n", "export function isJSON(contentTypeHeader: string | null | undefined): boolean {\n  if (contentTypeHeader) {\n    const mediaType = parseContentType(contentTypeHeader);\n\n    if (!mediaType) {\n      return false;\n    }\n\n    if (mediaType.subtype === \"json\") {\n      return true;\n    }\n\n    if (mediaType.suffix === \"json\") {\n      return true;\n    }\n\n    if (mediaType.suffix && /\\bjson\\b/i.test(mediaType.suffix)) {\n      return true;\n    }\n\n    if (mediaType.subtype && /\\bjson\\b/i.test(mediaType.subtype)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * RegExp to match type in RFC 6838 with an optional trailing `;` because some Apple APIs returns one...\n *\n * type-name = restricted-name\n * subtype-name = restricted-name\n * restricted-name = restricted-name-first *126restricted-name-chars\n * restricted-name-first  = ALPHA / DIGIT\n * restricted-name-chars  = ALPHA / DIGIT / \"!\" / \"#\" /\n *                          \"$\" / \"&\" / \"-\" / \"^\" / \"_\"\n * restricted-name-chars =/ \".\" ; Characters before first dot always\n *                              ; specify a facet name\n * restricted-name-chars =/ \"+\" ; Characters after last plus always\n *                              ; specify a structured syntax suffix\n * ALPHA =  %x41-5A / %x61-7A   ; A-Z / a-z\n * DIGIT =  %x30-39             ; 0-9\n */\nconst MEDIA_TYPE_REGEXP = /^([A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126})\\/([A-Za-z0-9][A-Za-z0-9!#$&^_.+-]{0,126});?$/;\n\nfunction parseContentType(header: string) {\n  const headerDelimitationindex = header.indexOf(\";\");\n  const contentType = headerDelimitationindex !== -1 ? header.slice(0, headerDelimitationindex).trim() : header.trim();\n\n  const match = MEDIA_TYPE_REGEXP.exec(contentType.toLowerCase().toLowerCase());\n\n  if (!match) {\n    return;\n  }\n\n  const type = match[1];\n  let subtype = match[2];\n  let suffix;\n\n  // suffix after last +\n  const index = subtype.lastIndexOf(\"+\");\n  if (index !== -1) {\n    suffix = subtype.substring(index + 1);\n    subtype = subtype.substring(0, index);\n  }\n\n  return { type, subtype, suffix };\n}\n", "/*\n * Inspired by Execa\n */\n\nimport childProcess from \"node:child_process\";\nimport { useCallback, useRef } from \"react\";\n\nimport { useCachedPromise, CachedPromiseOptions } from \"./useCachedPromise\";\nimport { useLatest } from \"./useLatest\";\nimport { UseCachedPromiseReturnType } from \"./types\";\nimport {\n  getSpawnedPromise,\n  getSpawnedResult,\n  handleOutput,\n  defaultParsing,\n  ParseExecOutputHandler,\n} from \"./exec-utils\";\n\ntype ExecOptions = {\n  /**\n   * If `true`, runs the command inside of a shell. Uses `/bin/sh`. A different shell can be specified as a string. The shell should understand the `-c` switch.\n   *\n   * We recommend against using this option since it is:\n   * - not cross-platform, encouraging shell-specific syntax.\n   * - slower, because of the additional shell interpretation.\n   * - unsafe, potentially allowing command injection.\n   *\n   * @default false\n   */\n  shell?: boolean | string;\n  /**\n   * Strip the final newline character from the output.\n   * @default true\n   */\n  stripFinalNewline?: boolean;\n  /**\n   * Current working directory of the child process.\n   * @default process.cwd()\n   */\n  cwd?: string;\n  /**\n   * Environment key-value pairs. Extends automatically from `process.env`.\n   * @default process.env\n   */\n  env?: NodeJS.ProcessEnv;\n  /**\n   * Specify the character encoding used to decode the stdout and stderr output. If set to `\"buffer\"`, then stdout and stderr will be a Buffer instead of a string.\n   *\n   * @default \"utf8\"\n   */\n  encoding?: BufferEncoding | \"buffer\";\n  /**\n   * Write some input to the `stdin` of your binary.\n   */\n  input?: string | Buffer;\n  /** If timeout is greater than `0`, the parent will send the signal `SIGTERM` if the child runs longer than timeout milliseconds.\n   *\n   * @default 10000\n   */\n  timeout?: number;\n};\n\nconst SPACES_REGEXP = / +/g;\nfunction parseCommand(command: string, args?: string[]) {\n  if (args) {\n    return [command, ...args];\n  }\n  const tokens: string[] = [];\n  for (const token of command.trim().split(SPACES_REGEXP)) {\n    // Allow spaces to be escaped by a backslash if not meant as a delimiter\n    const previousToken = tokens[tokens.length - 1];\n    if (previousToken && previousToken.endsWith(\"\\\\\")) {\n      // Merge previous token with current one\n      tokens[tokens.length - 1] = `${previousToken.slice(0, -1)} ${token}`;\n    } else {\n      tokens.push(token);\n    }\n  }\n\n  return tokens;\n}\n\ntype ExecCachedPromiseOptions<T, U> = Omit<\n  CachedPromiseOptions<\n    (_command: string, _args: string[], _options?: ExecOptions, input?: string | Buffer) => Promise<T>,\n    U\n  >,\n  \"abortable\"\n>;\n\n/**\n * Executes a command and returns the {@link AsyncState} corresponding to the execution of the command. The last value will be kept between command runs.\n *\n * @remark When specifying the arguments via the `command` string, if the file or an argument of the command contains spaces, they must be escaped with backslashes. This matters especially if `command` is not a constant but a variable, for example with `__dirname` or `process.cwd()`. Except for spaces, no escaping/quoting is needed.\n *\n * The `shell` option must be used if the command uses shell-specific features (for example, `&&` or `||`), as opposed to being a simple file followed by its arguments.\n *\n * @example\n * ```\n * import { useExec } from '@raycast/utils';\n *\n * export default function Command() {\n *   const { isLoading, data, revalidate } = useExec(\"brew\", [\"info\", \"--json=v2\", \"--installed\"]);\n *   const results = useMemo<{}[]>(() => JSON.parse(data || \"[]\"), [data]);\n *\n *   return (\n *     <List isLoading={isLoading}>\n *      {(data || []).map((item) => (\n *        <List.Item key={item.id} title={item.name} />\n *      ))}\n *    </List>\n *   );\n * };\n * ```\n */\nexport function useExec<T = Buffer, U = undefined>(\n  command: string,\n  options: {\n    parseOutput?: ParseExecOutputHandler<T, Buffer, ExecOptions>;\n  } & ExecOptions & {\n      encoding: \"buffer\";\n    } & ExecCachedPromiseOptions<T, U>,\n): UseCachedPromiseReturnType<T, U>;\nexport function useExec<T = string, U = undefined>(\n  command: string,\n  options?: {\n    parseOutput?: ParseExecOutputHandler<T, string, ExecOptions>;\n  } & ExecOptions & {\n      encoding?: BufferEncoding;\n    } & ExecCachedPromiseOptions<T, U>,\n): UseCachedPromiseReturnType<T, U>;\nexport function useExec<T = Buffer, U = undefined>(\n  file: string,\n  /**\n   * The arguments to pass to the file. No escaping/quoting is needed.\n   *\n   * If defined, the commands needs to be a file to execute. If undefined, the arguments will be parsed from the command.\n   */\n  args: string[],\n  options: {\n    parseOutput?: ParseExecOutputHandler<T, Buffer, ExecOptions>;\n  } & ExecOptions & {\n      encoding: \"buffer\";\n    } & ExecCachedPromiseOptions<T, U>,\n): UseCachedPromiseReturnType<T, U>;\nexport function useExec<T = string, U = undefined>(\n  file: string,\n  /**\n   * The arguments to pass to the file. No escaping/quoting is needed.\n   *\n   * If defined, the commands needs to be a file to execute. If undefined, the arguments will be parsed from the command.\n   */\n  args: string[],\n  options?: {\n    parseOutput?: ParseExecOutputHandler<T, string, ExecOptions>;\n  } & ExecOptions & {\n      encoding?: BufferEncoding;\n    } & ExecCachedPromiseOptions<T, U>,\n): UseCachedPromiseReturnType<T, U>;\nexport function useExec<T, U = undefined>(\n  command: string,\n  optionsOrArgs?:\n    | string[]\n    | ({\n        parseOutput?: ParseExecOutputHandler<T, Buffer, ExecOptions> | ParseExecOutputHandler<T, string, ExecOptions>;\n      } & ExecOptions &\n        ExecCachedPromiseOptions<T, U>),\n  options?: {\n    parseOutput?: ParseExecOutputHandler<T, Buffer, ExecOptions> | ParseExecOutputHandler<T, string, ExecOptions>;\n  } & ExecOptions &\n    ExecCachedPromiseOptions<T, U>,\n): UseCachedPromiseReturnType<T, U> {\n  const {\n    parseOutput,\n    input,\n    onData,\n    onWillExecute,\n    initialData,\n    execute,\n    keepPreviousData,\n    onError,\n    failureToastOptions,\n    ...execOptions\n  } = Array.isArray(optionsOrArgs) ? options || {} : optionsOrArgs || {};\n\n  const useCachedPromiseOptions: ExecCachedPromiseOptions<T, U> = {\n    initialData,\n    execute,\n    keepPreviousData,\n    onError,\n    onData,\n    onWillExecute,\n    failureToastOptions,\n  };\n\n  const abortable = useRef<AbortController>(null);\n  const parseOutputRef = useLatest(parseOutput || defaultParsing);\n\n  const fn = useCallback(\n    async (_command: string, _args: string[], _options?: ExecOptions, input?: string | Buffer) => {\n      const [file, ...args] = parseCommand(_command, _args);\n      const command = [file, ...args].join(\" \");\n\n      const options = {\n        stripFinalNewline: true,\n        ..._options,\n        timeout: _options?.timeout || 10000,\n        signal: abortable.current?.signal,\n        encoding: _options?.encoding === null ? \"buffer\" : _options?.encoding || \"utf8\",\n        env: { PATH: \"/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin\", ...process.env, ..._options?.env },\n      };\n\n      const spawned = childProcess.spawn(file, args, options);\n      const spawnedPromise = getSpawnedPromise(spawned, options);\n\n      if (input) {\n        spawned.stdin.end(input);\n      }\n\n      const [{ error, exitCode, signal, timedOut }, stdoutResult, stderrResult] = await getSpawnedResult(\n        spawned,\n        options,\n        spawnedPromise,\n      );\n      const stdout = handleOutput(options, stdoutResult);\n      const stderr = handleOutput(options, stderrResult);\n\n      return parseOutputRef.current({\n        // @ts-expect-error too many generics, I give up\n        stdout,\n        // @ts-expect-error too many generics, I give up\n        stderr,\n        error,\n        exitCode,\n        signal,\n        timedOut,\n        command,\n        options,\n        parentError: new Error(),\n      }) as T;\n    },\n    [parseOutputRef],\n  );\n\n  // @ts-expect-error T can't be a Promise so it's actually the same\n  return useCachedPromise(fn, [command, Array.isArray(optionsOrArgs) ? optionsOrArgs : [], execOptions, input], {\n    ...useCachedPromiseOptions,\n    abortable,\n  });\n}\n", "import childProcess from \"node:child_process\";\nimport { constants as BufferConstants } from \"node:buffer\";\nimport Stream from \"node:stream\";\nimport { promisify } from \"node:util\";\nimport { onExit } from \"./vendors/signal-exit\";\n\nexport type SpawnedPromise = Promise<{\n  exitCode: number | null;\n  error?: Error;\n  signal: NodeJS.Signals | null;\n  timedOut: boolean;\n}>;\n\nexport function getSpawnedPromise(\n  spawned: childProcess.ChildProcessWithoutNullStreams,\n  { timeout }: { timeout?: number } = {},\n): SpawnedPromise {\n  const spawnedPromise: SpawnedPromise = new Promise((resolve, reject) => {\n    spawned.on(\"exit\", (exitCode, signal) => {\n      resolve({ exitCode, signal, timedOut: false });\n    });\n\n    spawned.on(\"error\", (error) => {\n      reject(error);\n    });\n\n    if (spawned.stdin) {\n      spawned.stdin.on(\"error\", (error) => {\n        reject(error);\n      });\n    }\n  });\n\n  const removeExitHandler = onExit(() => {\n    spawned.kill();\n  });\n\n  if (timeout === 0 || timeout === undefined) {\n    return spawnedPromise.finally(() => removeExitHandler());\n  }\n\n  let timeoutId: NodeJS.Timeout;\n  const timeoutPromise: SpawnedPromise = new Promise((_resolve, reject) => {\n    timeoutId = setTimeout(() => {\n      spawned.kill(\"SIGTERM\");\n      reject(Object.assign(new Error(\"Timed out\"), { timedOut: true, signal: \"SIGTERM\" }));\n    }, timeout);\n  });\n\n  const safeSpawnedPromise = spawnedPromise.finally(() => {\n    clearTimeout(timeoutId);\n  });\n\n  return Promise.race([timeoutPromise, safeSpawnedPromise]).finally(() => removeExitHandler());\n}\n\nclass MaxBufferError extends Error {\n  constructor() {\n    super(\"The output is too big\");\n    this.name = \"MaxBufferError\";\n  }\n}\n\nfunction bufferStream<T extends string | Buffer>(options: { encoding: BufferEncoding | \"buffer\" }) {\n  const { encoding } = options;\n  const isBuffer = encoding === \"buffer\";\n\n  // @ts-expect-error missing the methods we are adding below\n  const stream: Stream.PassThrough & { getBufferedValue: () => T; getBufferedLength: () => number } =\n    new Stream.PassThrough({ objectMode: false });\n\n  if (encoding && encoding !== \"buffer\") {\n    stream.setEncoding(encoding);\n  }\n\n  let length = 0;\n  const chunks: any[] = [];\n\n  stream.on(\"data\", (chunk) => {\n    chunks.push(chunk);\n\n    length += chunk.length;\n  });\n\n  stream.getBufferedValue = () => {\n    return (isBuffer ? Buffer.concat(chunks, length) : chunks.join(\"\")) as T;\n  };\n\n  stream.getBufferedLength = () => length;\n\n  return stream;\n}\n\nasync function getStream<T extends string | Buffer>(\n  inputStream: Stream.Readable,\n  options: { encoding: BufferEncoding | \"buffer\" },\n) {\n  const stream = bufferStream<T>(options);\n\n  await new Promise<void>((resolve, reject) => {\n    const rejectPromise = (error: Error & { bufferedData?: T }) => {\n      // Don't retrieve an oversized buffer.\n      if (error && stream.getBufferedLength() <= BufferConstants.MAX_LENGTH) {\n        error.bufferedData = stream.getBufferedValue();\n      }\n\n      reject(error);\n    };\n\n    (async () => {\n      try {\n        await promisify(Stream.pipeline)(inputStream, stream);\n        resolve();\n      } catch (error) {\n        rejectPromise(error as any);\n      }\n    })();\n\n    stream.on(\"data\", () => {\n      // 80mb\n      if (stream.getBufferedLength() > 1000 * 1000 * 80) {\n        rejectPromise(new MaxBufferError());\n      }\n    });\n  });\n\n  return stream.getBufferedValue();\n}\n\n// On failure, `result.stdout|stderr` should contain the currently buffered stream\nasync function getBufferedData<T extends string | Buffer>(stream: Stream.Readable, streamPromise: Promise<T>) {\n  stream.destroy();\n\n  try {\n    return await streamPromise;\n  } catch (error) {\n    return (error as any as { bufferedData: T }).bufferedData;\n  }\n}\n\nexport async function getSpawnedResult<T extends string | Buffer>(\n  { stdout, stderr }: childProcess.ChildProcessWithoutNullStreams,\n  { encoding }: { encoding: BufferEncoding | \"buffer\" },\n  processDone: SpawnedPromise,\n) {\n  const stdoutPromise = getStream<T>(stdout, { encoding });\n  const stderrPromise = getStream<T>(stderr, { encoding });\n\n  try {\n    return await Promise.all([processDone, stdoutPromise, stderrPromise]);\n  } catch (error: any) {\n    return Promise.all([\n      {\n        error: error as Error,\n        exitCode: null,\n        signal: error.signal as NodeJS.Signals | null,\n        timedOut: (error.timedOut as boolean) || false,\n      },\n      getBufferedData(stdout, stdoutPromise),\n      getBufferedData(stderr, stderrPromise),\n    ]);\n  }\n}\n\nfunction stripFinalNewline<T extends string | Buffer>(input: T) {\n  const LF = typeof input === \"string\" ? \"\\n\" : \"\\n\".charCodeAt(0);\n  const CR = typeof input === \"string\" ? \"\\r\" : \"\\r\".charCodeAt(0);\n\n  if (input[input.length - 1] === LF) {\n    // @ts-expect-error we are doing some nasty stuff here\n    input = input.slice(0, -1);\n  }\n\n  if (input[input.length - 1] === CR) {\n    // @ts-expect-error we are doing some nasty stuff here\n    input = input.slice(0, -1);\n  }\n\n  return input;\n}\n\nexport function handleOutput<T extends string | Buffer>(options: { stripFinalNewline?: boolean }, value: T) {\n  if (options.stripFinalNewline) {\n    return stripFinalNewline(value);\n  }\n\n  return value;\n}\n\nfunction getErrorPrefix({\n  timedOut,\n  timeout,\n  signal,\n  exitCode,\n}: {\n  exitCode: number | null;\n  signal: NodeJS.Signals | null;\n  timedOut: boolean;\n  timeout?: number;\n}) {\n  if (timedOut) {\n    return `timed out after ${timeout} milliseconds`;\n  }\n\n  if (signal !== undefined && signal !== null) {\n    return `was killed with ${signal}`;\n  }\n\n  if (exitCode !== undefined && exitCode !== null) {\n    return `failed with exit code ${exitCode}`;\n  }\n\n  return \"failed\";\n}\n\nfunction makeError({\n  stdout,\n  stderr,\n  error,\n  signal,\n  exitCode,\n  command,\n  timedOut,\n  options,\n  parentError,\n}: {\n  stdout: string | Buffer;\n  stderr: string | Buffer;\n  error?: Error;\n  exitCode: number | null;\n  signal: NodeJS.Signals | null;\n  timedOut: boolean;\n  command: string;\n  options?: { timeout?: number };\n  parentError: Error;\n}) {\n  const prefix = getErrorPrefix({ timedOut, timeout: options?.timeout, signal, exitCode });\n  const execaMessage = `Command ${prefix}: ${command}`;\n  const shortMessage = error ? `${execaMessage}\\n${error.message}` : execaMessage;\n  const message = [shortMessage, stderr, stdout].filter(Boolean).join(\"\\n\");\n\n  if (error) {\n    // @ts-expect-error not on Error\n    error.originalMessage = error.message;\n  } else {\n    error = parentError;\n  }\n\n  error.message = message;\n\n  // @ts-expect-error not on Error\n  error.shortMessage = shortMessage;\n  // @ts-expect-error not on Error\n  error.command = command;\n  // @ts-expect-error not on Error\n  error.exitCode = exitCode;\n  // @ts-expect-error not on Error\n  error.signal = signal;\n  // @ts-expect-error not on Error\n  error.stdout = stdout;\n  // @ts-expect-error not on Error\n  error.stderr = stderr;\n\n  if (\"bufferedData\" in error) {\n    delete error[\"bufferedData\"];\n  }\n\n  return error;\n}\n\nexport type ParseExecOutputHandler<\n  T,\n  DecodedOutput extends string | Buffer = string | Buffer,\n  Options = unknown,\n> = (args: {\n  /** The output of the process on stdout. */\n  stdout: DecodedOutput;\n  /** The output of the process on stderr. */\n  stderr: DecodedOutput;\n  error?: Error;\n  /** The numeric exit code of the process that was run. */\n  exitCode: number | null;\n  /**\n   * The name of the signal that was used to terminate the process. For example, SIGFPE.\n   *\n   * If a signal terminated the process, this property is defined. Otherwise it is null.\n   */\n  signal: NodeJS.Signals | null;\n  /** Whether the process timed out. */\n  timedOut: boolean;\n  /** The command that was run, for logging purposes. */\n  command: string;\n  options?: Options;\n}) => T;\n\nexport function defaultParsing<T extends string | Buffer>({\n  stdout,\n  stderr,\n  error,\n  exitCode,\n  signal,\n  timedOut,\n  command,\n  options,\n  parentError,\n}: {\n  stdout: T;\n  stderr: T;\n  error?: Error;\n  exitCode: number | null;\n  signal: NodeJS.Signals | null;\n  timedOut: boolean;\n  command: string;\n  options?: { timeout?: number };\n  parentError: Error;\n}) {\n  if (error || exitCode !== 0 || signal !== null) {\n    const returnedError = makeError({\n      error,\n      exitCode,\n      signal,\n      stdout,\n      stderr,\n      command,\n      timedOut,\n      options,\n      parentError,\n    });\n\n    throw returnedError;\n  }\n\n  return stdout;\n}\n", "/* eslint-disable @typescript-eslint/ban-ts-comment */\n/* eslint-disable @typescript-eslint/no-explicit-any */\n// Note: since nyc uses this module to output coverage, any lines\n// that are in the direct sync flow of nyc's outputCoverage are\n// ignored, since we can never get coverage for them.\n// grab a reference to node's real process object right away\n\nconst processOk = (process: any) =>\n  !!process &&\n  typeof process === \"object\" &&\n  typeof process.removeListener === \"function\" &&\n  typeof process.emit === \"function\" &&\n  typeof process.reallyExit === \"function\" &&\n  typeof process.listeners === \"function\" &&\n  typeof process.kill === \"function\" &&\n  typeof process.pid === \"number\" &&\n  typeof process.on === \"function\";\nconst kExitEmitter = /* #__PURE__ */ Symbol.for(\"signal-exit emitter\");\n// teeny special purpose ee\nclass Emitter {\n  emitted = {\n    afterExit: false,\n    exit: false,\n  };\n  listeners = {\n    afterExit: [],\n    exit: [],\n  };\n  count = 0;\n  id = Math.random();\n  constructor() {\n    // @ts-ignore\n    if (global[kExitEmitter]) {\n      // @ts-ignore\n      return global[kExitEmitter];\n    }\n    Object.defineProperty(global, kExitEmitter, {\n      value: this,\n      writable: false,\n      enumerable: false,\n      configurable: false,\n    });\n  }\n  on(ev: any, fn: any) {\n    // @ts-ignore\n    this.listeners[ev].push(fn);\n  }\n  removeListener(ev: any, fn: any) {\n    // @ts-ignore\n    const list = this.listeners[ev];\n    const i = list.indexOf(fn);\n    /* c8 ignore start */\n    if (i === -1) {\n      return;\n    }\n    /* c8 ignore stop */\n    if (i === 0 && list.length === 1) {\n      list.length = 0;\n    } else {\n      list.splice(i, 1);\n    }\n  }\n  emit(ev: any, code: any, signal: any): any {\n    // @ts-ignore\n    if (this.emitted[ev]) {\n      return false;\n    }\n    // @ts-ignore\n    this.emitted[ev] = true;\n    let ret = false;\n    // @ts-ignore\n    for (const fn of this.listeners[ev]) {\n      ret = fn(code, signal) === true || ret;\n    }\n    if (ev === \"exit\") {\n      ret = this.emit(\"afterExit\", code, signal) || ret;\n    }\n    return ret;\n  }\n}\n\nclass SignalExitFallback {\n  onExit() {\n    return () => {};\n  }\n  load() {}\n  unload() {}\n}\nclass SignalExit {\n  // \"SIGHUP\" throws an `ENOSYS` error on Windows,\n  // so use a supported signal instead\n  /* c8 ignore start */\n  // @ts-ignore\n  #hupSig = process.platform === \"win32\" ? \"SIGINT\" : \"SIGHUP\";\n  /* c8 ignore stop */\n  #emitter = new Emitter();\n  #process: any;\n  #originalProcessEmit: any;\n  #originalProcessReallyExit: any;\n  #sigListeners = {};\n  #loaded = false;\n  #signals: string[] = [];\n  constructor(process: any) {\n    /**\n     * This is not the set of all possible signals.\n     *\n     * It IS, however, the set of all signals that trigger\n     * an exit on either Linux or BSD systems.  Linux is a\n     * superset of the signal names supported on BSD, and\n     * the unknown signals just fail to register, so we can\n     * catch that easily enough.\n     *\n     * Windows signals are a different set, since there are\n     * signals that terminate Windows processes, but don't\n     * terminate (or don't even exist) on Posix systems.\n     *\n     * Don't bother with SIGKILL.  It's uncatchable, which\n     * means that we can't fire any callbacks anyway.\n     *\n     * If a user does happen to register a handler on a non-\n     * fatal signal like SIGWINCH or something, and then\n     * exit, it'll end up firing `process.emit('exit')`, so\n     * the handler will be fired anyway.\n     *\n     * SIGBUS, SIGFPE, SIGSEGV and SIGILL, when not raised\n     * artificially, inherently leave the process in a\n     * state from which it is not safe to try and enter JS\n     * listeners.\n     */\n    this.#signals.push(\"SIGHUP\", \"SIGINT\", \"SIGTERM\");\n    if (globalThis.process.platform !== \"win32\") {\n      this.#signals.push(\n        \"SIGALRM\",\n        \"SIGABRT\",\n        \"SIGVTALRM\",\n        \"SIGXCPU\",\n        \"SIGXFSZ\",\n        \"SIGUSR2\",\n        \"SIGTRAP\",\n        \"SIGSYS\",\n        \"SIGQUIT\",\n        \"SIGIOT\",\n        // should detect profiler and enable/disable accordingly.\n        // see #21\n        // 'SIGPROF'\n      );\n    }\n    if (globalThis.process.platform === \"linux\") {\n      this.#signals.push(\"SIGIO\", \"SIGPOLL\", \"SIGPWR\", \"SIGSTKFLT\");\n    }\n    this.#process = process;\n    // { <signal>: <listener fn>, ... }\n    this.#sigListeners = {};\n    for (const sig of this.#signals) {\n      // @ts-ignore\n      this.#sigListeners[sig] = () => {\n        // If there are no other listeners, an exit is coming!\n        // Simplest way: remove us and then re-send the signal.\n        // We know that this will kill the process, so we can\n        // safely emit now.\n        const listeners = this.#process.listeners(sig);\n        let { count } = this.#emitter;\n        // This is a workaround for the fact that signal-exit v3 and signal\n        // exit v4 are not aware of each other, and each will attempt to let\n        // the other handle it, so neither of them do. To correct this, we\n        // detect if we're the only handler *except* for previous versions\n        // of signal-exit, and increment by the count of listeners it has\n        // created.\n        /* c8 ignore start */\n        const p = process;\n        if (typeof p.__signal_exit_emitter__ === \"object\" && typeof p.__signal_exit_emitter__.count === \"number\") {\n          count += p.__signal_exit_emitter__.count;\n        }\n        /* c8 ignore stop */\n        if (listeners.length === count) {\n          this.unload();\n          const ret = this.#emitter.emit(\"exit\", null, sig);\n          /* c8 ignore start */\n          const s = sig === \"SIGHUP\" ? this.#hupSig : sig;\n          if (!ret) process.kill(process.pid, s);\n          /* c8 ignore stop */\n        }\n      };\n    }\n    this.#originalProcessReallyExit = process.reallyExit;\n    this.#originalProcessEmit = process.emit;\n  }\n  onExit(cb: any, opts: any) {\n    /* c8 ignore start */\n    if (!processOk(this.#process)) {\n      return () => {};\n    }\n    /* c8 ignore stop */\n    if (this.#loaded === false) {\n      this.load();\n    }\n    const ev = opts?.alwaysLast ? \"afterExit\" : \"exit\";\n    this.#emitter.on(ev, cb);\n    return () => {\n      this.#emitter.removeListener(ev, cb);\n      if (this.#emitter.listeners[\"exit\"].length === 0 && this.#emitter.listeners[\"afterExit\"].length === 0) {\n        this.unload();\n      }\n    };\n  }\n  load() {\n    if (this.#loaded) {\n      return;\n    }\n    this.#loaded = true;\n    // This is the number of onSignalExit's that are in play.\n    // It's important so that we can count the correct number of\n    // listeners on signals, and don't wait for the other one to\n    // handle it instead of us.\n    this.#emitter.count += 1;\n    for (const sig of this.#signals) {\n      try {\n        // @ts-ignore\n        const fn = this.#sigListeners[sig];\n        if (fn) this.#process.on(sig, fn);\n      } catch (_) {\n        // no-op\n      }\n    }\n    this.#process.emit = (ev: any, ...a: any) => {\n      return this.#processEmit(ev, ...a);\n    };\n    this.#process.reallyExit = (code: any) => {\n      return this.#processReallyExit(code);\n    };\n  }\n  unload() {\n    if (!this.#loaded) {\n      return;\n    }\n    this.#loaded = false;\n    this.#signals.forEach((sig) => {\n      // @ts-ignore\n      const listener = this.#sigListeners[sig];\n      /* c8 ignore start */\n      if (!listener) {\n        throw new Error(\"Listener not defined for signal: \" + sig);\n      }\n      /* c8 ignore stop */\n      try {\n        this.#process.removeListener(sig, listener);\n        /* c8 ignore start */\n      } catch (_) {\n        // no-op\n      }\n      /* c8 ignore stop */\n    });\n    this.#process.emit = this.#originalProcessEmit;\n    this.#process.reallyExit = this.#originalProcessReallyExit;\n    this.#emitter.count -= 1;\n  }\n  #processReallyExit(code: any) {\n    /* c8 ignore start */\n    if (!processOk(this.#process)) {\n      return 0;\n    }\n    this.#process.exitCode = code || 0;\n    /* c8 ignore stop */\n    this.#emitter.emit(\"exit\", this.#process.exitCode, null);\n    return this.#originalProcessReallyExit.call(this.#process, this.#process.exitCode);\n  }\n  #processEmit(ev: any, ...args: any) {\n    const og = this.#originalProcessEmit;\n    if (ev === \"exit\" && processOk(this.#process)) {\n      if (typeof args[0] === \"number\") {\n        this.#process.exitCode = args[0];\n        /* c8 ignore start */\n      }\n      /* c8 ignore start */\n      const ret = og.call(this.#process, ev, ...args);\n      /* c8 ignore start */\n      this.#emitter.emit(\"exit\", this.#process.exitCode, null);\n      /* c8 ignore stop */\n      return ret;\n    } else {\n      return og.call(this.#process, ev, ...args);\n    }\n  }\n}\n\nlet signalExit: SignalExit | SignalExitFallback | null = null;\n\nexport const onExit = (\n  cb: any,\n  opts?: {\n    alwaysLast?: boolean | undefined;\n  },\n) => {\n  if (!signalExit) {\n    signalExit = processOk(process) ? new SignalExit(process) : new SignalExitFallback();\n  }\n  return signalExit.onExit(cb, opts);\n};\n", "import { environment } from \"@raycast/api\";\nimport { createReadStream, createWriteStream, mkdirSync, Stats } from \"node:fs\";\nimport { stat } from \"node:fs/promises\";\nimport { join, normalize } from \"node:path\";\nimport { pipeline } from \"node:stream/promises\";\nimport { useRef } from \"react\";\nimport Chain from \"./vendors/stream-chain\";\nimport { parser, PickParser, StreamArray } from \"./vendors/stream-json\";\nimport { isJSON } from \"./fetch-utils\";\nimport { Flatten, FunctionReturningPaginatedPromise, UseCachedPromiseReturnType } from \"./types\";\nimport { CachedPromiseOptions, useCachedPromise } from \"./useCachedPromise\";\nimport { hash } from \"./helpers\";\n\ntype RequestInfo = string | URL | globalThis.Request;\n\nasync function cache(url: RequestInfo, destination: string, fetchOptions?: RequestInit) {\n  if (typeof url === \"object\" || url.startsWith(\"http://\") || url.startsWith(\"https://\")) {\n    return await cacheURL(url, destination, fetchOptions);\n  } else if (url.startsWith(\"file://\")) {\n    return await cacheFile(\n      normalize(decodeURIComponent(new URL(url).pathname)),\n      destination,\n      fetchOptions?.signal ? fetchOptions.signal : undefined,\n    );\n  } else {\n    throw new Error(\"Only HTTP(S) or file URLs are supported\");\n  }\n}\n\nasync function cacheURL(url: RequestInfo, destination: string, fetchOptions?: RequestInit) {\n  const response = await fetch(url, fetchOptions);\n\n  if (!response.ok) {\n    throw new Error(\"Failed to fetch URL\");\n  }\n\n  if (!isJSON(response.headers.get(\"content-type\"))) {\n    throw new Error(\"URL does not return JSON\");\n  }\n  if (!response.body) {\n    throw new Error(\"Failed to retrieve expected JSON content: Response body is missing or inaccessible.\");\n  }\n  await pipeline(\n    response.body as unknown as NodeJS.ReadableStream,\n    createWriteStream(destination),\n    fetchOptions?.signal ? { signal: fetchOptions.signal } : undefined,\n  );\n}\n\nasync function cacheFile(source: string, destination: string, abortSignal?: AbortSignal) {\n  await pipeline(\n    createReadStream(source),\n    createWriteStream(destination),\n    abortSignal ? { signal: abortSignal } : undefined,\n  );\n}\n\nasync function cacheURLIfNecessary(\n  url: RequestInfo,\n  folder: string,\n  fileName: string,\n  forceUpdate: boolean,\n  fetchOptions?: RequestInit,\n) {\n  const destination = join(folder, fileName);\n\n  try {\n    await stat(folder);\n  } catch (e) {\n    mkdirSync(folder, { recursive: true });\n    await cache(url, destination, fetchOptions);\n    return;\n  }\n  if (forceUpdate) {\n    await cache(url, destination, fetchOptions);\n    return;\n  }\n\n  let stats: Stats | undefined = undefined;\n  try {\n    stats = await stat(destination);\n  } catch (e) {\n    await cache(url, destination, fetchOptions);\n    return;\n  }\n\n  if (typeof url === \"object\" || url.startsWith(\"http://\") || url.startsWith(\"https://\")) {\n    const headResponse = await fetch(url, { ...fetchOptions, method: \"HEAD\" });\n    if (!headResponse.ok) {\n      throw new Error(\"Could not fetch URL\");\n    }\n\n    if (!isJSON(headResponse.headers.get(\"content-type\"))) {\n      throw new Error(\"URL does not return JSON\");\n    }\n\n    const lastModified = Date.parse(headResponse.headers.get(\"last-modified\") ?? \"\");\n    if (stats.size === 0 || Number.isNaN(lastModified) || lastModified > stats.mtimeMs) {\n      await cache(url, destination, fetchOptions);\n      return;\n    }\n  } else if (url.startsWith(\"file://\")) {\n    try {\n      const sourceStats = await stat(normalize(decodeURIComponent(new URL(url).pathname)));\n      if (sourceStats.mtimeMs > stats.mtimeMs) {\n        await cache(url, destination, fetchOptions);\n      }\n    } catch (e) {\n      throw new Error(\"Source file could not be read\");\n    }\n  } else {\n    throw new Error(\"Only HTTP(S) or file URLs are supported\");\n  }\n}\n\nasync function* streamJsonFile<T>(\n  filePath: string,\n  pageSize: number,\n  abortSignal?: AbortSignal,\n  dataPath?: string | RegExp,\n  filterFn?: (item: Flatten<T>) => boolean,\n  transformFn?: (item: any) => T,\n): AsyncGenerator<T extends unknown[] ? T : T[]> {\n  let page: T extends unknown[] ? T : T[] = [] as T extends unknown[] ? T : T[];\n\n  const pipeline = Chain([\n    createReadStream(filePath),\n    dataPath ? PickParser({ filter: dataPath }) : parser(),\n    StreamArray(),\n    (data: any) => transformFn?.(data.value) ?? data.value,\n  ]);\n\n  abortSignal?.addEventListener(\"abort\", () => {\n    pipeline.destroy();\n  });\n\n  try {\n    for await (const data of pipeline) {\n      if (abortSignal?.aborted) {\n        return [];\n      }\n      if (!filterFn || filterFn(data)) {\n        page.push(data);\n      }\n      if (page.length >= pageSize) {\n        yield page;\n        page = [] as T extends unknown[] ? T : T[];\n      }\n    }\n  } catch (e) {\n    pipeline.destroy();\n    throw e;\n  }\n\n  if (page.length > 0) {\n    yield page;\n  }\n\n  return [];\n}\n\ntype Options<T> = {\n  /**\n   * The hook expects to iterate through an array of data, so by default, it assumes the JSON it receives itself represents an array. However, sometimes the array of data is wrapped in an object,\n   * i.e. `{ \"success\": true, \"data\": [] }`, or even `{ \"success\": true, \"results\": { \"data\": [] } }`. In those cases, you can use `dataPath` to specify where the data array can be found.\n   *\n   * @remark If your JSON object has multiple arrays that you want to stream data from, you can pass a regular expression to stream through all of them.\n   *\n   * @example For `{ \"success\": true, \"data\": [] }`, dataPath would be `data`\n   * @example For `{ \"success\": true, \"results\": { \"data\": [] } }`, dataPath would be `results.data`\n   * @example For `{ \"success\": true, \"results\": { \"first_list\": [], \"second_list\": [], \"third_list\": [] } }`, dataPath would be `/^results\\.(first_list|second_list|third_list)$\n/`.\n   */\n  dataPath?: string | RegExp;\n  /**\n   * A function to decide whether a particular item should be kept or not.\n   * Defaults to `undefined`, keeping any encountered item.\n   *\n   * @remark The hook will revalidate every time the filter function changes, so you need to use [useCallback](https://react.dev/reference/react/useCallback) to make sure it only changes when it needs to.\n   */\n  filter?: (item: Flatten<T>) => boolean;\n  /**\n   * A function to apply to each item as it is encountered. Useful for a couple of things:\n   * 1. ensuring that all items have the expected properties, and, as on optimization, for getting rid of the properties that you don't care about.\n   * 2. when top-level objects actually represent nested data, which should be flattened. In this case, `transform` can return an array of items, and the hook will stream through each one of those items,\n   * passing them to `filter` etc.\n   *\n   * Defaults to a passthrough function if not provided.\n   *\n   * @remark The hook will revalidate every time the transform function changes, so it is important to use [useCallback](https://react.dev/reference/react/useCallback) to ensure it only changes when necessary to prevent unnecessary re-renders or computations.\n   *\n   * @example\n   * ```\n   * // For data: `{ \"data\": [ { \"type\": \"folder\", \"name\": \"item 1\", \"children\": [ { \"type\": \"item\", \"name\": \"item 2\" }, { \"type\": \"item\", \"name\": \"item 3\" } ] }, { \"type\": \"folder\", \"name\": \"item 4\", children: [] } ] }`\n   *\n   * type Item = {\n   *  type: \"item\";\n   *  name: string;\n   * };\n   *\n   * type Folder = {\n   *   type: \"folder\";\n   *   name: string;\n   *   children: (Item | Folder)[];\n   * };\n   *\n   * function flatten(item: Item | Folder): { name: string }[] {\n   *   const flattened: { name: string }[] = [];\n   *   if (item.type === \"folder\") {\n   *     flattened.push(...item.children.map(flatten).flat());\n   *   }\n   *   if (item.type === \"item\") {\n   *     flattened.push({ name: item.name });\n   *   }\n   *   return flattened;\n   * }\n   *\n   * const transform = useCallback(flatten, []);\n   * const filter = useCallback((item: { name: string }) => {\n   *   \n   * })\n   * ```\n   */\n  transform?: (item: any) => T;\n  /**\n   * The amount of items to return for each page.\n   * Defaults to `20`.\n   */\n  pageSize?: number;\n};\n\n/**\n * Takes a `http://`, `https://` or `file:///` URL pointing to a JSON resource, caches it to the command's support\n * folder, and streams through its content. Useful when dealing with large JSON arrays which would be too big to fit\n * in the command's memory.\n *\n * @remark The JSON resource needs to consist of an array of objects\n *\n * @example\n * ```\n * import { List } from \"@raycast/api\";\n * import { useStreamJSON } from \"@raycast/utils\";\n *\n * type Formula = { name: string; desc?: string };\n *\n * export default function Main(): React.JSX.Element {\n *   const { data, isLoading, pagination } = useStreamJSON<Formula>(\"https://formulae.brew.sh/api/formula.json\");\n *\n *   return (\n *     <List isLoading={isLoading} pagination={pagination}>\n *       <List.Section title=\"Formulae\">\n *         {data?.map((d) => <List.Item key={d.name} title={d.name} subtitle={d.desc} />)}\n *       </List.Section>\n *     </List>\n *   );\n * }\n * ```\n *\n * @example\n * ```\n * import { List } from \"@raycast/api\";\n * import { useStreamJSON } from \"@raycast/utils\";\n * import { homedir } from \"os\";\n * import { join } from \"path\";\n *\n * type Formula = { name: string; desc?: string };\n *\n * export default function Main(): React.JSX.Element {\n *   const { data, isLoading, pagination } = useStreamJSON<Formula>(`file:///${join(homedir(), \"Downloads\", \"formulae.json\")}`);\n *\n *   return (\n *     <List isLoading={isLoading} pagination={pagination}>\n *       <List.Section title=\"Formulae\">\n *         {data?.map((d) => <List.Item key={d.name} title={d.name} subtitle={d.desc} />)}\n *       </List.Section>\n *     </List>\n *   );\n * }\n * ```\n */\nexport function useStreamJSON<T, U = unknown>(url: RequestInfo): UseCachedPromiseReturnType<T, U>;\n\n/**\n * Takes a `http://`, `https://` or `file:///` URL pointing to a JSON resource, caches it to the command's support\n * folder, and streams through its content. Useful when dealing with large JSON arrays which would be too big to fit\n * in the command's memory.\n *\n * @remark The JSON resource needs to consist of an array of objects\n *\n * @example\n * ```\n * import { List, environment } from \"@raycast/api\";\n * import { useStreamJSON } from \"@raycast/utils\";\n * import { join } from 'path';\n * import { useCallback, useState } from \"react\";\n *\n * type Formula = { name: string; desc?: string };\n *\n * export default function Main(): React.JSX.Element {\n *   const [searchText, setSearchText] = useState(\"\");\n *\n *   const formulaFilter = useCallback(\n *     (item: Formula) => {\n *       if (!searchText) return true;\n *       return item.name.toLocaleLowerCase().includes(searchText);\n *     },\n *     [searchText],\n *   );\n *\n *   const formulaTransform = useCallback((item: any): Formula => {\n *     return { name: item.name, desc: item.desc };\n *   }, []);\n *\n *   const { data, isLoading, pagination } = useStreamJSON(\"https://formulae.brew.sh/api/formula.json\", {\n *     initialData: [] as Formula[],\n *     pageSize: 20,\n *     filter: formulaFilter,\n *     transform: formulaTransform,\n *   });\n *\n *   return (\n *     <List isLoading={isLoading} pagination={pagination} onSearchTextChange={setSearchText}>\n *       <List.Section title=\"Formulae\">\n *         {data.map((d) => (\n *           <List.Item key={d.name} title={d.name} subtitle={d.desc} />\n *         ))}\n *       </List.Section>\n *     </List>\n *   );\n * }\n * ``` support folder, and streams through its content.\n *\n * @example\n * ```\n * import { List, environment } from \"@raycast/api\";\n * import { useStreamJSON } from \"@raycast/utils\";\n * import { join } from \"path\";\n * import { homedir } from \"os\";\n * import { useCallback, useState } from \"react\";\n *\n * type Formula = { name: string; desc?: string };\n *\n * export default function Main(): React.JSX.Element {\n *   const [searchText, setSearchText] = useState(\"\");\n *\n *   const formulaFilter = useCallback(\n *     (item: Formula) => {\n *       if (!searchText) return true;\n *       return item.name.toLocaleLowerCase().includes(searchText);\n *     },\n *     [searchText],\n *   );\n *\n *   const formulaTransform = useCallback((item: any): Formula => {\n *     return { name: item.name, desc: item.desc };\n *   }, []);\n *\n *   const { data, isLoading, pagination } = useStreamJSON(`file:///${join(homedir(), \"Downloads\", \"formulae.json\")}`, {\n *     initialData: [] as Formula[],\n *     pageSize: 20,\n *     filter: formulaFilter,\n *     transform: formulaTransform,\n *   });\n *\n *   return (\n *     <List isLoading={isLoading} pagination={pagination} onSearchTextChange={setSearchText}>\n *       <List.Section title=\"Formulae\">\n *         {data.map((d) => (\n *           <List.Item key={d.name} title={d.name} subtitle={d.desc} />\n *         ))}\n *       </List.Section>\n *     </List>\n *   );\n * }\n * ```\n */\nexport function useStreamJSON<T, U extends any[] = any[]>(\n  url: RequestInfo,\n  options: Options<T> & RequestInit & Omit<CachedPromiseOptions<FunctionReturningPaginatedPromise, U>, \"abortable\">,\n): UseCachedPromiseReturnType<T extends unknown[] ? T : T[], U>;\n\nexport function useStreamJSON<T, U extends any[] = any[]>(\n  url: RequestInfo,\n  options?: Options<T> & RequestInit & Omit<CachedPromiseOptions<FunctionReturningPaginatedPromise, U>, \"abortable\">,\n): UseCachedPromiseReturnType<T extends unknown[] ? T : T[], U> {\n  const {\n    initialData,\n    execute,\n    keepPreviousData,\n    onError,\n    onData,\n    onWillExecute,\n    failureToastOptions,\n    dataPath,\n    filter,\n    transform,\n    pageSize = 20,\n    ...fetchOptions\n  } = options ?? {};\n  const previousUrl = useRef<RequestInfo>(null);\n  const previousDestination = useRef<string>(null);\n\n  const useCachedPromiseOptions: CachedPromiseOptions<FunctionReturningPaginatedPromise, U> = {\n    initialData,\n    execute,\n    keepPreviousData,\n    onError,\n    onData,\n    onWillExecute,\n    failureToastOptions,\n  };\n\n  const generatorRef = useRef<AsyncGenerator<T extends unknown[] ? T : T[]> | null>(null);\n  const controllerRef = useRef<AbortController | null>(null);\n  const hasMoreRef = useRef(false);\n\n  return useCachedPromise(\n    (\n      url: RequestInfo,\n      pageSize: number,\n      fetchOptions: RequestInit | undefined,\n      dataPath: string | RegExp | undefined,\n      filter: ((item: Flatten<T>) => boolean) | undefined,\n      transform: ((item: unknown) => T) | undefined,\n    ) =>\n      async ({ page }) => {\n        const fileName = hash(url) + \".json\";\n        const folder = environment.supportPath;\n        if (page === 0) {\n          controllerRef.current?.abort();\n          controllerRef.current = new AbortController();\n          const destination = join(folder, fileName);\n          /**\n           * Force update the cache when the URL changes but the cache destination does not.\n           */\n          const forceCacheUpdate = Boolean(\n            previousUrl.current &&\n              previousUrl.current !== url &&\n              previousDestination.current &&\n              previousDestination.current === destination,\n          );\n          previousUrl.current = url;\n          previousDestination.current = destination;\n          await cacheURLIfNecessary(url, folder, fileName, forceCacheUpdate, {\n            ...fetchOptions,\n            signal: controllerRef.current?.signal,\n          });\n          generatorRef.current = streamJsonFile(\n            destination,\n            pageSize,\n            controllerRef.current?.signal,\n            dataPath,\n            filter,\n            transform,\n          );\n        }\n        if (!generatorRef.current) {\n          return { hasMore: hasMoreRef.current, data: [] as T extends unknown[] ? T : T[] };\n        }\n        const { value: newData, done } = await generatorRef.current.next();\n        hasMoreRef.current = !done;\n        return { hasMore: hasMoreRef.current, data: (newData ?? []) as T extends unknown[] ? T : T[] };\n      },\n    [url, pageSize, fetchOptions, dataPath, filter, transform],\n    useCachedPromiseOptions,\n  );\n}\n", "/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable @typescript-eslint/ban-ts-comment */\nimport { Readable, Writable, Duplex } from \"node:stream\";\n\nexport const none = /* #__PURE__ */ Symbol.for(\"object-stream.none\");\nconst stop = /* #__PURE__ */ Symbol.for(\"object-stream.stop\");\n\nconst finalSymbol = /* #__PURE__ */ Symbol.for(\"object-stream.final\");\nconst manySymbol = /* #__PURE__ */ Symbol.for(\"object-stream.many\");\nconst flushSymbol = /* #__PURE__ */ Symbol.for(\"object-stream.flush\");\nconst fListSymbol = /* #__PURE__ */ Symbol.for(\"object-stream.fList\");\n\nconst finalValue = (value: any) => ({ [finalSymbol]: 1, value });\nexport const many = (values: any) => ({ [manySymbol]: 1, values });\n\nconst isFinalValue = (o: any) => o && o[finalSymbol] === 1;\nconst isMany = (o: any) => o && o[manySymbol] === 1;\nconst isFlushable = (o: any) => o && o[flushSymbol] === 1;\nconst isFunctionList = (o: any) => o && o[fListSymbol] === 1;\n\nconst getFinalValue = (o: any) => o.value;\nconst getManyValues = (o: any) => o.values;\nconst getFunctionList = (o: any) => o.fList;\n\nexport const combineManyMut = (a: any, b: any) => {\n  const values = a === none ? [] : a?.[manySymbol] === 1 ? a.values : [a];\n  if (b === none) {\n    // do nothing\n  } else if (b?.[manySymbol] === 1) {\n    values.push(...b.values);\n  } else {\n    values.push(b);\n  }\n  return many(values);\n};\n\nexport const flushable = (write: (value: any) => any, final = null) => {\n  const fn = final ? (value: any) => (value === none ? finalValue(undefined) : write(value)) : write;\n  // @ts-ignore\n  fn[flushSymbol] = 1;\n  return fn;\n};\n\nconst setFunctionList = (o: any, fns: any) => {\n  o.fList = fns;\n  o[fListSymbol] = 1;\n  return o;\n};\n\n// is*NodeStream functions taken from https://github.com/nodejs/node/blob/master/lib/internal/streams/utils.js\nconst isReadableNodeStream = (obj: any) =>\n  obj &&\n  typeof obj.pipe === \"function\" &&\n  typeof obj.on === \"function\" &&\n  (!obj._writableState || (typeof obj._readableState === \"object\" ? obj._readableState.readable : null) !== false) && // Duplex\n  (!obj._writableState || obj._readableState); // Writable has .pipe.\n\nconst isWritableNodeStream = (obj: any) =>\n  obj &&\n  typeof obj.write === \"function\" &&\n  typeof obj.on === \"function\" &&\n  (!obj._readableState || (typeof obj._writableState === \"object\" ? obj._writableState.writable : null) !== false); // Duplex\n\nconst isDuplexNodeStream = (obj: any) =>\n  obj &&\n  typeof obj.pipe === \"function\" &&\n  obj._readableState &&\n  typeof obj.on === \"function\" &&\n  typeof obj.write === \"function\";\n\nconst isReadableWebStream = (obj: any) => obj && globalThis.ReadableStream && obj instanceof globalThis.ReadableStream;\n\nconst isWritableWebStream = (obj: any) => obj && globalThis.WritableStream && obj instanceof globalThis.WritableStream;\n\nconst isDuplexWebStream = (obj: any) =>\n  obj &&\n  globalThis.ReadableStream &&\n  obj.readable instanceof globalThis.ReadableStream &&\n  globalThis.WritableStream &&\n  obj.writable instanceof globalThis.WritableStream;\n\nconst groupFunctions = (output: any, fn: any, index: any, fns: any) => {\n  if (\n    isDuplexNodeStream(fn) ||\n    (!index && isReadableNodeStream(fn)) ||\n    (index === fns.length - 1 && isWritableNodeStream(fn))\n  ) {\n    output.push(fn);\n    return output;\n  }\n  if (isDuplexWebStream(fn)) {\n    output.push(Duplex.fromWeb(fn, { objectMode: true }));\n    return output;\n  }\n  if (!index && isReadableWebStream(fn)) {\n    output.push(Readable.fromWeb(fn, { objectMode: true }));\n    return output;\n  }\n  if (index === fns.length - 1 && isWritableWebStream(fn)) {\n    output.push(Writable.fromWeb(fn, { objectMode: true }));\n    return output;\n  }\n  if (typeof fn != \"function\") throw TypeError(\"Item #\" + index + \" is not a proper stream, nor a function.\");\n  if (!output.length) output.push([]);\n  const last = output[output.length - 1];\n  if (Array.isArray(last)) {\n    last.push(fn);\n  } else {\n    output.push([fn]);\n  }\n  return output;\n};\n\nclass Stop extends Error {}\n\nexport const asStream = (fn: any) => {\n  if (typeof fn != \"function\") throw TypeError(\"Only a function is accepted as the first argument\");\n\n  // pump variables\n  let paused = Promise.resolve();\n  let resolvePaused: ((value: void | PromiseLike<void>) => void) | null = null;\n  const queue: any[] = [];\n\n  // pause/resume\n  const resume: any = () => {\n    if (!resolvePaused) return;\n    resolvePaused();\n    resolvePaused = null;\n    paused = Promise.resolve();\n  };\n  const pause: any = () => {\n    if (resolvePaused) return;\n    paused = new Promise((resolve) => (resolvePaused = resolve));\n  };\n\n  // eslint-disable-next-line prefer-const\n  let stream: Duplex; // will be assigned later\n\n  // data processing\n  const pushResults: any = (values: any) => {\n    if (values && typeof values.next == \"function\") {\n      // generator\n      queue.push(values);\n      return;\n    }\n    // array\n    queue.push(values[Symbol.iterator]());\n  };\n  const pump: any = async () => {\n    while (queue.length) {\n      await paused;\n      const gen = queue[queue.length - 1];\n      let result = gen.next();\n      if (result && typeof result.then == \"function\") {\n        result = await result;\n      }\n      if (result.done) {\n        queue.pop();\n        continue;\n      }\n      let value = result.value;\n      if (value && typeof value.then == \"function\") {\n        value = await value;\n      }\n      await sanitize(value);\n    }\n  };\n  const sanitize: any = async (value: any) => {\n    if (value === undefined || value === null || value === none) return;\n    if (value === stop) throw new Stop();\n\n    if (isMany(value)) {\n      pushResults(getManyValues(value));\n      return pump();\n    }\n\n    if (isFinalValue(value)) {\n      // a final value is not supported, it is treated as a regular value\n      value = getFinalValue(value);\n      return processValue(value);\n    }\n\n    if (!stream.push(value)) {\n      pause();\n    }\n  };\n  const processChunk: any = async (chunk: any, encoding: any) => {\n    try {\n      const value = fn(chunk, encoding);\n      await processValue(value);\n    } catch (error) {\n      if (error instanceof Stop) {\n        stream.push(null);\n        stream.destroy();\n        return;\n      }\n      throw error;\n    }\n  };\n  const processValue: any = async (value: any) => {\n    if (value && typeof value.then == \"function\") {\n      // thenable\n      return value.then((value: any) => processValue(value));\n    }\n    if (value && typeof value.next == \"function\") {\n      // generator\n      pushResults(value);\n      return pump();\n    }\n    return sanitize(value);\n  };\n\n  stream = new Duplex(\n    Object.assign({ writableObjectMode: true, readableObjectMode: true }, undefined, {\n      write(chunk: any, encoding: any, callback: any) {\n        processChunk(chunk, encoding).then(\n          () => callback(null),\n          (error: any) => callback(error),\n        );\n      },\n      final(callback: any) {\n        if (!isFlushable(fn)) {\n          stream.push(null);\n          callback(null);\n          return;\n        }\n        processChunk(none, null).then(\n          () => (stream.push(null), callback(null)),\n          (error: any) => callback(error),\n        );\n      },\n      read() {\n        resume();\n      },\n    }),\n  );\n\n  return stream;\n};\n\nconst produceStreams = (item: any) => {\n  if (Array.isArray(item)) {\n    if (!item.length) return null;\n    if (item.length == 1) return item[0] && asStream(item[0]);\n    return asStream(gen(...item));\n  }\n  return item;\n};\n\nconst next: any = async function* (value: any, fns: any, index: any) {\n  for (let i = index; i <= fns.length; ++i) {\n    if (value && typeof value.then == \"function\") {\n      // thenable\n      value = await value;\n    }\n    if (value === none) break;\n    if (value === stop) throw new Stop();\n    if (isFinalValue(value)) {\n      yield getFinalValue(value);\n      break;\n    }\n    if (isMany(value)) {\n      const values = getManyValues(value);\n      if (i == fns.length) {\n        yield* values;\n      } else {\n        for (let j = 0; j < values.length; ++j) {\n          yield* next(values[j], fns, i);\n        }\n      }\n      break;\n    }\n    if (value && typeof value.next == \"function\") {\n      // generator\n      for (;;) {\n        let data = value.next();\n        if (data && typeof data.then == \"function\") {\n          data = await data;\n        }\n        if (data.done) break;\n        if (i == fns.length) {\n          yield data.value;\n        } else {\n          yield* next(data.value, fns, i);\n        }\n      }\n      break;\n    }\n    if (i == fns.length) {\n      yield value;\n      break;\n    }\n    const f = fns[i];\n    value = f(value);\n  }\n};\n\nexport const gen = (...fns: any) => {\n  fns = fns\n    .filter((fn: any) => fn)\n    .flat(Infinity)\n    .map((fn: any) => (isFunctionList(fn) ? getFunctionList(fn) : fn))\n    .flat(Infinity);\n  if (!fns.length) {\n    fns = [(x: any) => x];\n  }\n  let flushed = false;\n  let g = async function* (value: any) {\n    if (flushed) throw Error(\"Call to a flushed pipe.\");\n    if (value !== none) {\n      yield* next(value, fns, 0);\n    } else {\n      flushed = true;\n      for (let i = 0; i < fns.length; ++i) {\n        const f = fns[i];\n        if (isFlushable(f)) {\n          yield* next(f(none), fns, i + 1);\n        }\n      }\n    }\n  };\n  const needToFlush = fns.some((fn: any) => isFlushable(fn));\n  if (needToFlush) g = flushable(g);\n  return setFunctionList(g, fns);\n};\n\nconst write = (input: any, chunk: any, encoding: any, callback: any) => {\n  let error: any = null;\n  try {\n    input.write(chunk, encoding, (e: any) => callback(e || error));\n  } catch (e) {\n    error = e;\n  }\n};\n\nconst final = (input: any, callback: any) => {\n  let error: any = null;\n  try {\n    input.end(null, null, (e: any) => callback(e || error));\n  } catch (e) {\n    error = e;\n  }\n};\n\nconst read = (output: any) => {\n  output.resume();\n};\n\nexport default function chain(fns: any) {\n  fns = fns.flat(Infinity).filter((fn: any) => fn);\n\n  const streams = fns\n      .map((fn: any) => (isFunctionList(fn) ? getFunctionList(fn) : fn))\n      .flat(Infinity)\n      .reduce(groupFunctions, [])\n      .map(produceStreams)\n      .filter((s: any) => s),\n    input = streams[0],\n    output = streams.reduce((output: any, item: any) => (output && output.pipe(item)) || item);\n\n  // eslint-disable-next-line prefer-const\n  let stream: Duplex; // will be assigned later\n\n  let writeMethod = (chunk: any, encoding: any, callback: any) => write(input, chunk, encoding, callback),\n    finalMethod = (callback: any) => final(input, callback),\n    readMethod = () => read(output);\n\n  if (!isWritableNodeStream(input)) {\n    writeMethod = (_1, _2, callback) => callback(null);\n    finalMethod = (callback) => callback(null);\n    input.on(\"end\", () => stream.end());\n  }\n\n  if (isReadableNodeStream(output)) {\n    output.on(\"data\", (chunk: any) => !stream.push(chunk) && output.pause());\n    output.on(\"end\", () => stream.push(null));\n  } else {\n    readMethod = () => {}; // nop\n    output.on(\"finish\", () => stream.push(null));\n  }\n\n  stream = new Duplex(\n    Object.assign(\n      { writableObjectMode: true, readableObjectMode: true },\n      {\n        readable: isReadableNodeStream(output),\n        writable: isWritableNodeStream(input),\n        write: writeMethod,\n        final: finalMethod,\n        read: readMethod,\n      },\n    ),\n  );\n  // @ts-ignore\n  stream.streams = streams;\n  // @ts-ignore\n  stream.input = input;\n  // @ts-ignore\n  stream.output = output;\n\n  if (!isReadableNodeStream(output)) {\n    stream.resume();\n  }\n\n  // connect events\n  streams.forEach((item: any) => item.on(\"error\", (error: any) => stream.emit(\"error\", error)));\n\n  return stream;\n}\n", "/* eslint-disable @typescript-eslint/ban-ts-comment */\n/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable no-control-regex */\n/* eslint-disable no-useless-escape */\nimport { flushable, gen, many, none, combineManyMut } from \"./stream-chain\";\nimport { StringDecoder } from \"node:string_decoder\";\nimport EventEmitter from \"node:events\";\n\nconst fixUtf8Stream = () => {\n  const stringDecoder = new StringDecoder();\n  let input = \"\";\n  return flushable((chunk: any) => {\n    if (chunk === none) {\n      const result = input + stringDecoder.end();\n      input = \"\";\n      return result;\n    }\n    if (typeof chunk == \"string\") {\n      if (!input) return chunk;\n      const result = input + chunk;\n      input = \"\";\n      return result;\n    }\n    if (chunk instanceof Buffer) {\n      const result = input + stringDecoder.write(chunk);\n      input = \"\";\n      return result;\n    }\n    throw new TypeError(\"Expected a string or a Buffer\");\n  });\n};\n\nconst patterns = {\n  value1: /[\\\"\\{\\[\\]\\-\\d]|true\\b|false\\b|null\\b|\\s{1,256}/y,\n  string: /[^\\x00-\\x1f\\\"\\\\]{1,256}|\\\\[bfnrt\\\"\\\\\\/]|\\\\u[\\da-fA-F]{4}|\\\"/y,\n  key1: /[\\\"\\}]|\\s{1,256}/y,\n  colon: /\\:|\\s{1,256}/y,\n  comma: /[\\,\\]\\}]|\\s{1,256}/y,\n  ws: /\\s{1,256}/y,\n  numberStart: /\\d/y,\n  numberDigit: /\\d{0,256}/y,\n  numberFraction: /[\\.eE]/y,\n  numberExponent: /[eE]/y,\n  numberExpSign: /[-+]/y,\n};\nconst MAX_PATTERN_SIZE = 16;\n\nconst values: { [key: string]: any } = { true: true, false: false, null: null },\n  expected: { [key: string]: string } = { object: \"objectStop\", array: \"arrayStop\", \"\": \"done\" };\n\n// long hexadecimal codes: \\uXXXX\nconst fromHex = (s: string) => String.fromCharCode(parseInt(s.slice(2), 16));\n\n// short codes: \\b \\f \\n \\r \\t \\\" \\\\ \\/\nconst codes: { [key: string]: string } = {\n  b: \"\\b\",\n  f: \"\\f\",\n  n: \"\\n\",\n  r: \"\\r\",\n  t: \"\\t\",\n  '\"': '\"',\n  \"\\\\\": \"\\\\\",\n  \"/\": \"/\",\n};\n\nconst jsonParser = (options?: any) => {\n  let packKeys = true,\n    packStrings = true,\n    packNumbers = true,\n    streamKeys = true,\n    streamStrings = true,\n    streamNumbers = true,\n    jsonStreaming = false;\n\n  if (options) {\n    \"packValues\" in options && (packKeys = packStrings = packNumbers = options.packValues);\n    \"packKeys\" in options && (packKeys = options.packKeys);\n    \"packStrings\" in options && (packStrings = options.packStrings);\n    \"packNumbers\" in options && (packNumbers = options.packNumbers);\n    \"streamValues\" in options && (streamKeys = streamStrings = streamNumbers = options.streamValues);\n    \"streamKeys\" in options && (streamKeys = options.streamKeys);\n    \"streamStrings\" in options && (streamStrings = options.streamStrings);\n    \"streamNumbers\" in options && (streamNumbers = options.streamNumbers);\n    jsonStreaming = options.jsonStreaming;\n  }\n\n  !packKeys && (streamKeys = true);\n  !packStrings && (streamStrings = true);\n  !packNumbers && (streamNumbers = true);\n\n  let done = false,\n    expect = jsonStreaming ? \"done\" : \"value\",\n    parent = \"\",\n    openNumber = false,\n    accumulator = \"\",\n    buffer = \"\";\n\n  const stack: any[] = [];\n\n  return flushable((buf: any) => {\n    const tokens: any[] = [];\n\n    if (buf === none) {\n      done = true;\n    } else {\n      buffer += buf;\n    }\n\n    let match: any;\n    let value: any;\n    let index = 0;\n\n    main: for (;;) {\n      switch (expect) {\n        case \"value1\":\n        case \"value\":\n          patterns.value1.lastIndex = index;\n          match = patterns.value1.exec(buffer);\n          if (!match) {\n            if (done || index + MAX_PATTERN_SIZE < buffer.length) {\n              if (index < buffer.length) throw new Error(\"Parser cannot parse input: expected a value\");\n              throw new Error(\"Parser has expected a value\");\n            }\n            break main; // wait for more input\n          }\n          value = match[0];\n          switch (value) {\n            case '\"':\n              if (streamStrings) tokens.push({ name: \"startString\" });\n              expect = \"string\";\n              break;\n            case \"{\":\n              tokens.push({ name: \"startObject\" });\n              stack.push(parent);\n              parent = \"object\";\n              expect = \"key1\";\n              break;\n            case \"[\":\n              tokens.push({ name: \"startArray\" });\n              stack.push(parent);\n              parent = \"array\";\n              expect = \"value1\";\n              break;\n            case \"]\":\n              if (expect !== \"value1\") throw new Error(\"Parser cannot parse input: unexpected token ']'\");\n              if (openNumber) {\n                if (streamNumbers) tokens.push({ name: \"endNumber\" });\n                openNumber = false;\n                if (packNumbers) {\n                  tokens.push({ name: \"numberValue\", value: accumulator });\n                  accumulator = \"\";\n                }\n              }\n              tokens.push({ name: \"endArray\" });\n              parent = stack.pop();\n              expect = expected[parent];\n              break;\n            case \"-\":\n              openNumber = true;\n              if (streamNumbers) {\n                tokens.push({ name: \"startNumber\" }, { name: \"numberChunk\", value: \"-\" });\n              }\n              packNumbers && (accumulator = \"-\");\n              expect = \"numberStart\";\n              break;\n            case \"0\":\n              openNumber = true;\n              if (streamNumbers) {\n                tokens.push({ name: \"startNumber\" }, { name: \"numberChunk\", value: \"0\" });\n              }\n              packNumbers && (accumulator = \"0\");\n              expect = \"numberFraction\";\n              break;\n            case \"1\":\n            case \"2\":\n            case \"3\":\n            case \"4\":\n            case \"5\":\n            case \"6\":\n            case \"7\":\n            case \"8\":\n            case \"9\":\n              openNumber = true;\n              if (streamNumbers) {\n                tokens.push({ name: \"startNumber\" }, { name: \"numberChunk\", value: value });\n              }\n              packNumbers && (accumulator = value);\n              expect = \"numberDigit\";\n              break;\n            case \"true\":\n            case \"false\":\n            case \"null\":\n              if (buffer.length - index === value.length && !done) break main; // wait for more input\n              tokens.push({ name: value + \"Value\", value: values[value] });\n              expect = expected[parent];\n              break;\n            // default: // ws\n          }\n          index += value.length;\n          break;\n        case \"keyVal\":\n        case \"string\":\n          patterns.string.lastIndex = index;\n          match = patterns.string.exec(buffer);\n          if (!match) {\n            if (index < buffer.length && (done || buffer.length - index >= 6))\n              throw new Error(\"Parser cannot parse input: escaped characters\");\n            if (done) throw new Error(\"Parser has expected a string value\");\n            break main; // wait for more input\n          }\n          value = match[0];\n          if (value === '\"') {\n            if (expect === \"keyVal\") {\n              if (streamKeys) tokens.push({ name: \"endKey\" });\n              if (packKeys) {\n                tokens.push({ name: \"keyValue\", value: accumulator });\n                accumulator = \"\";\n              }\n              expect = \"colon\";\n            } else {\n              if (streamStrings) tokens.push({ name: \"endString\" });\n              if (packStrings) {\n                tokens.push({ name: \"stringValue\", value: accumulator });\n                accumulator = \"\";\n              }\n              expect = expected[parent];\n            }\n          } else if (value.length > 1 && value.charAt(0) === \"\\\\\") {\n            const t = value.length == 2 ? codes[value.charAt(1)] : fromHex(value);\n            if (expect === \"keyVal\" ? streamKeys : streamStrings) {\n              tokens.push({ name: \"stringChunk\", value: t });\n            }\n            if (expect === \"keyVal\" ? packKeys : packStrings) {\n              accumulator += t;\n            }\n          } else {\n            if (expect === \"keyVal\" ? streamKeys : streamStrings) {\n              tokens.push({ name: \"stringChunk\", value: value });\n            }\n            if (expect === \"keyVal\" ? packKeys : packStrings) {\n              accumulator += value;\n            }\n          }\n          index += value.length;\n          break;\n        case \"key1\":\n        case \"key\":\n          patterns.key1.lastIndex = index;\n          match = patterns.key1.exec(buffer);\n          if (!match) {\n            if (index < buffer.length || done) throw new Error(\"Parser cannot parse input: expected an object key\");\n            break main; // wait for more input\n          }\n          value = match[0];\n          if (value === '\"') {\n            if (streamKeys) tokens.push({ name: \"startKey\" });\n            expect = \"keyVal\";\n          } else if (value === \"}\") {\n            if (expect !== \"key1\") throw new Error(\"Parser cannot parse input: unexpected token '}'\");\n            tokens.push({ name: \"endObject\" });\n            parent = stack.pop();\n            expect = expected[parent];\n          }\n          index += value.length;\n          break;\n        case \"colon\":\n          patterns.colon.lastIndex = index;\n          match = patterns.colon.exec(buffer);\n          if (!match) {\n            if (index < buffer.length || done) throw new Error(\"Parser cannot parse input: expected ':'\");\n            break main; // wait for more input\n          }\n          value = match[0];\n          value === \":\" && (expect = \"value\");\n          index += value.length;\n          break;\n        case \"arrayStop\":\n        case \"objectStop\":\n          patterns.comma.lastIndex = index;\n          match = patterns.comma.exec(buffer);\n          if (!match) {\n            if (index < buffer.length || done) throw new Error(\"Parser cannot parse input: expected ','\");\n            break main; // wait for more input\n          }\n          if (openNumber) {\n            if (streamNumbers) tokens.push({ name: \"endNumber\" });\n            openNumber = false;\n            if (packNumbers) {\n              tokens.push({ name: \"numberValue\", value: accumulator });\n              accumulator = \"\";\n            }\n          }\n          value = match[0];\n          if (value === \",\") {\n            expect = expect === \"arrayStop\" ? \"value\" : \"key\";\n          } else if (value === \"}\" || value === \"]\") {\n            if (value === \"}\" ? expect === \"arrayStop\" : expect !== \"arrayStop\") {\n              throw new Error(\"Parser cannot parse input: expected '\" + (expect === \"arrayStop\" ? \"]\" : \"}\") + \"'\");\n            }\n            tokens.push({ name: value === \"}\" ? \"endObject\" : \"endArray\" });\n            parent = stack.pop();\n            expect = expected[parent];\n          }\n          index += value.length;\n          break;\n        // number chunks\n        case \"numberStart\": // [0-9]\n          patterns.numberStart.lastIndex = index;\n          match = patterns.numberStart.exec(buffer);\n          if (!match) {\n            if (index < buffer.length || done) throw new Error(\"Parser cannot parse input: expected a starting digit\");\n            break main; // wait for more input\n          }\n          value = match[0];\n          if (streamNumbers) tokens.push({ name: \"numberChunk\", value: value });\n          packNumbers && (accumulator += value);\n          expect = value === \"0\" ? \"numberFraction\" : \"numberDigit\";\n          index += value.length;\n          break;\n        case \"numberDigit\": // [0-9]*\n          patterns.numberDigit.lastIndex = index;\n          match = patterns.numberDigit.exec(buffer);\n          if (!match) {\n            if (index < buffer.length || done) throw new Error(\"Parser cannot parse input: expected a digit\");\n            break main; // wait for more input\n          }\n          value = match[0];\n          if (value) {\n            if (streamNumbers) tokens.push({ name: \"numberChunk\", value: value });\n            packNumbers && (accumulator += value);\n            index += value.length;\n          } else {\n            if (index < buffer.length) {\n              expect = \"numberFraction\";\n              break;\n            }\n            if (done) {\n              expect = expected[parent];\n              break;\n            }\n            break main; // wait for more input\n          }\n          break;\n        case \"numberFraction\": // [\\.eE]?\n          patterns.numberFraction.lastIndex = index;\n          match = patterns.numberFraction.exec(buffer);\n          if (!match) {\n            if (index < buffer.length || done) {\n              expect = expected[parent];\n              break;\n            }\n            break main; // wait for more input\n          }\n          value = match[0];\n          if (streamNumbers) tokens.push({ name: \"numberChunk\", value: value });\n          packNumbers && (accumulator += value);\n          expect = value === \".\" ? \"numberFracStart\" : \"numberExpSign\";\n          index += value.length;\n          break;\n        case \"numberFracStart\": // [0-9]\n          patterns.numberStart.lastIndex = index;\n          match = patterns.numberStart.exec(buffer);\n          if (!match) {\n            if (index < buffer.length || done)\n              throw new Error(\"Parser cannot parse input: expected a fractional part of a number\");\n            break main; // wait for more input\n          }\n          value = match[0];\n          if (streamNumbers) tokens.push({ name: \"numberChunk\", value: value });\n          packNumbers && (accumulator += value);\n          expect = \"numberFracDigit\";\n          index += value.length;\n          break;\n        case \"numberFracDigit\": // [0-9]*\n          patterns.numberDigit.lastIndex = index;\n          match = patterns.numberDigit.exec(buffer);\n          value = match[0];\n          if (value) {\n            if (streamNumbers) tokens.push({ name: \"numberChunk\", value: value });\n            packNumbers && (accumulator += value);\n            index += value.length;\n          } else {\n            if (index < buffer.length) {\n              expect = \"numberExponent\";\n              break;\n            }\n            if (done) {\n              expect = expected[parent];\n              break;\n            }\n            break main; // wait for more input\n          }\n          break;\n        case \"numberExponent\": // [eE]?\n          patterns.numberExponent.lastIndex = index;\n          match = patterns.numberExponent.exec(buffer);\n          if (!match) {\n            if (index < buffer.length) {\n              expect = expected[parent];\n              break;\n            }\n            if (done) {\n              expect = \"done\";\n              break;\n            }\n            break main; // wait for more input\n          }\n          value = match[0];\n          if (streamNumbers) tokens.push({ name: \"numberChunk\", value: value });\n          packNumbers && (accumulator += value);\n          expect = \"numberExpSign\";\n          index += value.length;\n          break;\n        case \"numberExpSign\": // [-+]?\n          patterns.numberExpSign.lastIndex = index;\n          match = patterns.numberExpSign.exec(buffer);\n          if (!match) {\n            if (index < buffer.length) {\n              expect = \"numberExpStart\";\n              break;\n            }\n            if (done) throw new Error(\"Parser has expected an exponent value of a number\");\n            break main; // wait for more input\n          }\n          value = match[0];\n          if (streamNumbers) tokens.push({ name: \"numberChunk\", value: value });\n          packNumbers && (accumulator += value);\n          expect = \"numberExpStart\";\n          index += value.length;\n          break;\n        case \"numberExpStart\": // [0-9]\n          patterns.numberStart.lastIndex = index;\n          match = patterns.numberStart.exec(buffer);\n          if (!match) {\n            if (index < buffer.length || done)\n              throw new Error(\"Parser cannot parse input: expected an exponent part of a number\");\n            break main; // wait for more input\n          }\n          value = match[0];\n          if (streamNumbers) tokens.push({ name: \"numberChunk\", value: value });\n          packNumbers && (accumulator += value);\n          expect = \"numberExpDigit\";\n          index += value.length;\n          break;\n        case \"numberExpDigit\": // [0-9]*\n          patterns.numberDigit.lastIndex = index;\n          match = patterns.numberDigit.exec(buffer);\n          value = match[0];\n          if (value) {\n            if (streamNumbers) tokens.push({ name: \"numberChunk\", value: value });\n            packNumbers && (accumulator += value);\n            index += value.length;\n          } else {\n            if (index < buffer.length || done) {\n              expect = expected[parent];\n              break;\n            }\n            break main; // wait for more input\n          }\n          break;\n        case \"done\":\n          patterns.ws.lastIndex = index;\n          match = patterns.ws.exec(buffer);\n          if (!match) {\n            if (index < buffer.length) {\n              if (jsonStreaming) {\n                expect = \"value\";\n                break;\n              }\n              throw new Error(\"Parser cannot parse input: unexpected characters\");\n            }\n            break main; // wait for more input\n          }\n          value = match[0];\n          if (openNumber) {\n            if (streamNumbers) tokens.push({ name: \"endNumber\" });\n            openNumber = false;\n            if (packNumbers) {\n              tokens.push({ name: \"numberValue\", value: accumulator });\n              accumulator = \"\";\n            }\n          }\n          index += value.length;\n          break;\n      }\n    }\n    if (done && openNumber) {\n      if (streamNumbers) tokens.push({ name: \"endNumber\" });\n      openNumber = false;\n      if (packNumbers) {\n        tokens.push({ name: \"numberValue\", value: accumulator });\n        accumulator = \"\";\n      }\n    }\n    buffer = buffer.slice(index);\n    return tokens.length ? many(tokens) : none;\n  });\n};\n\nexport const parser = (options?: any) => gen(fixUtf8Stream(), jsonParser(options));\n\nconst withParser = (fn: any, options?: any) => gen(parser(options), fn(options));\n\nconst checkableTokens = {\n    startObject: 1,\n    startArray: 1,\n    startString: 1,\n    startNumber: 1,\n    nullValue: 1,\n    trueValue: 1,\n    falseValue: 1,\n    stringValue: 1,\n    numberValue: 1,\n  },\n  stopTokens = {\n    startObject: \"endObject\",\n    startArray: \"endArray\",\n    startString: \"endString\",\n    startNumber: \"endNumber\",\n  },\n  optionalTokens = { endString: \"stringValue\", endNumber: \"numberValue\" };\n\nconst defaultFilter = (_stack: string[], _a: any) => true;\n\nconst stringFilter = (string: string, separator: string) => {\n  const stringWithSeparator = string + separator;\n  return (stack: string[], _a: any) => {\n    const path = stack.join(separator);\n    return path === string || path.startsWith(stringWithSeparator);\n  };\n};\n\nconst regExpFilter = (regExp: RegExp, separator: string) => {\n  return (stack: string[], _a: any) => regExp.test(stack.join(separator));\n};\n\nconst filterBase =\n  ({\n    specialAction = \"accept\",\n    defaultAction = \"ignore\",\n    nonCheckableAction = \"process-key\",\n    transition = undefined as any,\n  } = {}) =>\n  (options: any) => {\n    const once = options?.once,\n      separator = options?.pathSeparator || \".\";\n    let filter = defaultFilter,\n      streamKeys = true;\n    if (options) {\n      if (typeof options.filter == \"function\") {\n        filter = options.filter;\n      } else if (typeof options.filter == \"string\") {\n        filter = stringFilter(options.filter, separator);\n      } else if (options.filter instanceof RegExp) {\n        filter = regExpFilter(options.filter, separator);\n      }\n      if (\"streamValues\" in options) streamKeys = options.streamValues;\n      if (\"streamKeys\" in options) streamKeys = options.streamKeys;\n    }\n    const sanitizedOptions = Object.assign({}, options, { filter, streamKeys, separator });\n    let state = \"check\";\n    const stack: any[] = [];\n    let depth = 0,\n      previousToken = \"\",\n      endToken = \"\",\n      optionalToken = \"\",\n      startTransition = false;\n    return flushable((chunk) => {\n      // the flush\n      if (chunk === none) return transition ? transition([], null, \"flush\", sanitizedOptions) : none;\n\n      // process the optional value token (unfinished)\n      if (optionalToken) {\n        if (optionalToken === chunk.name) {\n          let returnToken = none;\n          switch (state) {\n            case \"process-key\":\n              stack[stack.length - 1] = chunk.value;\n              state = \"check\";\n              break;\n            case \"accept-value\":\n              returnToken = chunk;\n              state = once ? \"pass\" : \"check\";\n              break;\n            default:\n              state = once ? \"all\" : \"check\";\n              break;\n          }\n          optionalToken = \"\";\n          return returnToken;\n        }\n        optionalToken = \"\";\n        state = once && state !== \"process-key\" ? \"pass\" : \"check\";\n      }\n\n      let returnToken: any = none;\n\n      recheck: for (;;) {\n        // accept/reject tokens\n        switch (state) {\n          case \"process-key\":\n            if (chunk.name === \"endKey\") optionalToken = \"keyValue\";\n            return none;\n          case \"pass\":\n            return none;\n          case \"all\":\n            return chunk;\n          case \"accept\":\n          case \"reject\":\n            if (startTransition) {\n              startTransition = false;\n              returnToken = transition(stack, chunk, state, sanitizedOptions) || none;\n            }\n            switch (chunk.name) {\n              case \"startObject\":\n              case \"startArray\":\n                ++depth;\n                break;\n              case \"endObject\":\n              case \"endArray\":\n                --depth;\n                break;\n            }\n            if (state === \"accept\") {\n              returnToken = combineManyMut(returnToken, chunk);\n            }\n            if (!depth) {\n              if (once) {\n                state = state === \"accept\" ? \"pass\" : \"all\";\n              } else {\n                state = \"check\";\n              }\n            }\n            return returnToken;\n          case \"accept-value\":\n          case \"reject-value\":\n            if (startTransition) {\n              startTransition = false;\n              returnToken = transition(stack, chunk, state, sanitizedOptions) || none;\n            }\n            if (state === \"accept-value\") {\n              returnToken = combineManyMut(returnToken, chunk);\n            }\n            if (chunk.name === endToken) {\n              // @ts-ignore\n              optionalToken = optionalTokens[endToken] || \"\";\n              endToken = \"\";\n              if (!optionalToken) {\n                if (once) {\n                  state = state === \"accept-value\" ? \"pass\" : \"all\";\n                } else {\n                  state = \"check\";\n                }\n              }\n            }\n            return returnToken;\n        }\n\n        // update the last index in the stack\n        if (typeof stack[stack.length - 1] == \"number\") {\n          // array\n          switch (chunk.name) {\n            case \"startObject\":\n            case \"startArray\":\n            case \"startString\":\n            case \"startNumber\":\n            case \"nullValue\":\n            case \"trueValue\":\n            case \"falseValue\":\n              ++stack[stack.length - 1];\n              break;\n            case \"numberValue\":\n              if (previousToken !== \"endNumber\") ++stack[stack.length - 1];\n              break;\n            case \"stringValue\":\n              if (previousToken !== \"endString\") ++stack[stack.length - 1];\n              break;\n          }\n        } else {\n          if (chunk.name === \"keyValue\") stack[stack.length - 1] = chunk.value;\n        }\n        previousToken = chunk.name;\n\n        // check the token\n        const action =\n          // @ts-ignore\n          checkableTokens[chunk.name] !== 1 ? nonCheckableAction : filter(stack, chunk) ? specialAction : defaultAction;\n\n        // @ts-ignore\n        endToken = stopTokens[chunk.name] || \"\";\n        switch (action) {\n          case \"process-key\":\n            if (chunk.name === \"startKey\") {\n              state = \"process-key\";\n              continue recheck;\n            }\n            break;\n          case \"accept-token\":\n            // @ts-ignore\n            if (endToken && optionalTokens[endToken]) {\n              state = \"accept-value\";\n              startTransition = !!transition;\n              continue recheck;\n            }\n            if (transition) returnToken = transition(stack, chunk, action, sanitizedOptions);\n            returnToken = combineManyMut(returnToken, chunk);\n            break;\n          case \"accept\":\n            if (endToken) {\n              // @ts-ignore\n              state = optionalTokens[endToken] ? \"accept-value\" : \"accept\";\n              startTransition = !!transition;\n              continue recheck;\n            }\n            if (transition) returnToken = transition(stack, chunk, action, sanitizedOptions);\n            returnToken = combineManyMut(returnToken, chunk);\n            break;\n          case \"reject\":\n            if (endToken) {\n              // @ts-ignore\n              state = optionalTokens[endToken] ? \"reject-value\" : \"reject\";\n              startTransition = !!transition;\n              continue recheck;\n            }\n            if (transition) returnToken = transition(stack, chunk, action, sanitizedOptions);\n            break;\n          case \"pass\":\n            state = \"pass\";\n            continue recheck;\n        }\n\n        break;\n      }\n\n      // update the stack\n      switch (chunk.name) {\n        case \"startObject\":\n          stack.push(null);\n          break;\n        case \"startArray\":\n          stack.push(-1);\n          break;\n        case \"endObject\":\n        case \"endArray\":\n          stack.pop();\n          break;\n      }\n\n      return returnToken;\n    });\n  };\n\nexport const PickParser = (options?: any) => withParser(filterBase(), Object.assign({ packKeys: true }, options));\n\nclass Counter {\n  depth: number;\n  constructor(initialDepth: number) {\n    this.depth = initialDepth;\n  }\n  startObject() {\n    ++this.depth;\n  }\n  endObject() {\n    --this.depth;\n  }\n  startArray() {\n    ++this.depth;\n  }\n  endArray() {\n    --this.depth;\n  }\n}\n\nclass Assembler extends EventEmitter {\n  static connectTo(stream: any, options: any) {\n    return new Assembler(options).connectTo(stream);\n  }\n\n  stack: any;\n  current: any;\n  key: any;\n  done: boolean;\n  reviver: any;\n  // @ts-ignore\n  stringValue: (value: string) => void;\n  tapChain: (chunk: any) => any;\n\n  constructor(options: any) {\n    super();\n    this.stack = [];\n    this.current = this.key = null;\n    this.done = true;\n    if (options) {\n      this.reviver = typeof options.reviver == \"function\" && options.reviver;\n      if (this.reviver) {\n        this.stringValue = this._saveValue = this._saveValueWithReviver;\n      }\n      if (options.numberAsString) {\n        // @ts-ignore\n        this.numberValue = this.stringValue;\n      }\n    }\n\n    this.tapChain = (chunk) => {\n      // @ts-ignore\n      if (this[chunk.name]) {\n        // @ts-ignore\n        this[chunk.name](chunk.value);\n        if (this.done) return this.current;\n      }\n      return none;\n    };\n\n    this.stringValue = this._saveValue;\n  }\n\n  connectTo(stream: any) {\n    stream.on(\"data\", (chunk: any) => {\n      // @ts-ignore\n      if (this[chunk.name]) {\n        // @ts-ignore\n        this[chunk.name](chunk.value);\n        // @ts-ignore\n        if (this.done) this.emit(\"done\", this);\n      }\n    });\n    return this;\n  }\n\n  get depth() {\n    return (this.stack.length >> 1) + (this.done ? 0 : 1);\n  }\n\n  get path() {\n    const path: any[] = [];\n    for (let i = 0; i < this.stack.length; i += 2) {\n      const key = this.stack[i + 1];\n      path.push(key === null ? this.stack[i].length : key);\n    }\n    return path;\n  }\n\n  dropToLevel(level: any) {\n    if (level < this.depth) {\n      if (level > 0) {\n        const index = (level - 1) << 1;\n        this.current = this.stack[index];\n        this.key = this.stack[index + 1];\n        this.stack.splice(index);\n      } else {\n        this.stack = [];\n        this.current = this.key = null;\n        this.done = true;\n      }\n    }\n    return this;\n  }\n\n  consume(chunk: any) {\n    // @ts-ignore\n    this[chunk.name] && this[chunk.name](chunk.value);\n    return this;\n  }\n\n  keyValue(value: any) {\n    this.key = value;\n  }\n\n  //stringValue() - aliased below to _saveValue()\n\n  numberValue(value: any) {\n    this._saveValue(parseFloat(value));\n  }\n  nullValue() {\n    this._saveValue(null);\n  }\n  trueValue() {\n    this._saveValue(true);\n  }\n  falseValue() {\n    this._saveValue(false);\n  }\n\n  startObject() {\n    if (this.done) {\n      this.done = false;\n    } else {\n      this.stack.push(this.current, this.key);\n    }\n    this.current = new Object();\n    this.key = null;\n  }\n\n  endObject() {\n    if (this.stack.length) {\n      const value = this.current;\n      this.key = this.stack.pop();\n      this.current = this.stack.pop();\n      this._saveValue(value);\n    } else {\n      this.done = true;\n    }\n  }\n\n  startArray() {\n    if (this.done) {\n      this.done = false;\n    } else {\n      this.stack.push(this.current, this.key);\n    }\n    this.current = [];\n    this.key = null;\n  }\n\n  endArray() {\n    if (this.stack.length) {\n      const value = this.current;\n      this.key = this.stack.pop();\n      this.current = this.stack.pop();\n      this._saveValue(value);\n    } else {\n      this.done = true;\n    }\n  }\n\n  _saveValue(value: any) {\n    if (this.done) {\n      this.current = value;\n    } else {\n      if (this.current instanceof Array) {\n        this.current.push(value);\n      } else {\n        this.current[this.key] = value;\n        this.key = null;\n      }\n    }\n  }\n  _saveValueWithReviver(value: any) {\n    if (this.done) {\n      this.current = this.reviver(\"\", value);\n    } else {\n      if (this.current instanceof Array) {\n        value = this.reviver(\"\" + this.current.length, value);\n        this.current.push(value);\n        if (value === undefined) {\n          delete this.current[this.current.length - 1];\n        }\n      } else {\n        value = this.reviver(this.key, value);\n        if (value !== undefined) {\n          this.current[this.key] = value;\n        }\n        this.key = null;\n      }\n    }\n  }\n}\n\nconst streamBase =\n  ({ push, first, level }: any) =>\n  (options = {} as any) => {\n    const { objectFilter, includeUndecided } = options;\n    let asm = new Assembler(options) as any,\n      state = first ? \"first\" : \"check\",\n      savedAsm = null as any;\n\n    if (typeof objectFilter != \"function\") {\n      // no object filter + no first check\n      if (state === \"check\")\n        return (chunk: any) => {\n          if (asm[chunk.name]) {\n            asm[chunk.name](chunk.value);\n            if (asm.depth === level) {\n              return push(asm);\n            }\n          }\n          return none;\n        };\n      // no object filter\n      return (chunk: any) => {\n        switch (state) {\n          case \"first\":\n            first(chunk);\n            state = \"accept\";\n          // fall through\n          case \"accept\":\n            if (asm[chunk.name]) {\n              asm[chunk.name](chunk.value);\n              if (asm.depth === level) {\n                return push(asm);\n              }\n            }\n            break;\n        }\n        return none;\n      };\n    }\n\n    // object filter + a possible first check\n    return (chunk: any) => {\n      switch (state) {\n        case \"first\":\n          first(chunk);\n          state = \"check\";\n        // fall through\n        case \"check\":\n          if (asm[chunk.name]) {\n            asm[chunk.name](chunk.value);\n            const result = objectFilter(asm);\n            if (result) {\n              state = \"accept\";\n              if (asm.depth === level) return push(asm);\n            } else if (result === false) {\n              if (asm.depth === level) return push(asm, true);\n              state = \"reject\";\n              savedAsm = asm;\n              asm = new Counter(savedAsm.depth);\n              savedAsm.dropToLevel(level);\n            } else {\n              if (asm.depth === level) return push(asm, !includeUndecided);\n            }\n          }\n          break;\n        case \"accept\":\n          if (asm[chunk.name]) {\n            asm[chunk.name](chunk.value);\n            if (asm.depth === level) {\n              state = \"check\";\n              return push(asm);\n            }\n          }\n          break;\n        case \"reject\":\n          if (asm[chunk.name]) {\n            asm[chunk.name](chunk.value);\n            if (asm.depth === level) {\n              state = \"check\";\n              asm = savedAsm;\n              savedAsm = null;\n              return push(asm, true);\n            }\n          }\n          break;\n      }\n      return none;\n    };\n  };\n\nexport const StreamArray = (options?: any) => {\n  let key = 0;\n  return streamBase({\n    level: 1,\n\n    first(chunk: any) {\n      if (chunk.name !== \"startArray\") throw new Error(\"Top-level object should be an array.\");\n    },\n\n    push(asm: any, discard: any) {\n      if (asm.current.length) {\n        if (discard) {\n          ++key;\n          asm.current.pop();\n        } else {\n          return { key: key++, value: asm.current.pop() };\n        }\n      }\n      return none;\n    },\n  })(options);\n};\n", "import { List, MenuBarExtra, Icon, open, LaunchType, environment, ActionPanel, Action } from \"@raycast/api\";\nimport { existsSync } from \"node:fs\";\nimport os from \"node:os\";\nimport { useRef, useState, useCallback, useMemo } from \"react\";\nimport { usePromise, PromiseOptions } from \"./usePromise\";\nimport { useLatest } from \"./useLatest\";\nimport { showFailureToast } from \"./showFailureToast\";\nimport { baseExecuteSQL, PermissionError, isPermissionError } from \"./sql-utils\";\n\n/**\n * Executes a query on a local SQL database and returns the {@link AsyncState} corresponding to the query of the command. The last value will be kept between command runs.\n *\n * @example\n * ```\n * import { useSQL } from \"@raycast/utils\";\n * import { resolve } from \"path\";\n * import { homedir } from \"os\";\n *\n * const NOTES_DB = resolve(homedir(), \"Library/Group Containers/group.com.apple.notes/NoteStore.sqlite\");\n * const notesQuery = `SELECT id, title FROM ...`;\n * type NoteItem = {\n *   id: string;\n *   title: string;\n * };\n *\n * export default function Command() {\n *   const { isLoading, data, permissionView } = useSQL<NoteItem>(NOTES_DB, notesQuery);\n *\n *   if (permissionView) {\n *     return permissionView;\n *   }\n *\n *   return (\n *     <List isLoading={isLoading}>\n *       {(data || []).map((item) => (\n *         <List.Item key={item.id} title={item.title} />\n *       ))}\n *     </List>\n *  );\n * };\n * ```\n */\nexport function useSQL<T = unknown>(\n  databasePath: string,\n  query: string,\n  options?: {\n    /** A string explaining why the extension needs full disk access. For example, the Apple Notes extension uses `\"This is required to search your Apple Notes.\"`. While it is optional, we recommend setting it to help users understand. */\n    permissionPriming?: string;\n  } & Omit<PromiseOptions<(database: string, query: string) => Promise<T[]>>, \"abortable\">,\n) {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const { permissionPriming, ...usePromiseOptions } = options || {};\n\n  const [permissionView, setPermissionView] = useState<React.JSX.Element | null>(null);\n  const latestOptions = useLatest(options || {});\n  const abortable = useRef<AbortController>(null);\n\n  const handleError = useCallback(\n    (_error: Error) => {\n      console.error(_error);\n      const error =\n        _error instanceof Error && _error.message.includes(\"authorization denied\")\n          ? new PermissionError(\"You do not have permission to access the database.\")\n          : (_error as Error);\n\n      if (isPermissionError(error)) {\n        setPermissionView(<PermissionErrorScreen priming={latestOptions.current.permissionPriming} />);\n      } else {\n        if (latestOptions.current.onError) {\n          latestOptions.current.onError(error);\n        } else {\n          if (environment.launchType !== LaunchType.Background) {\n            showFailureToast(error, {\n              title: \"Cannot query the data\",\n            });\n          }\n        }\n      }\n    },\n    [latestOptions],\n  );\n\n  const fn = useMemo(() => {\n    if (!existsSync(databasePath)) {\n      throw new Error(\"The database does not exist\");\n    }\n\n    return async (databasePath: string, query: string) => {\n      const abortSignal = abortable.current?.signal;\n      return baseExecuteSQL<T>(databasePath, query, { signal: abortSignal });\n    };\n  }, [databasePath]);\n\n  return {\n    ...usePromise(fn, [databasePath, query], { ...usePromiseOptions, onError: handleError }),\n    permissionView,\n  };\n}\n\nfunction PermissionErrorScreen(props: { priming?: string }) {\n  const macosVenturaAndLater = parseInt(os.release().split(\".\")[0]) >= 22;\n  const preferencesString = macosVenturaAndLater ? \"Settings\" : \"Preferences\";\n\n  const action = macosVenturaAndLater\n    ? {\n        title: \"Open System Settings -> Privacy\",\n        target: \"x-apple.systempreferences:com.apple.preference.security?Privacy_AllFiles\",\n      }\n    : {\n        title: \"Open System Preferences -> Security\",\n        target: \"x-apple.systempreferences:com.apple.preference.security?Privacy_AllFiles\",\n      };\n\n  if (environment.commandMode === \"menu-bar\") {\n    return (\n      <MenuBarExtra icon={Icon.Warning} title={environment.commandName}>\n        <MenuBarExtra.Item\n          title=\"Raycast needs full disk access\"\n          tooltip={`You can revert this access in ${preferencesString} whenever you want`}\n        />\n        {props.priming ? (\n          <MenuBarExtra.Item\n            title={props.priming}\n            tooltip={`You can revert this access in ${preferencesString} whenever you want`}\n          />\n        ) : null}\n        <MenuBarExtra.Separator />\n        <MenuBarExtra.Item title={action.title} onAction={() => open(action.target)} />\n      </MenuBarExtra>\n    );\n  }\n\n  return (\n    <List>\n      <List.EmptyView\n        icon={{\n          source: {\n            light: \"https://raycast.com/uploads/extensions-utils-security-permissions-light.png\",\n            dark: \"https://raycast.com/uploads/extensions-utils-security-permissions-dark.png\",\n          },\n        }}\n        title=\"Raycast needs full disk access.\"\n        description={`${\n          props.priming ? props.priming + \"\\n\" : \"\"\n        }You can revert this access in ${preferencesString} whenever you want.`}\n        actions={\n          <ActionPanel>\n            <Action.Open {...action} />\n          </ActionPanel>\n        }\n      />\n    </List>\n  );\n}\n", "import { existsSync } from \"node:fs\";\nimport { copyFile, mkdir, writeFile } from \"node:fs/promises\";\nimport os from \"node:os\";\nimport childProcess from \"node:child_process\";\nimport path from \"node:path\";\nimport { getSpawnedPromise, getSpawnedResult } from \"./exec-utils\";\nimport { hash } from \"./helpers\";\n\nexport class PermissionError extends Error {\n  constructor(message: string) {\n    super(message);\n    this.name = \"PermissionError\";\n  }\n}\n\nexport function isPermissionError(error: unknown): error is PermissionError {\n  return error instanceof Error && error.name === \"PermissionError\";\n}\n\nexport async function baseExecuteSQL<T = unknown>(\n  databasePath: string,\n  query: string,\n  options?: {\n    signal?: AbortSignal;\n  },\n): Promise<T[]> {\n  if (!existsSync(databasePath)) {\n    throw new Error(\"The database does not exist\");\n  }\n\n  let sqlite3: typeof import(\"node:sqlite\");\n  try {\n    // this is a bit ugly but we can't directly import \"node:sqlite\" here because parcel will hoist it anyway and it will break when it's not available\n    const dynamicImport = (module: string) => import(module);\n    sqlite3 = await dynamicImport(\"node:sqlite\");\n  } catch (error) {\n    // If sqlite3 is not available, we fallback to using the sqlite3 CLI (available on macOS and Linux by default).\n    return sqliteFallback<T>(databasePath, query, options);\n  }\n\n  let db = new sqlite3.DatabaseSync(databasePath, { open: false, readOnly: true });\n\n  const abortSignal = options?.signal;\n\n  try {\n    db.open();\n  } catch (error: any) {\n    console.log(error);\n    if (error.message.match(\"(5)\") || error.message.match(\"(14)\")) {\n      // That means that the DB is busy because of another app is locking it\n      // This happens when Chrome or Arc is opened: they lock the History db.\n      // As an ugly workaround, we duplicate the file and read that instead\n      // (with vfs unix - none to just not care about locks)\n      let workaroundCopiedDb: string | undefined;\n      if (!workaroundCopiedDb) {\n        const tempFolder = path.join(os.tmpdir(), \"useSQL\", hash(databasePath));\n        await mkdir(tempFolder, { recursive: true });\n        checkAborted(abortSignal);\n\n        workaroundCopiedDb = path.join(tempFolder, \"db.db\");\n        await copyFile(databasePath, workaroundCopiedDb);\n\n        await writeFile(workaroundCopiedDb + \"-shm\", \"\");\n        await writeFile(workaroundCopiedDb + \"-wal\", \"\");\n\n        checkAborted(abortSignal);\n      }\n\n      db = new sqlite3.DatabaseSync(workaroundCopiedDb, { open: false, readOnly: true });\n      db.open();\n      checkAborted(abortSignal);\n    }\n  }\n\n  const statement = db.prepare(query);\n  checkAborted(abortSignal);\n\n  const result = statement.all();\n\n  db.close();\n\n  return result as T[];\n}\n\nasync function sqliteFallback<T = unknown>(\n  databasePath: string,\n  query: string,\n  options?: {\n    signal?: AbortSignal;\n  },\n): Promise<T[]> {\n  const abortSignal = options?.signal;\n\n  let spawned = childProcess.spawn(\"sqlite3\", [\"--json\", \"--readonly\", databasePath, query], { signal: abortSignal });\n  let spawnedPromise = getSpawnedPromise(spawned);\n  let [{ error, exitCode, signal }, stdoutResult, stderrResult] = await getSpawnedResult<string>(\n    spawned,\n    { encoding: \"utf-8\" },\n    spawnedPromise,\n  );\n  checkAborted(abortSignal);\n\n  if (stderrResult.match(\"(5)\") || stderrResult.match(\"(14)\")) {\n    // That means that the DB is busy because of another app is locking it\n    // This happens when Chrome or Arc is opened: they lock the History db.\n    // As an ugly workaround, we duplicate the file and read that instead\n    // (with vfs unix - none to just not care about locks)\n    let workaroundCopiedDb: string | undefined;\n    if (!workaroundCopiedDb) {\n      const tempFolder = path.join(os.tmpdir(), \"useSQL\", hash(databasePath));\n      await mkdir(tempFolder, { recursive: true });\n      checkAborted(abortSignal);\n\n      workaroundCopiedDb = path.join(tempFolder, \"db.db\");\n      await copyFile(databasePath, workaroundCopiedDb);\n\n      await writeFile(workaroundCopiedDb + \"-shm\", \"\");\n      await writeFile(workaroundCopiedDb + \"-wal\", \"\");\n\n      checkAborted(abortSignal);\n    }\n\n    spawned = childProcess.spawn(\"sqlite3\", [\"--json\", \"--readonly\", \"--vfs\", \"unix-none\", workaroundCopiedDb, query], {\n      signal: abortSignal,\n    });\n    spawnedPromise = getSpawnedPromise(spawned);\n    [{ error, exitCode, signal }, stdoutResult, stderrResult] = await getSpawnedResult<string>(\n      spawned,\n      { encoding: \"utf-8\" },\n      spawnedPromise,\n    );\n    checkAborted(abortSignal);\n  }\n\n  if (error || exitCode !== 0 || signal !== null) {\n    if (stderrResult.includes(\"authorization denied\")) {\n      throw new PermissionError(\"You do not have permission to access the database.\");\n    } else {\n      throw new Error(stderrResult || \"Unknown error\");\n    }\n  }\n\n  return JSON.parse(stdoutResult.trim() || \"[]\") as T[];\n}\n\nfunction checkAborted(signal?: AbortSignal) {\n  if (signal?.aborted) {\n    const error = new Error(\"aborted\");\n    error.name = \"AbortError\";\n    throw error;\n  }\n}\n", "import { Form } from \"@raycast/api\";\nimport { useState, useCallback, useMemo, useRef, SetStateAction } from \"react\";\nimport { useLatest } from \"./useLatest\";\n\n/**\n * Shorthands for common validation cases\n */\nexport enum FormValidation {\n  /** Show an error when the value of the item is empty */\n  Required = \"required\",\n}\n\ntype ValidationError = string | undefined | null;\ntype Validator<ValueType> = ((value: ValueType | undefined) => ValidationError) | FormValidation;\n\nfunction validationError<ValueType>(\n  validation: Validator<ValueType> | undefined,\n  value: ValueType | undefined,\n): ValidationError {\n  if (validation) {\n    if (typeof validation === \"function\") {\n      return validation(value);\n    } else if (validation === FormValidation.Required) {\n      let valueIsValid = typeof value !== \"undefined\" && value !== null;\n      if (valueIsValid) {\n        switch (typeof value) {\n          case \"string\":\n            valueIsValid = value.length > 0;\n            break;\n          case \"object\":\n            if (Array.isArray(value)) {\n              valueIsValid = value.length > 0;\n            } else if (value instanceof Date) {\n              valueIsValid = value.getTime() > 0;\n            }\n            break;\n          default:\n            break;\n        }\n      }\n      if (!valueIsValid) {\n        return \"The item is required\";\n      }\n    }\n  }\n}\n\ntype Validation<T extends Form.Values> = { [id in keyof T]?: Validator<T[id]> };\n\ninterface FormProps<T extends Form.Values> {\n  /** Function to pass to the `onSubmit` prop of the `<Action.SubmitForm>` element. It wraps the initial `onSubmit` argument with some goodies related to the validation. */\n  handleSubmit: (values: T) => void | boolean | Promise<void | boolean>;\n  /** The props that must be passed to the `<Form.Item>` elements to handle the validations. */\n  itemProps: {\n    [id in keyof Required<T>]: Partial<Form.ItemProps<T[id]>> & {\n      id: string;\n    };\n  };\n  /** Function that can be used to programmatically set the validation of a specific field. */\n  setValidationError: (id: keyof T, error: ValidationError) => void;\n  /** Function that can be used to programmatically set the value of a specific field. */\n  setValue: <K extends keyof T>(id: K, value: SetStateAction<T[K]>) => void;\n  /** The current values of the form. */\n  values: T;\n  /** Function that can be used to programmatically focus a specific field. */\n  focus: (id: keyof T) => void;\n  /** Function that can be used to reset the values of the Form. */\n  reset: (initialValues?: Partial<T>) => void;\n}\n\n/**\n * Hook that provides a high-level interface to work with Forms, and more particularly, with Form validations. It incorporates all the good practices to provide a great User Experience for your Forms.\n *\n * @returns an object which contains the necessary methods and props to provide a good User Experience in your Form.\n *\n * @example\n * ```\n * import { Action, ActionPanel, Form, showToast, Toast } from \"@raycast/api\";\n * import { useForm, FormValidation } from \"@raycast/utils\";\n *\n * interface SignUpFormValues {\n *   nickname: string;\n *   password: string;\n * }\n *\n * export default function Command() {\n *   const { handleSubmit, itemProps } = useForm<SignUpFormValues>({\n *     onSubmit(values) {\n *       showToast(Toast.Style.Success, \"Yay!\", `${values.nickname} account created`);\n *     },\n *     validation: {\n *       nickname: FormValidation.Required,\n *       password: (value) => {\n *         if (value && value.length < 8) {\n *           return \"Password must be at least 8 symbols\";\n *         } else if (!value) {\n *           return \"The item is required\";\n *         }\n *       },\n *     },\n *   });\n *\n *   return (\n *     <Form\n *       actions={\n *         <ActionPanel>\n *           <Action.SubmitForm title=\"Submit\" onSubmit={handleSubmit} />\n *         </ActionPanel>\n *       }\n *     >\n *       <Form.TextField title=\"Nickname\" placeholder=\"Enter your nickname\" {...itemProps.nickname} />\n *       <Form.PasswordField\n *         title=\"Password\"\n *         placeholder=\"Enter password at least 8 characters long\"\n *         {...itemProps.password}\n *       />\n *     </Form>\n *   );\n * }\n * ```\n */\nexport function useForm<T extends Form.Values>(props: {\n  /** Callback that will be called when the form is submitted and all validations pass. */\n  onSubmit: (values: T) => void | boolean | Promise<void | boolean>;\n  /** The initial values to set when the Form is first rendered. */\n  initialValues?: Partial<T>;\n  /** The validation rules for the Form. A validation for a Form item is a function that takes the current value of the item as an argument and must return a string when the validation is failing.\n   *\n   * There are also some shorthands for common cases, see {@link FormValidation}.\n   * */\n  validation?: Validation<T>;\n}): FormProps<T> {\n  const { onSubmit: _onSubmit, validation, initialValues = {} } = props;\n\n  // @ts-expect-error it's fine if we don't specify all the values\n  const [values, setValues] = useState<T>(initialValues);\n  const [errors, setErrors] = useState<{ [id in keyof T]?: ValidationError }>({});\n  const refs = useRef<{ [id in keyof T]?: Form.ItemReference }>({});\n\n  const latestValidation = useLatest<Validation<T>>(validation || {});\n  const latestOnSubmit = useLatest(_onSubmit);\n\n  const focus = useCallback(\n    (id: keyof T) => {\n      refs.current[id]?.focus();\n    },\n    [refs],\n  );\n\n  const handleSubmit = useCallback(\n    async (values: T): Promise<boolean> => {\n      let validationErrors: false | { [key in keyof T]?: ValidationError } = false;\n      for (const [id, validation] of Object.entries(latestValidation.current)) {\n        const error = validationError(validation, values[id]);\n        if (error) {\n          if (!validationErrors) {\n            validationErrors = {};\n            // we focus the first item that has an error\n            focus(id);\n          }\n          validationErrors[id as keyof T] = error;\n        }\n      }\n      if (validationErrors) {\n        setErrors(validationErrors);\n        return false;\n      }\n      const result = await latestOnSubmit.current(values);\n      return typeof result === \"boolean\" ? result : true;\n    },\n    [latestValidation, latestOnSubmit, focus],\n  );\n\n  const setValidationError = useCallback(\n    (id: keyof T, error: ValidationError) => {\n      setErrors((errors) => ({ ...errors, [id]: error }));\n    },\n    [setErrors],\n  );\n\n  const setValue = useCallback(\n    function <K extends keyof T>(id: K, value: SetStateAction<T[K]>) {\n      // @ts-expect-error TS is always confused about SetStateAction, but it's fine here\n      setValues((values) => ({ ...values, [id]: typeof value === \"function\" ? value(values[id]) : value }));\n    },\n    [setValues],\n  );\n\n  const itemProps = useMemo<{ [id in keyof Required<T>]: Partial<Form.ItemProps<T[id]>> & { id: string } }>(() => {\n    // we have to use a proxy because we don't actually have any object to iterate through\n    // so instead we dynamically create the props when required\n    return new Proxy<{ [id in keyof Required<T>]: Partial<Form.ItemProps<T[id]>> & { id: string } }>(\n      // @ts-expect-error the whole point of a proxy...\n      {},\n      {\n        get(target, id: keyof T) {\n          const validation = latestValidation.current[id];\n          const value = values[id];\n          return {\n            onChange(value) {\n              if (errors[id]) {\n                const error = validationError(validation, value);\n                if (!error) {\n                  setValidationError(id, undefined);\n                }\n              }\n              setValue(id, value);\n            },\n            onBlur(event) {\n              const error = validationError(validation, event.target.value);\n              if (error) {\n                setValidationError(id, error);\n              }\n            },\n            error: errors[id],\n            id,\n            // we shouldn't return `undefined` otherwise it will be an uncontrolled component\n            value: typeof value === \"undefined\" ? null : value,\n            ref: (instance: Form.ItemReference) => {\n              refs.current[id] = instance;\n            },\n          } as Partial<Form.ItemProps<T[keyof T]>> & { id: string };\n        },\n      },\n    );\n  }, [errors, latestValidation, setValidationError, values, refs, setValue]);\n\n  const reset = useCallback(\n    (values?: Partial<T>) => {\n      setErrors({});\n      Object.entries(refs.current).forEach(([id, ref]) => {\n        if (!values?.[id]) {\n          ref?.reset();\n        }\n      });\n      if (values) {\n        // @ts-expect-error it's fine if we don't specify all the values\n        setValues(values);\n      }\n    },\n    [setValues, setErrors, refs],\n  );\n\n  return { handleSubmit, setValidationError, setValue, values, itemProps, focus, reset };\n}\n", "import { useRef, useState } from \"react\";\nimport { AI } from \"@raycast/api\";\nimport { PromiseOptions, usePromise } from \"./usePromise\";\nimport { FunctionReturningPromise } from \"./types\";\n\n/**\n * Stream a prompt completion.\n *\n * @example\n * ```typescript\n * import { Detail, LaunchProps } from \"@raycast/api\";\n * import { use AI } from \"@raycast/utils\";\n *\n * export default function Command(props: LaunchProps<{ arguments: { prompt: string } }>) {\n *   const { isLoading, data } = useAI(props.arguments.prompt);\n *\n *   return <Detail isLoading={isLoading} markdown={data} />;\n * }\n * ```\n */\nexport function useAI(\n  prompt: string,\n  options: {\n    /**\n     * Concrete tasks, such as fixing grammar, require less creativity while open-ended questions, such as generating ideas, require more.\n     * If a number is passed, it needs to be in the range 0-2. For larger values, 2 will be used. For lower values, 0 will be used.\n     */\n    creativity?: AI.Creativity;\n    /**\n     * The AI model to use to answer to the prompt.\n     */\n    model?: AI.Model;\n    /**\n     * Whether to stream the answer or only update the data when the entire answer has been received.\n     */\n    stream?: boolean;\n  } & Omit<PromiseOptions<FunctionReturningPromise>, \"abortable\"> = {},\n) {\n  const { creativity, stream, model, ...usePromiseOptions } = options;\n  const [data, setData] = useState(\"\");\n  const abortable = useRef<AbortController>(null);\n  const { isLoading, error, revalidate } = usePromise(\n    async (prompt: string, creativity?: AI.Creativity, shouldStream?: boolean) => {\n      setData(\"\");\n      const stream = AI.ask(prompt, { creativity, model, signal: abortable.current?.signal });\n      if (shouldStream === false) {\n        setData(await stream);\n      } else {\n        stream.on(\"data\", (data) => {\n          setData((x) => x + data);\n        });\n        await stream;\n      }\n    },\n    [prompt, creativity, stream],\n    { ...usePromiseOptions, abortable },\n  );\n\n  return { isLoading, data, error, revalidate };\n}\n", "import { useMemo, useCallback } from \"react\";\nimport { useLatest } from \"./useLatest\";\nimport { useCachedState } from \"./useCachedState\";\n\n// The algorithm below is inspired by the one used by Firefox:\n// https://wiki.mozilla.org/User:Jesse/NewFrecency\n\ntype Frecency = {\n  lastVisited: number;\n  frecency: number;\n};\n\nconst HALF_LIFE_DAYS = 10;\n\nconst MS_PER_DAY = 24 * 60 * 60 * 1000;\n\nconst VISIT_TYPE_POINTS = {\n  Default: 100,\n  Embed: 0,\n  Bookmark: 140,\n};\n\nfunction getNewFrecency(item?: Frecency): Frecency {\n  const now = Date.now();\n  const lastVisited = item ? item.lastVisited : 0;\n  const frecency = item ? item.frecency : 0;\n\n  const visitAgeInDays = (now - lastVisited) / MS_PER_DAY;\n  const DECAY_RATE_CONSTANT = Math.log(2) / (HALF_LIFE_DAYS * MS_PER_DAY);\n  const currentVisitValue = VISIT_TYPE_POINTS.Default * Math.exp(-DECAY_RATE_CONSTANT * visitAgeInDays);\n  const totalVisitValue = frecency + currentVisitValue;\n\n  return {\n    lastVisited: now,\n    frecency: totalVisitValue,\n  };\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst defaultKey = (item: any): string => {\n  if (\n    process.env.NODE_ENV !== \"production\" &&\n    (typeof item !== \"object\" || !item || !(\"id\" in item) || typeof item.id != \"string\")\n  ) {\n    throw new Error(\"Specify a key function or make sure your items have an 'id' property\");\n  }\n  return item.id;\n};\n\n/**\n * Sort an array by its frecency and provide methods to update the frecency of its items.\n * Frecency is a measure that combines frequency and recency. The more often an item is visited/used, and the more recently an item is visited/used, the higher it will rank.\n *\n * @example\n * ```\n * import { List, ActionPanel, Action, Icon } from \"@raycast/api\";\n * import { useFetch, useFrecencySorting } from \"@raycast/utils\";\n *\n * export default function Command() {\n *   const { isLoading, data } = useFetch(\"https://api.example\");\n *   const { data: sortedData, visitItem, resetRanking } = useFrecencySorting(data);\n *\n *   return (\n *     <List isLoading={isLoading}>\n *       {sortedData.map((item) => (\n *         <List.Item\n *           key={item.id}\n *           title={item.title}\n *           actions={\n *             <ActionPanel>\n *               <Action.OpenInBrowser url={item.url} onOpen={() => visitItem(item)} />\n *               <Action.CopyToClipboard title=\"Copy Link\" content={item.url} onCopy={() => visitItem(item)} />\n *               <Action title=\"Reset Ranking\" icon={Icon.ArrowCounterClockwise} onAction={() => resetRanking(item)} />\n *             </ActionPanel>\n *           }\n *         />\n *       ))}\n *     </List>\n *   );\n * };\n * ```\n */\nexport function useFrecencySorting<T extends { id: string }>(\n  data?: T[],\n  options?: { namespace?: string; key?: (item: T) => string; sortUnvisited?: (a: T, b: T) => number },\n): {\n  data: T[];\n  visitItem: (item: T) => Promise<void>;\n  resetRanking: (item: T) => Promise<void>;\n};\nexport function useFrecencySorting<T>(\n  data: T[] | undefined,\n  options: { namespace?: string; key: (item: T) => string; sortUnvisited?: (a: T, b: T) => number },\n): {\n  data: T[];\n  visitItem: (item: T) => Promise<void>;\n  resetRanking: (item: T) => Promise<void>;\n};\nexport function useFrecencySorting<T>(\n  data?: T[],\n  options?: { namespace?: string; key?: (item: T) => string; sortUnvisited?: (a: T, b: T) => number },\n): {\n  data: T[];\n  visitItem: (item: T) => Promise<void>;\n  resetRanking: (item: T) => Promise<void>;\n} {\n  const keyRef = useLatest(options?.key || defaultKey);\n  const sortUnvisitedRef = useLatest(options?.sortUnvisited);\n\n  const [storedFrecencies, setStoredFrecencies] = useCachedState<Record<string, Frecency | undefined>>(\n    `raycast_frecency_${options?.namespace}`,\n    {},\n  );\n\n  const visitItem = useCallback(\n    async function updateFrecency(item: T) {\n      const itemKey = keyRef.current(item);\n\n      setStoredFrecencies((storedFrecencies) => {\n        const frecency = storedFrecencies[itemKey];\n        const newFrecency = getNewFrecency(frecency);\n\n        return {\n          ...storedFrecencies,\n          [itemKey]: newFrecency,\n        };\n      });\n    },\n    [keyRef, setStoredFrecencies],\n  );\n\n  const resetRanking = useCallback(\n    async function removeFrecency(item: T) {\n      const itemKey = keyRef.current(item);\n\n      setStoredFrecencies((storedFrecencies) => {\n        const newFrencencies = { ...storedFrecencies };\n        delete newFrencencies[itemKey];\n\n        return newFrencencies;\n      });\n    },\n    [keyRef, setStoredFrecencies],\n  );\n\n  const sortedData = useMemo(() => {\n    if (!data) {\n      return [];\n    }\n\n    return data.sort((a, b) => {\n      const frecencyA = storedFrecencies[keyRef.current(a)];\n      const frecencyB = storedFrecencies[keyRef.current(b)];\n\n      // If a has a frecency, but b doesn't, a should come first\n      if (frecencyA && !frecencyB) {\n        return -1;\n      }\n\n      // If b has a frecency, but a doesn't, b should come first\n      if (!frecencyA && frecencyB) {\n        return 1;\n      }\n\n      // If both frecencies are defined,put the one with the higher frecency first\n      if (frecencyA && frecencyB) {\n        return frecencyB.frecency - frecencyA.frecency;\n      }\n\n      // If both frecencies are undefined, keep the original order\n      return sortUnvisitedRef.current ? sortUnvisitedRef.current(a, b) : 0;\n    });\n  }, [storedFrecencies, data, keyRef, sortUnvisitedRef]);\n\n  return { data: sortedData, visitItem, resetRanking };\n}\n", "import { LocalStorage } from \"@raycast/api\";\nimport { showFailureToast } from \"./showFailureToast\";\nimport { replacer, reviver } from \"./helpers\";\nimport { usePromise } from \"./usePromise\";\n\n/**\n * A hook to manage a value in the local storage.\n *\n * @remark The value is stored as a JSON string in the local storage.\n *\n * @param key - The key to use for the value in the local storage.\n * @param initialValue - The initial value to use if the key doesn't exist in the local storage.\n * @returns An object with the following properties:\n * - `value`: The value from the local storage or the initial value if the key doesn't exist.\n * - `setValue`: A function to update the value in the local storage.\n * - `removeValue`: A function to remove the value from the local storage.\n * - `isLoading`: A boolean indicating if the value is loading.\n *\n * @example\n * ```\n * const { value, setValue } = useLocalStorage<string>(\"my-key\");\n * const { value, setValue } = useLocalStorage<string>(\"my-key\", \"default value\");\n * ```\n */\nexport function useLocalStorage<T>(key: string, initialValue?: T) {\n  const {\n    data: value,\n    isLoading,\n    mutate,\n  } = usePromise(\n    async (storageKey: string) => {\n      const item = await LocalStorage.getItem<string>(storageKey);\n\n      return typeof item !== \"undefined\" ? (JSON.parse(item, reviver) as T) : initialValue;\n    },\n    [key],\n  );\n\n  async function setValue(value: T) {\n    try {\n      await mutate(LocalStorage.setItem(key, JSON.stringify(value, replacer)), {\n        optimisticUpdate(value) {\n          return value;\n        },\n      });\n    } catch (error) {\n      await showFailureToast(error, { title: \"Failed to set value in local storage\" });\n    }\n  }\n\n  async function removeValue() {\n    try {\n      await mutate(LocalStorage.removeItem(key), {\n        optimisticUpdate() {\n          return undefined;\n        },\n      });\n    } catch (error) {\n      await showFailureToast(error, { title: \"Failed to remove value from local storage\" });\n    }\n  }\n\n  return { value, setValue, removeValue, isLoading };\n}\n", "export { getAvatarIcon } from \"./avatar\";\nexport { getFavicon } from \"./favicon\";\nexport { getProgressIcon } from \"./progress\";\n", "import type { Image } from \"@raycast/api\";\nimport { slightlyLighterColor, slightlyDarkerColor } from \"./color\";\n\nfunction getWholeCharAndI(str: string, i: number): [string, number] {\n  const code = str.charCodeAt(i);\n\n  if (Number.isNaN(code)) {\n    return [\"\", i];\n  }\n  if (code < 0xd800 || code > 0xdfff) {\n    return [str.charAt(i), i]; // Normal character, keeping 'i' the same\n  }\n\n  // High surrogate (could change last hex to 0xDB7F to treat high private\n  // surrogates as single characters)\n  if (0xd800 <= code && code <= 0xdbff) {\n    if (str.length <= i + 1) {\n      throw new Error(\"High surrogate without following low surrogate\");\n    }\n    const next = str.charCodeAt(i + 1);\n    if (0xdc00 > next || next > 0xdfff) {\n      throw new Error(\"High surrogate without following low surrogate\");\n    }\n    return [str.charAt(i) + str.charAt(i + 1), i + 1];\n  }\n\n  // Low surrogate (0xDC00 <= code && code <= 0xDFFF)\n  if (i === 0) {\n    throw new Error(\"Low surrogate without preceding high surrogate\");\n  }\n\n  const prev = str.charCodeAt(i - 1);\n\n  // (could change last hex to 0xDB7F to treat high private surrogates\n  // as single characters)\n  if (0xd800 > prev || prev > 0xdbff) {\n    throw new Error(\"Low surrogate without preceding high surrogate\");\n  }\n\n  // Return the next character instead (and increment)\n  return [str.charAt(i + 1), i + 1];\n}\n\nconst avatarColorSet = [\n  \"#DC829A\", // Pink\n  \"#D64854\", // Red\n  \"#D47600\", // YellowOrange\n  \"#D36CDD\", // Magenta\n  \"#52A9E4\", // Aqua\n  \"#7871E8\", // Indigo\n  \"#70920F\", // YellowGreen\n  \"#43B93A\", // Green\n  \"#EB6B3E\", // Orange\n  \"#26B795\", // BlueGreen\n  \"#D85A9B\", // HotPink\n  \"#A067DC\", // Purple\n  \"#BD9500\", // Yellow\n  \"#5385D9\", // Blue\n];\n\n/**\n * Icon to represent an avatar when you don't have one. The generated avatar\n * will be generated from the initials of the name and have a colorful but consistent background.\n *\n * @returns an Image that can be used where Raycast expects them.\n *\n * @example\n * ```\n * <List.Item icon={getAvatarIcon('Mathieu Dutour')} title=\"Project\" />\n * ```\n */\nexport function getAvatarIcon(\n  name: string,\n  options?: {\n    /**\n     * Custom background color\n     */\n    background?: string;\n    /**\n     * Whether to use a gradient for the background or not.\n     * @default true\n     */\n    gradient?: boolean;\n  },\n): Image.Asset {\n  const words = name.trim().split(\" \");\n  let initials: string;\n  if (words.length == 1 && getWholeCharAndI(words[0], 0)[0]) {\n    initials = getWholeCharAndI(words[0], 0)[0];\n  } else if (words.length > 1) {\n    const firstWordFirstLetter = getWholeCharAndI(words[0], 0)[0] || \"\";\n    const lastWordFirstLetter = getWholeCharAndI(words[words.length - 1], 0)[0] ?? \"\";\n    initials = firstWordFirstLetter + lastWordFirstLetter;\n  } else {\n    initials = \"\";\n  }\n\n  let backgroundColor: string;\n\n  if (options?.background) {\n    backgroundColor = options?.background;\n  } else {\n    let initialsCharIndex = 0;\n    let [char, i] = getWholeCharAndI(initials, 0);\n    while (char) {\n      initialsCharIndex += char.charCodeAt(0);\n      [char, i] = getWholeCharAndI(initials, i + 1);\n    }\n\n    const colorIndex = initialsCharIndex % avatarColorSet.length;\n    backgroundColor = avatarColorSet[colorIndex];\n  }\n\n  const padding = 0;\n  const radius = 50 - padding;\n\n  const svg = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100px\" height=\"100px\">\n  ${\n    options?.gradient !== false\n      ? `<defs>\n      <linearGradient id=\"Gradient\" x1=\"0.25\" x2=\"0.75\" y1=\"0\" y2=\"1\">\n        <stop offset=\"0%\" stop-color=\"${slightlyLighterColor(backgroundColor)}\"/>\n        <stop offset=\"50%\" stop-color=\"${backgroundColor}\"/>\n        <stop offset=\"100%\" stop-color=\"${slightlyDarkerColor(backgroundColor)}\"/>\n      </linearGradient>\n  </defs>`\n      : \"\"\n  }\n      <circle cx=\"50\" cy=\"50\" r=\"${radius}\" fill=\"${\n        options?.gradient !== false ? \"url(#Gradient)\" : backgroundColor\n      }\" />\n      ${\n        initials\n          ? `<text x=\"50\" y=\"80\" font-size=\"${\n              radius - 1\n            }\" font-family=\"Inter, sans-serif\" text-anchor=\"middle\" fill=\"white\">${initials.toUpperCase()}</text>`\n          : \"\"\n      }\n    </svg>\n  `.replaceAll(\"\\n\", \"\");\n  return `data:image/svg+xml,${encodeURIComponent(svg)}`;\n}\n", "function hexToRGB(hex: string) {\n  let r = 0;\n  let g = 0;\n  let b = 0;\n\n  // 3 digits\n  if (hex.length === 4) {\n    r = parseInt(`${hex[1]}${hex[1]}`, 16);\n    g = parseInt(`${hex[2]}${hex[2]}`, 16);\n    b = parseInt(`${hex[3]}${hex[3]}`, 16);\n\n    // 6 digits\n  } else if (hex.length === 7) {\n    r = parseInt(`${hex[1]}${hex[2]}`, 16);\n    g = parseInt(`${hex[3]}${hex[4]}`, 16);\n    b = parseInt(`${hex[5]}${hex[6]}`, 16);\n  } else {\n    throw new Error(`Malformed hex color: ${hex}`);\n  }\n\n  return { r, g, b };\n}\n\nfunction rgbToHex({ r, g, b }: { r: number; g: number; b: number }) {\n  let rString = r.toString(16);\n  let gString = g.toString(16);\n  let bString = b.toString(16);\n\n  if (rString.length === 1) {\n    rString = `0${rString}`;\n  }\n  if (gString.length === 1) {\n    gString = `0${gString}`;\n  }\n  if (bString.length === 1) {\n    bString = `0${bString}`;\n  }\n\n  return `#${rString}${gString}${bString}`;\n}\n\nfunction rgbToHSL({ r, g, b }: { r: number; g: number; b: number }) {\n  // Make r, g, and b fractions of 1\n  r /= 255;\n  g /= 255;\n  b /= 255;\n\n  // Find greatest and smallest channel values\n  const cmin = Math.min(r, g, b);\n  const cmax = Math.max(r, g, b);\n  const delta = cmax - cmin;\n  let h = 0;\n  let s = 0;\n  let l = 0;\n\n  // Calculate hue\n  // No difference\n  if (delta === 0) {\n    h = 0;\n  }\n  // Red is max\n  else if (cmax === r) {\n    h = ((g - b) / delta) % 6;\n  }\n  // Green is max\n  else if (cmax === g) {\n    h = (b - r) / delta + 2;\n  }\n  // Blue is max\n  else {\n    h = (r - g) / delta + 4;\n  }\n\n  h = Math.round(h * 60);\n\n  // Make negative hues positive behind 360\n  if (h < 0) {\n    h += 360;\n  }\n\n  // Calculate lightness\n  l = (cmax + cmin) / 2;\n\n  // Calculate saturation\n  s = delta === 0 ? 0 : delta / (1 - Math.abs(2 * l - 1));\n\n  // Multiply l and s by 100\n  s = +(s * 100).toFixed(1);\n  l = +(l * 100).toFixed(1);\n\n  return { h, s, l };\n}\n\nfunction hslToRGB({ h, s, l }: { h: number; s: number; l: number }) {\n  // Must be fractions of 1\n  s /= 100;\n  l /= 100;\n\n  const c = (1 - Math.abs(2 * l - 1)) * s;\n  const x = c * (1 - Math.abs(((h / 60) % 2) - 1));\n  const m = l - c / 2;\n  let r = 0;\n  let g = 0;\n  let b = 0;\n\n  if (h >= 0 && h < 60) {\n    r = c;\n    g = x;\n    b = 0;\n  } else if (h >= 60 && h < 120) {\n    r = x;\n    g = c;\n    b = 0;\n  } else if (h >= 120 && h < 180) {\n    r = 0;\n    g = c;\n    b = x;\n  } else if (h >= 180 && h < 240) {\n    r = 0;\n    g = x;\n    b = c;\n  } else if (h >= 240 && h < 300) {\n    r = x;\n    g = 0;\n    b = c;\n  } else if (h >= 300 && h < 360) {\n    r = c;\n    g = 0;\n    b = x;\n  }\n  r = Math.round((r + m) * 255);\n  g = Math.round((g + m) * 255);\n  b = Math.round((b + m) * 255);\n\n  return { r, g, b };\n}\n\nfunction hexToHSL(hex: string) {\n  return rgbToHSL(hexToRGB(hex));\n}\n\nfunction hslToHex(hsl: { h: number; s: number; l: number }) {\n  return rgbToHex(hslToRGB(hsl));\n}\n\nfunction clamp(value: number, min: number, max: number) {\n  return min < max ? (value < min ? min : value > max ? max : value) : value < max ? max : value > min ? min : value;\n}\n\nconst offset = 12;\n\nexport function slightlyDarkerColor(hex: string) {\n  const hsl = hexToHSL(hex);\n\n  return hslToHex({\n    h: hsl.h,\n    s: hsl.s,\n    l: clamp(hsl.l - offset, 0, 100),\n  });\n}\n\nexport function slightlyLighterColor(hex: string) {\n  const hsl = hexToHSL(hex);\n\n  return hslToHex({\n    h: hsl.h,\n    s: hsl.s,\n    l: clamp(hsl.l + offset, 0, 100),\n  });\n}\n", "import { Icon, Image } from \"@raycast/api\";\nimport { URL } from \"node:url\";\n\n/**\n * Icon showing the favicon of a website.\n *\n * A favicon (favorite icon) is a tiny icon included along with a website, which is displayed in places like the browser's address bar, page tabs, and bookmarks menu.\n *\n * @param url The URL of the website to represent.\n *\n * @returns an Image that can be used where Raycast expects them.\n *\n * @example\n * ```\n * <List.Item icon={getFavicon(\"https://raycast.com\")} title=\"Raycast Website\" />\n * ```\n */\nexport function getFavicon(\n  url: string | URL,\n  options?: {\n    /**\n     * Size of the Favicon\n     * @default 64\n     */\n    size?: number;\n    /**\n     * Fallback icon in case the Favicon is not found.\n     * @default Icon.Link\n     */\n    fallback?: Image.Fallback;\n    /**\n     * A {@link Image.Mask} to apply to the Favicon.\n     */\n    mask?: Image.Mask;\n  },\n): Image.ImageLike {\n  try {\n    // a func adding https:// to the URL\n    // for cases where the URL is not a full URL\n    // e.g. \"raycast.com\"\n    const sanitize = (url: string) => {\n      if (!url.startsWith(\"http\")) {\n        return `https://${url}`;\n      }\n      return url;\n    };\n\n    const urlObj = typeof url === \"string\" ? new URL(sanitize(url)) : url;\n    const hostname = urlObj.hostname;\n\n    const faviconProvider: \"none\" | \"raycast\" | \"apple\" | \"google\" | \"duckDuckGo\" | \"duckduckgo\" | \"legacy\" =\n      (process.env.FAVICON_PROVIDER as any) ?? \"raycast\";\n\n    switch (faviconProvider) {\n      case \"none\":\n        return {\n          source: options?.fallback ?? Icon.Link,\n          mask: options?.mask,\n        };\n      case \"apple\":\n        // we can't support apple favicons as it's a native API\n        return {\n          source: options?.fallback ?? Icon.Link,\n          mask: options?.mask,\n        };\n      case \"duckduckgo\":\n      case \"duckDuckGo\":\n        return {\n          source: `https://icons.duckduckgo.com/ip3/${hostname}.ico`,\n          fallback: options?.fallback ?? Icon.Link,\n          mask: options?.mask,\n        };\n      case \"google\":\n        return {\n          source: `https://www.google.com/s2/favicons?sz=${options?.size ?? 64}&domain=${hostname}`,\n          fallback: options?.fallback ?? Icon.Link,\n          mask: options?.mask,\n        };\n      case \"legacy\":\n      case \"raycast\":\n      default:\n        return {\n          source: `https://api.ray.so/favicon?url=${hostname}&size=${options?.size ?? 64}`,\n          fallback: options?.fallback ?? Icon.Link,\n          mask: options?.mask,\n        };\n    }\n  } catch (e) {\n    console.error(e);\n    return Icon.Link;\n  }\n}\n", "import { environment, Color } from \"@raycast/api\";\nimport type { Image } from \"@raycast/api\";\n\nfunction polarToCartesian(centerX: number, centerY: number, radius: number, angleInDegrees: number) {\n  const angleInRadians = ((angleInDegrees - 90) * Math.PI) / 180.0;\n\n  return {\n    x: centerX + radius * Math.cos(angleInRadians),\n    y: centerY + radius * Math.sin(angleInRadians),\n  };\n}\n\nfunction describeArc(x: number, y: number, radius: number, startAngle: number, endAngle: number) {\n  const start = polarToCartesian(x, y, radius, endAngle);\n  const end = polarToCartesian(x, y, radius, startAngle);\n\n  const largeArcFlag = endAngle - startAngle <= 180 ? \"0\" : \"1\";\n\n  const d = [\"M\", start.x, start.y, \"A\", radius, radius, 0, largeArcFlag, 0, end.x, end.y].join(\" \");\n\n  return d;\n}\n\n/**\n * Icon to represent the progress of _something_.\n *\n * @param progress Number between 0 and 1.\n * @param color Hex color (default `\"#FF6363\"`) or Color.\n *\n * @returns an Image that can be used where Raycast expects them.\n *\n * @example\n * ```\n * <List.Item icon={getProgressIcon(0.1)} title=\"Project\" />\n * ```\n */\nexport function getProgressIcon(\n  progress: number,\n  color: Color | string = Color.Red,\n  options?: { background?: Color | string; backgroundOpacity?: number },\n): Image.Asset {\n  const background = options?.background || (environment.appearance === \"light\" ? \"black\" : \"white\");\n  const backgroundOpacity = options?.backgroundOpacity || 0.1;\n\n  const stroke = 10;\n  const padding = 5;\n  const radius = 50 - padding - stroke / 2;\n\n  const svg = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100px\" height=\"100px\">\n      <circle cx=\"50\" cy=\"50\" r=\"${radius}\" stroke-width=\"${stroke}\" stroke=\"${\n        progress < 1 ? background : color\n      }\" opacity=\"${progress < 1 ? backgroundOpacity : \"1\"}\" fill=\"none\" />\n      ${\n        progress > 0 && progress < 1\n          ? `<path d=\"${describeArc(\n              50,\n              50,\n              radius,\n              0,\n              progress * 360,\n            )}\" stroke=\"${color}\" stroke-width=\"${stroke}\" fill=\"none\" />`\n          : \"\"\n      }\n    </svg>\n  `.replaceAll(\"\\n\", \"\");\n  return `data:image/svg+xml,${encodeURIComponent(svg)}`;\n}\n", "export { OAuthService } from \"./OAuthService\";\nexport { withAccessToken, getAccessToken } from \"./withAccessToken\";\n\nexport type { WithAccessTokenComponentOrFn } from \"./withAccessToken\";\nexport type {\n  OnAuthorizeParams,\n  OAuthServiceOptions,\n  ProviderWithDefaultClientOptions,\n  ProviderOptions,\n} from \"./types\";\n", "import { Color, OAuth } from \"@raycast/api\";\nimport { PROVIDER_CLIENT_IDS } from \"./providers\";\nimport type {\n  OAuthServiceOptions,\n  OnAuthorizeParams,\n  ProviderOptions,\n  ProviderWithDefaultClientOptions,\n} from \"./types\";\n\n/**\n * Class allowing to create an OAuth service using the the PKCE (Proof Key for Code Exchange) flow.\n *\n * This service is capable of starting the authorization process, fetching and refreshing tokens,\n * as well as managing the authentication state.\n *\n * @example\n * ```typescript\n * const oauthClient = new OAuth.PKCEClient({ ... });\n * const oauthService = new OAuthService({\n *   client: oauthClient,\n *   clientId: 'your-client-id',\n *   scope: 'required scopes',\n *   authorizeUrl: 'https://provider.com/oauth/authorize',\n *   tokenUrl: 'https://provider.com/oauth/token',\n *   refreshTokenUrl: 'https://provider.com/oauth/token',\n *   extraParameters: { 'additional_param': 'value' }\n * });\n * ```\n */\nexport class OAuthService implements OAuthServiceOptions {\n  public clientId: string;\n  public scope: string;\n  public client: OAuth.PKCEClient;\n  public extraParameters?: Record<string, string>;\n  public authorizeUrl: string;\n  public tokenUrl: string;\n  public refreshTokenUrl?: string;\n  public bodyEncoding?: \"json\" | \"url-encoded\";\n  public personalAccessToken?: string;\n  onAuthorize?: (params: OnAuthorizeParams) => void;\n  tokenResponseParser: (response: unknown) => OAuth.TokenResponse;\n  tokenRefreshResponseParser: (response: unknown) => OAuth.TokenResponse;\n\n  constructor(options: OAuthServiceOptions) {\n    this.clientId = options.clientId;\n    this.scope = Array.isArray(options.scope) ? options.scope.join(\" \") : options.scope;\n    this.personalAccessToken = options.personalAccessToken;\n    this.bodyEncoding = options.bodyEncoding;\n    this.client = options.client;\n    this.extraParameters = options.extraParameters;\n    this.authorizeUrl = options.authorizeUrl;\n    this.tokenUrl = options.tokenUrl;\n    this.refreshTokenUrl = options.refreshTokenUrl;\n    this.onAuthorize = options.onAuthorize;\n    this.tokenResponseParser = options.tokenResponseParser ?? ((x) => x as OAuth.TokenResponse);\n    this.tokenRefreshResponseParser = options.tokenRefreshResponseParser ?? ((x) => x as OAuth.TokenResponse);\n    this.authorize = this.authorize.bind(this);\n  }\n\n  /**\n   * Asana OAuth service provided out of the box.\n   *\n   * @example\n   * ```typescript\n   * const asana = OAuthService.asana({ scope: 'default' })\n   * ```\n   */\n  public static asana(options: ProviderWithDefaultClientOptions) {\n    return new OAuthService({\n      client: new OAuth.PKCEClient({\n        redirectMethod: OAuth.RedirectMethod.Web,\n        providerName: \"Asana\",\n        providerIcon: `data:image/svg+xml,${encodeURIComponent(\n          `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"251\" height=\"232\" fill=\"none\"><path fill=\"#F06A6A\" d=\"M179.383 54.373c0 30.017-24.337 54.374-54.354 54.374-30.035 0-54.373-24.338-54.373-54.374C70.656 24.338 94.993 0 125.029 0c30.017 0 54.354 24.338 54.354 54.373ZM54.393 122.33C24.376 122.33.02 146.668.02 176.685c0 30.017 24.337 54.373 54.373 54.373 30.035 0 54.373-24.338 54.373-54.373 0-30.017-24.338-54.355-54.373-54.355Zm141.253 0c-30.035 0-54.373 24.338-54.373 54.374 0 30.035 24.338 54.373 54.373 54.373 30.017 0 54.374-24.338 54.374-54.373 0-30.036-24.338-54.374-54.374-54.374Z\"/></svg>`,\n        )}`,\n        providerId: \"asana\",\n        description: \"Connect your Asana account\",\n      }),\n      clientId: options.clientId ?? PROVIDER_CLIENT_IDS.asana,\n      authorizeUrl: options.authorizeUrl ?? \"https://asana.oauth.raycast.com/authorize\",\n      tokenUrl: options.tokenUrl ?? \"https://asana.oauth.raycast.com/token\",\n      refreshTokenUrl: options.refreshTokenUrl ?? \"https://asana.oauth.raycast.com/refresh-token\",\n      scope: options.scope,\n      personalAccessToken: options.personalAccessToken,\n      onAuthorize: options.onAuthorize,\n      bodyEncoding: options.bodyEncoding,\n      tokenRefreshResponseParser: options.tokenRefreshResponseParser,\n      tokenResponseParser: options.tokenResponseParser,\n    });\n  }\n\n  /**\n   * GitHub OAuth service provided out of the box.\n   *\n   * @example\n   * ```typescript\n   * const github = OAuthService.github({ scope: 'repo user' })\n   * ```\n   */\n  public static github(options: ProviderWithDefaultClientOptions) {\n    return new OAuthService({\n      client: new OAuth.PKCEClient({\n        redirectMethod: OAuth.RedirectMethod.Web,\n        providerName: \"GitHub\",\n        providerIcon: {\n          source: `data:image/svg+xml,${encodeURIComponent(\n            `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"64\" height=\"64\" viewBox=\"0 0 16 16\"><path fill-rule=\"evenodd\" d=\"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z\"/></svg>`,\n          )}`,\n\n          tintColor: Color.PrimaryText,\n        },\n        providerId: \"github\",\n        description: \"Connect your GitHub account\",\n      }),\n      clientId: options.clientId ?? PROVIDER_CLIENT_IDS.github,\n      authorizeUrl: options.authorizeUrl ?? \"https://github.oauth.raycast.com/authorize\",\n      tokenUrl: options.tokenUrl ?? \"https://github.oauth.raycast.com/token\",\n      refreshTokenUrl: options.refreshTokenUrl ?? \"https://github.oauth.raycast.com/refresh-token\",\n      scope: options.scope,\n      personalAccessToken: options.personalAccessToken,\n      onAuthorize: options.onAuthorize,\n      bodyEncoding: options.bodyEncoding,\n      tokenRefreshResponseParser: options.tokenRefreshResponseParser,\n      tokenResponseParser: options.tokenResponseParser,\n    });\n  }\n\n  /**\n   * Google OAuth service provided out of the box.\n   *\n   * @example\n   * ```typescript\n   * const google = OAuthService.google({\n   *   clientId: 'custom-client-id',\n   *   authorizeUrl: 'https://accounts.google.com/o/oauth2/v2/auth',\n   *   tokenUrl: 'https://oauth2.googleapis.com/token',\n   *   scope: 'https://www.googleapis.com/auth/drive.readonly',\n   * });\n   * ```\n   */\n  public static google(options: ProviderOptions) {\n    return new OAuthService({\n      client: new OAuth.PKCEClient({\n        redirectMethod: OAuth.RedirectMethod.AppURI,\n        providerName: \"Google\",\n        providerIcon: `data:image/svg+xml,${encodeURIComponent(\n          `<svg xmlns=\"http://www.w3.org/2000/svg\" style=\"display:block\" viewBox=\"0 0 48 48\"><path fill=\"#EA4335\" d=\"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z\"/><path fill=\"#4285F4\" d=\"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z\"/><path fill=\"#FBBC05\" d=\"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z\"/><path fill=\"#34A853\" d=\"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z\"/><path fill=\"none\" d=\"M0 0h48v48H0z\"/></svg>`,\n        )}`,\n        providerId: \"google\",\n        description: \"Connect your Google account\",\n      }),\n      clientId: options.clientId,\n      authorizeUrl: options.authorizeUrl ?? \"https://accounts.google.com/o/oauth2/v2/auth\",\n      tokenUrl: options.tokenUrl ?? \"https://oauth2.googleapis.com/token\",\n      refreshTokenUrl: options.tokenUrl,\n      scope: options.scope,\n      personalAccessToken: options.personalAccessToken,\n      bodyEncoding: options.bodyEncoding ?? \"url-encoded\",\n      onAuthorize: options.onAuthorize,\n      tokenRefreshResponseParser: options.tokenRefreshResponseParser,\n      tokenResponseParser: options.tokenResponseParser,\n    });\n  }\n\n  /**\n   * Jira OAuth service provided out of the box.\n   *\n   * @example\n   * ```typescript\n   * const jira = OAuthService.jira({\n   *   clientId: 'custom-client-id',\n   *   authorizeUrl: 'https://auth.atlassian.com/authorize',\n   *   tokenUrl: 'https://api.atlassian.com/oauth/token',\n   *   scope: 'read:jira-user read:jira-work offline_access'\n   * });\n   * ```\n   */\n  public static jira(options: ProviderOptions) {\n    return new OAuthService({\n      client: new OAuth.PKCEClient({\n        redirectMethod: OAuth.RedirectMethod.Web,\n        providerName: \"Jira\",\n        providerIcon: `data:image/svg+xml,${encodeURIComponent(\n          `<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"2361\" height=\"2500\" viewBox=\"2.59 0 214.091 224\"><linearGradient id=\"a\" x1=\"102.4\" x2=\"56.15\" y1=\"218.63\" y2=\"172.39\" gradientTransform=\"matrix(1 0 0 -1 0 264)\" gradientUnits=\"userSpaceOnUse\"><stop offset=\".18\" stop-color=\"#0052cc\"/><stop offset=\"1\" stop-color=\"#2684ff\"/></linearGradient><linearGradient xlink:href=\"#a\" id=\"b\" x1=\"114.65\" x2=\"160.81\" y1=\"85.77\" y2=\"131.92\"/><path fill=\"#2684ff\" d=\"M214.06 105.73 117.67 9.34 108.33 0 35.77 72.56 2.59 105.73a8.89 8.89 0 0 0 0 12.54l66.29 66.29L108.33 224l72.55-72.56 1.13-1.12 32.05-32a8.87 8.87 0 0 0 0-12.59zm-105.73 39.39L75.21 112l33.12-33.12L141.44 112z\"/><path fill=\"url(#a)\" d=\"M108.33 78.88a55.75 55.75 0 0 1-.24-78.61L35.62 72.71l39.44 39.44z\"/><path fill=\"url(#b)\" d=\"m141.53 111.91-33.2 33.21a55.77 55.77 0 0 1 0 78.86L181 151.35z\"/></svg>`,\n        )}`,\n        providerId: \"jira\",\n        description: \"Connect your Jira account\",\n      }),\n      clientId: options.clientId,\n      authorizeUrl: options.authorizeUrl ?? \"https://auth.atlassian.com/authorize\",\n      tokenUrl: options.tokenUrl ?? \"https://auth.atlassian.com/oauth/token\",\n      refreshTokenUrl: options.refreshTokenUrl,\n      scope: options.scope,\n      personalAccessToken: options.personalAccessToken,\n      onAuthorize: options.onAuthorize,\n      bodyEncoding: options.bodyEncoding,\n      tokenRefreshResponseParser: options.tokenRefreshResponseParser,\n      tokenResponseParser: options.tokenResponseParser,\n    });\n  }\n\n  /**\n   * Linear OAuth service provided out of the box.\n   *\n   * @example\n   * ```typescript\n   * const linear = OAuthService.linear({ scope: 'read write' })\n   * ```\n   */\n  public static linear(options: ProviderWithDefaultClientOptions) {\n    return new OAuthService({\n      client: new OAuth.PKCEClient({\n        redirectMethod: OAuth.RedirectMethod.Web,\n        providerName: \"Linear\",\n        providerIcon: {\n          source: {\n            light: `data:image/svg+xml,${encodeURIComponent(\n              `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"#222326\" width=\"200\" height=\"200\" viewBox=\"0 0 100 100\"><path d=\"M1.22541 61.5228c-.2225-.9485.90748-1.5459 1.59638-.857L39.3342 97.1782c.6889.6889.0915 1.8189-.857 1.5964C20.0515 94.4522 5.54779 79.9485 1.22541 61.5228ZM.00189135 46.8891c-.01764375.2833.08887215.5599.28957165.7606L52.3503 99.7085c.2007.2007.4773.3075.7606.2896 2.3692-.1476 4.6938-.46 6.9624-.9259.7645-.157 1.0301-1.0963.4782-1.6481L2.57595 39.4485c-.55186-.5519-1.49117-.2863-1.648174.4782-.465915 2.2686-.77832 4.5932-.92588465 6.9624ZM4.21093 29.7054c-.16649.3738-.08169.8106.20765 1.1l64.77602 64.776c.2894.2894.7262.3742 1.1.2077 1.7861-.7956 3.5171-1.6927 5.1855-2.684.5521-.328.6373-1.0867.1832-1.5407L8.43566 24.3367c-.45409-.4541-1.21271-.3689-1.54074.1832-.99132 1.6684-1.88843 3.3994-2.68399 5.1855ZM12.6587 18.074c-.3701-.3701-.393-.9637-.0443-1.3541C21.7795 6.45931 35.1114 0 49.9519 0 77.5927 0 100 22.4073 100 50.0481c0 14.8405-6.4593 28.1724-16.7199 37.3375-.3903.3487-.984.3258-1.3542-.0443L12.6587 18.074Z\"/></svg>`,\n            )}`,\n            dark: `data:image/svg+xml,${encodeURIComponent(\n              `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"#fff\" width=\"200\" height=\"200\" viewBox=\"0 0 100 100\"><path d=\"M1.22541 61.5228c-.2225-.9485.90748-1.5459 1.59638-.857L39.3342 97.1782c.6889.6889.0915 1.8189-.857 1.5964C20.0515 94.4522 5.54779 79.9485 1.22541 61.5228ZM.00189135 46.8891c-.01764375.2833.08887215.5599.28957165.7606L52.3503 99.7085c.2007.2007.4773.3075.7606.2896 2.3692-.1476 4.6938-.46 6.9624-.9259.7645-.157 1.0301-1.0963.4782-1.6481L2.57595 39.4485c-.55186-.5519-1.49117-.2863-1.648174.4782-.465915 2.2686-.77832 4.5932-.92588465 6.9624ZM4.21093 29.7054c-.16649.3738-.08169.8106.20765 1.1l64.77602 64.776c.2894.2894.7262.3742 1.1.2077 1.7861-.7956 3.5171-1.6927 5.1855-2.684.5521-.328.6373-1.0867.1832-1.5407L8.43566 24.3367c-.45409-.4541-1.21271-.3689-1.54074.1832-.99132 1.6684-1.88843 3.3994-2.68399 5.1855ZM12.6587 18.074c-.3701-.3701-.393-.9637-.0443-1.3541C21.7795 6.45931 35.1114 0 49.9519 0 77.5927 0 100 22.4073 100 50.0481c0 14.8405-6.4593 28.1724-16.7199 37.3375-.3903.3487-.984.3258-1.3542-.0443L12.6587 18.074Z\" /></svg>`,\n            )}`,\n          },\n        },\n        providerId: \"linear\",\n        description: \"Connect your Linear account\",\n      }),\n      clientId: options.clientId ?? PROVIDER_CLIENT_IDS.linear,\n      authorizeUrl: options.authorizeUrl ?? \"https://linear.oauth.raycast.com/authorize\",\n      tokenUrl: options.tokenUrl ?? \"https://linear.oauth.raycast.com/token\",\n      refreshTokenUrl: options.refreshTokenUrl ?? \"https://linear.oauth.raycast.com/refresh-token\",\n      scope: options.scope,\n      extraParameters: {\n        actor: \"user\",\n      },\n      onAuthorize: options.onAuthorize,\n      bodyEncoding: options.bodyEncoding,\n      tokenRefreshResponseParser: options.tokenRefreshResponseParser,\n      tokenResponseParser: options.tokenResponseParser,\n    });\n  }\n\n  /**\n   * Slack OAuth service provided out of the box.\n   *\n   * @example\n   * ```typescript\n   * const slack = OAuthService.slack({ scope: 'emoji:read' })\n   * ```\n   */\n  public static slack(options: ProviderWithDefaultClientOptions) {\n    return new OAuthService({\n      client: new OAuth.PKCEClient({\n        redirectMethod: OAuth.RedirectMethod.Web,\n        providerName: \"Slack\",\n        providerIcon: `data:image/svg+xml,${encodeURIComponent(\n          `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"73 73 124 124\"><style>.st0{fill:#e01e5a}.st1{fill:#36c5f0}.st2{fill:#2eb67d}.st3{fill:#ecb22e}</style><path d=\"M99.4 151.2c0 7.1-5.8 12.9-12.9 12.9-7.1 0-12.9-5.8-12.9-12.9 0-7.1 5.8-12.9 12.9-12.9h12.9v12.9zM105.9 151.2c0-7.1 5.8-12.9 12.9-12.9s12.9 5.8 12.9 12.9v32.3c0 7.1-5.8 12.9-12.9 12.9s-12.9-5.8-12.9-12.9v-32.3z\" class=\"st0\"/><path d=\"M118.8 99.4c-7.1 0-12.9-5.8-12.9-12.9 0-7.1 5.8-12.9 12.9-12.9s12.9 5.8 12.9 12.9v12.9h-12.9zM118.8 105.9c7.1 0 12.9 5.8 12.9 12.9s-5.8 12.9-12.9 12.9H86.5c-7.1 0-12.9-5.8-12.9-12.9s5.8-12.9 12.9-12.9h32.3z\" class=\"st1\"/><path d=\"M170.6 118.8c0-7.1 5.8-12.9 12.9-12.9 7.1 0 12.9 5.8 12.9 12.9s-5.8 12.9-12.9 12.9h-12.9v-12.9zM164.1 118.8c0 7.1-5.8 12.9-12.9 12.9-7.1 0-12.9-5.8-12.9-12.9V86.5c0-7.1 5.8-12.9 12.9-12.9 7.1 0 12.9 5.8 12.9 12.9v32.3z\" class=\"st2\"/><path d=\"M151.2 170.6c7.1 0 12.9 5.8 12.9 12.9 0 7.1-5.8 12.9-12.9 12.9-7.1 0-12.9-5.8-12.9-12.9v-12.9h12.9zM151.2 164.1c-7.1 0-12.9-5.8-12.9-12.9 0-7.1 5.8-12.9 12.9-12.9h32.3c7.1 0 12.9 5.8 12.9 12.9 0 7.1-5.8 12.9-12.9 12.9h-32.3z\" class=\"st3\"/></svg>`,\n        )}`,\n        providerId: \"slack\",\n        description: \"Connect your Slack account\",\n      }),\n      clientId: options.clientId ?? PROVIDER_CLIENT_IDS.slack,\n      authorizeUrl: options.authorizeUrl ?? \"https://slack.oauth.raycast.com/authorize\",\n      tokenUrl: options.tokenUrl ?? \"https://slack.oauth.raycast.com/token\",\n      refreshTokenUrl: options.tokenUrl ?? \"https://slack.oauth.raycast.com/refresh-token\",\n      scope: \"\",\n      extraParameters: {\n        user_scope: options.scope,\n      },\n      personalAccessToken: options.personalAccessToken,\n      bodyEncoding: options.tokenUrl ? options.bodyEncoding ?? \"url-encoded\" : \"json\",\n      onAuthorize: options.onAuthorize,\n      tokenRefreshResponseParser: options.tokenRefreshResponseParser,\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      tokenResponseParser:\n        options.tokenResponseParser ??\n        ((response: any) => {\n          return {\n            access_token: response.authed_user.access_token,\n            scope: response.authed_user.scope,\n          };\n        }),\n    });\n  }\n\n  /**\n   * Zoom OAuth service provided out of the box.\n   *\n   * @example\n   * ```typescript\n   * const zoom = OAuthService.zoom({\n   *   clientId: 'custom-client-id',\n   *   authorizeUrl: 'https://zoom.us/oauth/authorize',\n   *   tokenUrl: 'https://zoom.us/oauth/token',\n   *   scope: 'meeting:write',\n   *   personalAccessToken: 'personal-access-token',\n   * });\n   * ```\n   */\n  public static zoom(options: ProviderOptions) {\n    return new OAuthService({\n      client: new OAuth.PKCEClient({\n        redirectMethod: OAuth.RedirectMethod.Web,\n        providerName: \"Zoom\",\n        providerIcon: `data:image/svg+xml,${encodeURIComponent(\n          `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 351.845 80\"><path d=\"M73.786 78.835H10.88A10.842 10.842 0 0 1 .833 72.122a10.841 10.841 0 0 1 2.357-11.85L46.764 16.7h-31.23C6.954 16.699 0 9.744 0 1.165h58.014c4.414 0 8.357 2.634 10.046 6.712a10.843 10.843 0 0 1-2.356 11.85L22.13 63.302h36.122c8.58 0 15.534 6.955 15.534 15.534Zm278.059-48.544C351.845 13.588 338.256 0 321.553 0c-8.934 0-16.975 3.89-22.524 10.063C293.48 3.89 285.44 0 276.505 0c-16.703 0-30.291 13.588-30.291 30.291v48.544c8.579 0 15.534-6.955 15.534-15.534v-33.01c0-8.137 6.62-14.757 14.757-14.757s14.757 6.62 14.757 14.757v33.01c0 8.58 6.955 15.534 15.534 15.534V30.291c0-8.137 6.62-14.757 14.757-14.757s14.758 6.62 14.758 14.757v33.01c0 8.58 6.954 15.534 15.534 15.534V30.291ZM238.447 40c0 22.091-17.909 40-40 40s-40-17.909-40-40 17.908-40 40-40 40 17.909 40 40Zm-15.534 0c0-13.512-10.954-24.466-24.466-24.466S173.98 26.488 173.98 40s10.953 24.466 24.466 24.466S222.913 53.512 222.913 40Zm-70.68 0c0 22.091-17.909 40-40 40s-40-17.909-40-40 17.909-40 40-40 40 17.909 40 40Zm-15.534 0c0-13.512-10.954-24.466-24.466-24.466S87.767 26.488 87.767 40s10.954 24.466 24.466 24.466S136.699 53.512 136.699 40Z\" style=\"fill:#0b5cff\"/></svg>`,\n        )}`,\n        providerId: \"zoom\",\n        description: \"Connect your Zoom account\",\n      }),\n      clientId: options.clientId,\n      authorizeUrl: options.authorizeUrl ?? \"https://zoom.us/oauth/authorize\",\n      tokenUrl: options.tokenUrl ?? \"https://zoom.us/oauth/token\",\n      refreshTokenUrl: options.refreshTokenUrl,\n      scope: options.scope,\n      personalAccessToken: options.personalAccessToken,\n      bodyEncoding: options.bodyEncoding ?? \"url-encoded\",\n      onAuthorize: options.onAuthorize,\n      tokenRefreshResponseParser: options.tokenRefreshResponseParser,\n      tokenResponseParser: options.tokenResponseParser,\n    });\n  }\n\n  /**\n   * Initiates the OAuth authorization process or refreshes existing tokens if necessary.\n   * If the current token set has a refresh token and it is expired, then the function will refresh the tokens.\n   * If no tokens exist, it will initiate the OAuth authorization process and fetch the tokens.\n   *\n   * @returns {Promise<string>} A promise that resolves with the access token obtained from the authorization flow, or null if the token could not be obtained.\n   */\n  async authorize() {\n    const currentTokenSet = await this.client.getTokens();\n    if (currentTokenSet?.accessToken) {\n      if (currentTokenSet.refreshToken && currentTokenSet.isExpired()) {\n        const tokens = await this.refreshTokens({\n          token: currentTokenSet.refreshToken,\n        });\n\n        // In the case where the refresh token flows fails, nothing is returned and the authorize function is called again.\n        if (tokens) {\n          await this.client.setTokens(tokens);\n          return tokens.access_token;\n        }\n      }\n      return currentTokenSet.accessToken;\n    }\n\n    const authRequest = await this.client.authorizationRequest({\n      endpoint: this.authorizeUrl,\n      clientId: this.clientId,\n      scope: this.scope,\n      extraParameters: this.extraParameters,\n    });\n\n    const { authorizationCode } = await this.client.authorize(authRequest);\n    const tokens = await this.fetchTokens({\n      authRequest,\n      authorizationCode,\n    });\n\n    await this.client.setTokens(tokens);\n\n    return tokens.access_token;\n  }\n\n  private async fetchTokens({\n    authRequest,\n    authorizationCode,\n  }: {\n    authRequest: OAuth.AuthorizationRequest;\n    authorizationCode: string;\n  }) {\n    let options;\n    if (this.bodyEncoding === \"url-encoded\") {\n      const params = new URLSearchParams();\n      params.append(\"client_id\", this.clientId);\n      params.append(\"code\", authorizationCode);\n      params.append(\"code_verifier\", authRequest.codeVerifier);\n      params.append(\"grant_type\", \"authorization_code\");\n      params.append(\"redirect_uri\", authRequest.redirectURI);\n\n      options = { body: params };\n    } else {\n      options = {\n        body: JSON.stringify({\n          client_id: this.clientId,\n          code: authorizationCode,\n          code_verifier: authRequest.codeVerifier,\n          grant_type: \"authorization_code\",\n          redirect_uri: authRequest.redirectURI,\n        }),\n        headers: { \"Content-Type\": \"application/json\" },\n      };\n    }\n\n    const response = await fetch(this.tokenUrl, { method: \"POST\", ...options });\n    if (!response.ok) {\n      const responseText = await response.text();\n      console.error(\"fetch tokens error:\", responseText);\n      throw new Error(`Error while fetching tokens: ${response.status} (${response.statusText})\\n${responseText}`);\n    }\n    const tokens = this.tokenResponseParser(await response.json());\n\n    // Some clients such as Linear can return a scope array instead of a string\n    return Array.isArray(tokens.scope) ? { ...tokens, scope: tokens.scope.join(\" \") } : tokens;\n  }\n\n  private async refreshTokens({ token }: { token: string }) {\n    let options;\n    if (this.bodyEncoding === \"url-encoded\") {\n      const params = new URLSearchParams();\n      params.append(\"client_id\", this.clientId);\n      params.append(\"refresh_token\", token);\n      params.append(\"grant_type\", \"refresh_token\");\n\n      options = { body: params };\n    } else {\n      options = {\n        body: JSON.stringify({\n          client_id: this.clientId,\n          refresh_token: token,\n          grant_type: \"refresh_token\",\n        }),\n        headers: { \"Content-Type\": \"application/json\" },\n      };\n    }\n\n    const response = await fetch(this.refreshTokenUrl ?? this.tokenUrl, { method: \"POST\", ...options });\n    if (!response.ok) {\n      const responseText = await response.text();\n      console.error(\"refresh tokens error:\", responseText);\n      // If the refresh token is invalid, stop the flow here, log out the user and prompt them to re-authorize.\n      this.client.description = `${this.client.providerName} needs you to sign-in again. Press  or click the button below to continue.`;\n      await this.client.removeTokens();\n      await this.authorize();\n    } else {\n      const tokenResponse = this.tokenRefreshResponseParser(await response.json());\n      tokenResponse.refresh_token = tokenResponse.refresh_token ?? token;\n      return tokenResponse;\n    }\n  }\n}\n", "export const PROVIDER_CLIENT_IDS = {\n  asana: \"1191201745684312\",\n  github: \"7235fe8d42157f1f38c0\",\n  linear: \"c8ff37b9225c3c9aefd7d66ea0e5b6f1\",\n  slack: \"851756884692.5546927290212\",\n};\n", "import React from \"react\";\nimport { environment, OAuth } from \"@raycast/api\";\nimport type { OAuthType, OnAuthorizeParams } from \"./types\";\n\nlet token: string | null = null;\nlet type: OAuthType | null = null;\nlet authorize: Promise<string> | null = null;\nlet getIdToken: Promise<string | undefined> | null = null;\nlet onAuthorize: Promise<void> | null = null;\n\ntype WithAccessTokenParameters = {\n  /**\n   * An optional instance of a PKCE Client that you can create using Raycast API.\n   * This client is used to return the `idToken` as part of the `onAuthorize` callback.\n   */\n  client?: OAuth.PKCEClient;\n  /**\n   * A function that initiates the OAuth token retrieval process\n   * @returns a promise that resolves to an access token.\n   */\n  authorize: () => Promise<string>;\n  /**\n   * An optional string that represents an already obtained personal access token\n   */\n  personalAccessToken?: string;\n  /**\n   * An optional callback function that is called once the user has been properly logged in through OAuth.\n   * @param {object} params - Parameters of the callback\n   * @param {string} options.token - The retrieved access token\n   * @param {string} options.type - The access token's type (either `oauth` or `personal`)\n   * @param {string} options.idToken - The optional id token. The `idToken` is returned if `options.client` is provided and if it's returned in the initial token set.\n   */\n  onAuthorize?: (params: OnAuthorizeParams) => void;\n};\n\n/**\n * The component (for a view/menu-bar commands) or function (for a no-view command) that is passed to withAccessToken.\n */\nexport type WithAccessTokenComponentOrFn<T = any, U = any> = ((params: T) => Promise<U> | U) | React.ComponentType<T>;\n\n/**\n * Higher-order component to wrap a given component or function and set an access token in a shared global variable.\n *\n * The function intercepts the component rendering process to either fetch an OAuth token asynchronously\n * or use a provided personal access token. A global variable will be then set with the received token\n * that you can get with the `getAccessToken` function.\n *\n * @example\n * ```typescript\n * import { Detail } from \"@raycast/api\";\n * import { OAuthService, getAccessToken, withAccessToken } from \"@raycast/utils\";\n *\n * const github = OAuthService.github({ scope: \"notifications repo read:org read:user read:project\" });\n *\n * function AuthorizedComponent() {\n *  const { token } = getAccessToken();\n *  ...\n * }\n *\n * export default withAccessToken(github)(AuthorizedComponent);\n * ```\n *\n * @returns {React.ComponentType<T>} The wrapped component.\n */\nexport function withAccessToken<T = any, U = any>(\n  options: WithAccessTokenParameters,\n): <V extends WithAccessTokenComponentOrFn<T, U>>(\n  fnOrComponent: V,\n) => V extends React.ComponentType<T> ? React.FunctionComponent<T> : (props: T) => Promise<U>;\nexport function withAccessToken<T>(options: WithAccessTokenParameters) {\n  if (environment.commandMode === \"no-view\") {\n    return (fn: (props: T) => Promise<void> | (() => void)) => {\n      const noViewFn = async (props: T) => {\n        if (!token) {\n          token = options.personalAccessToken ?? (await options.authorize());\n          type = options.personalAccessToken ? \"personal\" : \"oauth\";\n          const idToken = (await options.client?.getTokens())?.idToken;\n\n          if (options.onAuthorize) {\n            await Promise.resolve(options.onAuthorize({ token, type, idToken }));\n          }\n        }\n\n        return fn(props);\n      };\n\n      return noViewFn;\n    };\n  }\n\n  return (Component: React.ComponentType<T>) => {\n    const WrappedComponent: React.ComponentType<T> = (props) => {\n      if (options.personalAccessToken) {\n        token = options.personalAccessToken;\n        type = \"personal\";\n      } else {\n        if (!authorize) {\n          authorize = options.authorize();\n        }\n        token = React.use(authorize);\n        type = \"oauth\";\n      }\n\n      let idToken: string | undefined;\n      if (options.client) {\n        if (!getIdToken) {\n          getIdToken = options.client?.getTokens().then((tokens) => tokens?.idToken);\n        }\n        idToken = React.use(getIdToken);\n      }\n\n      if (options.onAuthorize) {\n        if (!onAuthorize) {\n          onAuthorize = Promise.resolve(options.onAuthorize({ token: token!, type, idToken }));\n        }\n        React.use(onAuthorize);\n      }\n\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore too complicated for TS\n      return <Component {...props} />;\n    };\n\n    WrappedComponent.displayName = `withAccessToken(${Component.displayName || Component.name})`;\n\n    return WrappedComponent;\n  };\n}\n\n/**\n * Returns the access token and its type. Note that this function must be called in a component wrapped with `withAccessToken`.\n *\n * Will throw an Error if called outside of a function or component wrapped with `withAccessToken`\n *\n * @returns {{ token: string, type: \"oauth\" | \"personal\" }} An object containing the `token`\n * and its `type`, where type can be either 'oauth' for OAuth tokens or 'personal' for a\n * personal access token.\n */\nexport function getAccessToken(): {\n  token: string;\n  /** `oauth` for OAuth tokens or `personal` for personal access token */\n  type: \"oauth\" | \"personal\";\n} {\n  if (!token || !type) {\n    throw new Error(\"getAccessToken must be used when authenticated (eg. used inside `withAccessToken`)\");\n  }\n\n  return { token, type };\n}\n", "import { environment, LaunchProps, LaunchType } from \"@raycast/api\";\nimport fs from \"node:fs\";\nimport path from \"node:path\";\n\nexport enum DeeplinkType {\n  /** A script command */\n  ScriptCommand = \"script-command\",\n  /** An extension command */\n  Extension = \"extension\",\n}\n\n/**\n * Options for creating a deeplink to a script command.\n */\nexport type CreateScriptCommandDeeplinkOptions = {\n  /**\n   * The type of deeplink, which should be \"script-command\".\n   */\n  type: DeeplinkType.ScriptCommand;\n  /**\n   * The name of the command.\n   */\n  command: string;\n  /**\n   * If the command accepts arguments, they can be passed using this query parameter.\n   */\n  arguments?: string[];\n};\n\n/**\n * Base options for creating a deeplink to an extension.\n */\nexport type CreateExtensionDeeplinkBaseOptions = {\n  /**\n   * The type of deeplink, which should be \"extension\".\n   */\n  type?: DeeplinkType.Extension;\n  /**\n   * The command associated with the extension.\n   */\n  command: string;\n  /**\n   * Either \"userInitiated\", which runs the command in the foreground, or \"background\", which skips bringing Raycast to the front.\n   */\n  launchType?: LaunchType;\n  /**\n   * If the command accepts arguments, they can be passed using this query parameter.\n   */\n  arguments?: LaunchProps[\"arguments\"];\n  /**\n   * If the command make use of LaunchContext, it can be passed using this query parameter.\n   */\n  context?: LaunchProps[\"launchContext\"];\n  /**\n   * Some text to prefill the search bar or first text input of the command\n   */\n  fallbackText?: string;\n};\n\n/**\n * Options for creating a deeplink to an extension from another extension.\n * Requires both the ownerOrAuthorName and extensionName.\n */\nexport type CreateInterExtensionDeeplinkOptions = CreateExtensionDeeplinkBaseOptions & {\n  /**\n   * The name of the owner or author of the extension.\n   */\n  ownerOrAuthorName: string;\n  /**\n   * The name of the extension.\n   */\n  extensionName: string;\n};\n\n/**\n * Options for creating a deeplink to an extension.\n */\nexport type CreateExtensionDeeplinkOptions = CreateInterExtensionDeeplinkOptions | CreateExtensionDeeplinkBaseOptions;\n\n/**\n * Options for creating a deeplink.\n */\nexport type CreateDeeplinkOptions = CreateScriptCommandDeeplinkOptions | CreateExtensionDeeplinkOptions;\n\nfunction getProtocol() {\n  return environment.raycastVersion.includes(\"alpha\") ? \"raycastinternal://\" : \"raycast://\";\n}\n\nfunction getOwnerOrAuthorName() {\n  const packageJSON = JSON.parse(fs.readFileSync(path.join(environment.assetsPath, \"..\", \"package.json\"), \"utf8\"));\n  return packageJSON.owner || packageJSON.author;\n}\n\nexport function createScriptCommandDeeplink(options: CreateScriptCommandDeeplinkOptions): string {\n  let url = `${getProtocol()}script-commands/${options.command}`;\n\n  if (options.arguments) {\n    let params = \"\";\n    for (const arg of options.arguments) {\n      params += \"&arguments=\" + encodeURIComponent(arg);\n    }\n    url += \"?\" + params.substring(1);\n  }\n\n  return url;\n}\n\nexport function createExtensionDeeplink(options: CreateExtensionDeeplinkOptions): string {\n  let ownerOrAuthorName = getOwnerOrAuthorName();\n  let extensionName = environment.extensionName;\n\n  if (\"ownerOrAuthorName\" in options && \"extensionName\" in options) {\n    ownerOrAuthorName = options.ownerOrAuthorName;\n    extensionName = options.extensionName;\n  }\n\n  let url = `${getProtocol()}extensions/${ownerOrAuthorName}/${extensionName}/${options.command}`;\n\n  let params = \"\";\n  if (options.launchType) {\n    params += \"&launchType=\" + encodeURIComponent(options.launchType);\n  }\n\n  if (options.arguments) {\n    params += \"&arguments=\" + encodeURIComponent(JSON.stringify(options.arguments));\n  }\n\n  if (options.context) {\n    params += \"&context=\" + encodeURIComponent(JSON.stringify(options.context));\n  }\n\n  if (options.fallbackText) {\n    params += \"&fallbackText=\" + encodeURIComponent(options.fallbackText);\n  }\n\n  if (params) {\n    url += \"?\" + params.substring(1);\n  }\n\n  return url;\n}\n\n/**\n * Creates a deeplink to a script command or extension.\n */\nexport function createDeeplink(options: CreateDeeplinkOptions): string {\n  if (options.type === DeeplinkType.ScriptCommand) {\n    return createScriptCommandDeeplink(options);\n  } else {\n    return createExtensionDeeplink(options);\n  }\n}\n", "import { baseExecuteSQL } from \"./sql-utils\";\n\n/**\n * Executes a SQL query on a local SQLite database and returns the query result in JSON format.\n *\n * @param databasePath - The path to the SQLite database file.\n * @param query - The SQL query to execute.\n * @returns A Promise that resolves to an array of objects representing the query results.\n *\n * @example\n * ```typescript\n * import { closeMainWindow, Clipboard } from \"@raycast/api\";\n * import { executeSQL } from \"@raycast/utils\";\n *\n * type Message = { body: string; code: string };\n *\n * const DB_PATH = \"/path/to/chat.db\";\n *\n * export default async function Command() {\n *   const query = `SELECT body, code FROM ...`\n *\n *   const messages = await executeSQL<Message>(DB_PATH, query);\n *\n *   if (messages.length > 0) {\n *     const latestCode = messages[0].code;\n *     await Clipboard.paste(latestCode);\n *     await closeMainWindow();\n *   }\n * }\n * ```\n */\nexport function executeSQL<T = unknown>(databasePath: string, query: string) {\n  return baseExecuteSQL<T>(databasePath, query);\n}\n", "import childProcess from \"node:child_process\";\nimport {\n  defaultParsing,\n  getSpawnedPromise,\n  getSpawnedResult,\n  handleOutput,\n  ParseExecOutputHandler,\n} from \"./exec-utils\";\n\ntype AppleScriptOptions = {\n  /**\n   * By default, `runAppleScript` returns its results in human-readable form: strings do not have quotes around them, characters are not escaped, braces for lists and records are omitted, etc. This is generally more useful, but can introduce ambiguities. For example, the lists `{\"foo\", \"bar\"}` and `{{\"foo\", {\"bar\"}}}` would both be displayed as foo, bar. To see the results in an unambiguous form that could be recompiled into the same value, set `humanReadableOutput` to `false`.\n   *\n   * @default true\n   */\n  humanReadableOutput?: boolean;\n  /**\n   * Whether the script is using [`AppleScript`](https://developer.apple.com/library/archive/documentation/AppleScript/Conceptual/AppleScriptLangGuide/introduction/ASLR_intro.html#//apple_ref/doc/uid/TP40000983) or [`JavaScript`](https://developer.apple.com/library/archive/releasenotes/InterapplicationCommunication/RN-JavaScriptForAutomation/Articles/Introduction.html#//apple_ref/doc/uid/TP40014508-CH111-SW1).\n   *\n   * @default \"AppleScript\"\n   */\n  language?: \"AppleScript\" | \"JavaScript\";\n  /**\n   * A Signal object that allows you to abort the request if required via an AbortController object.\n   */\n  signal?: AbortSignal;\n  /** If timeout is greater than `0`, the parent will send the signal `SIGTERM` if the child runs longer than timeout milliseconds.\n   *\n   * @default 10000\n   */\n  timeout?: number;\n};\n\n/**\n * Executes an AppleScript script.\n *\n * @example\n * ```typescript\n * import { showHUD } from \"@raycast/api\";\n * import { runAppleScript, showFailureToast } from \"@raycast/utils\";\n *\n * export default async function () {\n *   try {\n *     const res = await runAppleScript(\n *       `\n *       on run argv\n *         return \"hello, \" & item 1 of argv & \".\"\n *       end run\n *       `,\n *       [\"world\"]\n *     );\n *     await showHUD(res);\n *   } catch (error) {\n *     showFailureToast(error, { title: \"Could not run AppleScript\" });\n *   }\n * }\n * ```\n */\nexport async function runAppleScript<T = string>(\n  script: string,\n  options?: AppleScriptOptions & {\n    parseOutput?: ParseExecOutputHandler<T, string, AppleScriptOptions>;\n  },\n): Promise<string>;\nexport async function runAppleScript<T = string>(\n  script: string,\n  /**\n   * The arguments to pass to the script.\n   */\n  args: string[],\n  options?: AppleScriptOptions & {\n    parseOutput?: ParseExecOutputHandler<T, string, AppleScriptOptions>;\n  },\n): Promise<string>;\nexport async function runAppleScript<T = string>(\n  script: string,\n  optionsOrArgs?:\n    | string[]\n    | (AppleScriptOptions & {\n        parseOutput?: ParseExecOutputHandler<T, string, AppleScriptOptions>;\n      }),\n  options?: AppleScriptOptions & {\n    parseOutput?: ParseExecOutputHandler<T, string, AppleScriptOptions>;\n  },\n): Promise<string> {\n  if (process.platform !== \"darwin\") {\n    throw new Error(\"AppleScript is only supported on macOS\");\n  }\n\n  const { humanReadableOutput, language, timeout, ...execOptions } = Array.isArray(optionsOrArgs)\n    ? options || {}\n    : optionsOrArgs || {};\n\n  const outputArguments = humanReadableOutput !== false ? [] : [\"-ss\"];\n  if (language === \"JavaScript\") {\n    outputArguments.push(\"-l\", \"JavaScript\");\n  }\n  if (Array.isArray(optionsOrArgs)) {\n    outputArguments.push(\"-\", ...optionsOrArgs);\n  }\n\n  const spawned = childProcess.spawn(\"osascript\", outputArguments, {\n    ...execOptions,\n    env: { PATH: \"/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin\" },\n  });\n  const spawnedPromise = getSpawnedPromise(spawned, { timeout: timeout ?? 10000 });\n\n  spawned.stdin.end(script);\n\n  const [{ error, exitCode, signal, timedOut }, stdoutResult, stderrResult] = await getSpawnedResult<string>(\n    spawned,\n    { encoding: \"utf8\" },\n    spawnedPromise,\n  );\n  const stdout = handleOutput({ stripFinalNewline: true }, stdoutResult);\n  const stderr = handleOutput({ stripFinalNewline: true }, stderrResult);\n\n  return defaultParsing({\n    stdout,\n    stderr,\n    error,\n    exitCode,\n    signal,\n    timedOut,\n    command: \"osascript\",\n    options,\n    parentError: new Error(),\n  });\n}\n", "import childProcess from \"node:child_process\";\nimport {\n  defaultParsing,\n  getSpawnedPromise,\n  getSpawnedResult,\n  handleOutput,\n  ParseExecOutputHandler,\n} from \"./exec-utils\";\n\ntype PowerShellScriptOptions = {\n  /**\n   * A Signal object that allows you to abort the request if required via an AbortController object.\n   */\n  signal?: AbortSignal;\n  /** If timeout is greater than `0`, the parent will send the signal `SIGTERM` if the child runs longer than timeout milliseconds.\n   *\n   * @default 10000\n   */\n  timeout?: number;\n};\n\n/**\n * Executes a PowerShell script.\n *\n * @example\n * ```typescript\n * import { showHUD } from \"@raycast/api\";\n * import { runPowerShellScript, showFailureToast } from \"@raycast/utils\";\n *\n * export default async function () {\n *   try {\n *     const res = await runPowerShellScript(\n *       `\n *       Write-Host \"hello, world.\"\n *       `,\n *     );\n *     await showHUD(res);\n *   } catch (error) {\n *     showFailureToast(error, { title: \"Could not run PowerShell\" });\n *   }\n * }\n * ```\n */\nexport async function runPowerShellScript<T = string>(\n  script: string,\n  options?: PowerShellScriptOptions & {\n    parseOutput?: ParseExecOutputHandler<T, string, PowerShellScriptOptions>;\n  },\n): Promise<string> {\n  if (process.platform !== \"win32\") {\n    throw new Error(\"PowerShell is only supported on Windows\");\n  }\n\n  const { timeout, ...execOptions } = options || {};\n\n  const outputArguments = [\"-NoLogo\", \"-NoProfile\", \"-NonInteractive\", \"-Command\", \"-\"];\n\n  const spawned = childProcess.spawn(\"powershell.exe\", outputArguments, {\n    ...execOptions,\n  });\n  const spawnedPromise = getSpawnedPromise(spawned, { timeout: timeout ?? 10000 });\n\n  spawned.stdin.end(script);\n\n  const [{ error, exitCode, signal, timedOut }, stdoutResult, stderrResult] = await getSpawnedResult<string>(\n    spawned,\n    { encoding: \"utf8\" },\n    spawnedPromise,\n  );\n  const stdout = handleOutput({ stripFinalNewline: true }, stdoutResult);\n  const stderr = handleOutput({ stripFinalNewline: true }, stderrResult);\n\n  return defaultParsing({\n    stdout,\n    stderr,\n    error,\n    exitCode,\n    signal,\n    timedOut,\n    command: \"powershell.exe\",\n    options,\n    parentError: new Error(),\n  });\n}\n", "import { Cache } from \"@raycast/api\";\nimport { hash, replacer, reviver } from \"./helpers\";\n\n/**\n * Wraps a function with caching functionality using Raycast's Cache API.\n * Allows for caching of expensive functions like paginated API calls that rarely change.\n *\n * @param fn - The async function to cache results from\n * @param options - Optional configuration for the cache behavior\n * @param options.validate - Optional validation function for cached data\n * @param options.maxAge - Maximum age of cached data in milliseconds\n * @returns An async function that returns the result of the function, either from cache or fresh execution\n *\n * @example\n * ```ts\n * const cachedFunction = withCache(fetchExpensiveData, {\n *   maxAge: 5 * 60 * 1000 // Cache for 5 minutes\n * });\n *\n * const result = await cachedFunction(query);\n * ```\n */\nexport function withCache<Fn extends (...args: any) => Promise<any>>(\n  fn: Fn,\n  options?: {\n    /** function that receives the cached data and returns a boolean depending on whether the data is still valid or not. */\n    validate?: (data: Awaited<ReturnType<Fn>>) => boolean;\n    /** Maximum age of cached data in milliseconds after which the data will be considered invalid */\n    maxAge?: number;\n  },\n): Fn & { clearCache: () => void } {\n  const cache = new Cache({ namespace: hash(fn) });\n\n  const wrappedFn = async (...args: Parameters<Fn>) => {\n    const key =\n      hash(args || []) + (options as unknown as { internal_cacheKeySuffix?: string })?.internal_cacheKeySuffix;\n    const cached = cache.get(key);\n    if (cached) {\n      const { data, timestamp } = JSON.parse(cached, reviver);\n      const isExpired = options?.maxAge && Date.now() - timestamp > options.maxAge;\n      if (!isExpired && (!options?.validate || options.validate(data))) {\n        return data;\n      }\n    }\n\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    const result = await fn(...args);\n    cache.set(\n      key,\n      JSON.stringify(\n        {\n          data: result,\n          timestamp: Date.now(),\n        },\n        replacer,\n      ),\n    );\n    return result;\n  };\n\n  wrappedFn.clearCache = () => {\n    cache.clear();\n  };\n\n  // @ts-expect-error too complex for TS\n  return wrappedFn;\n}\n", "export default function isPlainObject(value) {\n\tif (typeof value !== 'object' || value === null) {\n\t\treturn false;\n\t}\n\n\tconst prototype = Object.getPrototypeOf(value);\n\treturn (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(Symbol.toStringTag in value) && !(Symbol.iterator in value);\n}\n", "import {fileURLToPath} from 'node:url';\n\n// Allow some arguments/options to be either a file path string or a file URL\nexport const safeNormalizeFileUrl = (file, name) => {\n\tconst fileString = normalizeFileUrl(normalizeDenoExecPath(file));\n\n\tif (typeof fileString !== 'string') {\n\t\tthrow new TypeError(`${name} must be a string or a file URL: ${fileString}.`);\n\t}\n\n\treturn fileString;\n};\n\n// In Deno node:process execPath is a special object, not just a string:\n// https://github.com/denoland/deno/blob/f460188e583f00144000aa0d8ade08218d47c3c1/ext/node/polyfills/process.ts#L344\nconst normalizeDenoExecPath = file => isDenoExecPath(file)\n\t? file.toString()\n\t: file;\n\nexport const isDenoExecPath = file => typeof file !== 'string'\n\t&& file\n\t&& Object.getPrototypeOf(file) === String.prototype;\n\n// Same but also allows other values, e.g. `boolean` for the `shell` option\nexport const normalizeFileUrl = file => file instanceof URL ? fileURLToPath(file) : file;\n", "import isPlainObject from 'is-plain-obj';\nimport {safeNormalizeFileUrl} from '../arguments/file-url.js';\n\n// The command `arguments` and `options` are both optional.\n// This also does basic validation on them and on the command file.\nexport const normalizeParameters = (rawFile, rawArguments = [], rawOptions = {}) => {\n\tconst filePath = safeNormalizeFileUrl(rawFile, 'First argument');\n\tconst [commandArguments, options] = isPlainObject(rawArguments)\n\t\t? [[], rawArguments]\n\t\t: [rawArguments, rawOptions];\n\n\tif (!Array.isArray(commandArguments)) {\n\t\tthrow new TypeError(`Second argument must be either an array of arguments or an options object: ${commandArguments}`);\n\t}\n\n\tif (commandArguments.some(commandArgument => typeof commandArgument === 'object' && commandArgument !== null)) {\n\t\tthrow new TypeError(`Second argument must be an array of strings: ${commandArguments}`);\n\t}\n\n\tconst normalizedArguments = commandArguments.map(String);\n\tconst nullByteArgument = normalizedArguments.find(normalizedArgument => normalizedArgument.includes('\\0'));\n\tif (nullByteArgument !== undefined) {\n\t\tthrow new TypeError(`Arguments cannot contain null bytes (\"\\\\0\"): ${nullByteArgument}`);\n\t}\n\n\tif (!isPlainObject(options)) {\n\t\tthrow new TypeError(`Last argument must be an options object: ${options}`);\n\t}\n\n\treturn [filePath, normalizedArguments, options];\n};\n", "import {ChildProcess} from 'node:child_process';\nimport isPlainObject from 'is-plain-obj';\nimport {isUint8Array, uint8ArrayToString} from '../utils/uint-array.js';\n\n// Check whether the template string syntax is being used\nexport const isTemplateString = templates => Array.isArray(templates) && Array.isArray(templates.raw);\n\n// Convert execa`file ...commandArguments` to execa(file, commandArguments)\nexport const parseTemplates = (templates, expressions) => {\n\tlet tokens = [];\n\n\tfor (const [index, template] of templates.entries()) {\n\t\ttokens = parseTemplate({\n\t\t\ttemplates,\n\t\t\texpressions,\n\t\t\ttokens,\n\t\t\tindex,\n\t\t\ttemplate,\n\t\t});\n\t}\n\n\tif (tokens.length === 0) {\n\t\tthrow new TypeError('Template script must not be empty');\n\t}\n\n\tconst [file, ...commandArguments] = tokens;\n\treturn [file, commandArguments, {}];\n};\n\nconst parseTemplate = ({templates, expressions, tokens, index, template}) => {\n\tif (template === undefined) {\n\t\tthrow new TypeError(`Invalid backslash sequence: ${templates.raw[index]}`);\n\t}\n\n\tconst {nextTokens, leadingWhitespaces, trailingWhitespaces} = splitByWhitespaces(template, templates.raw[index]);\n\tconst newTokens = concatTokens(tokens, nextTokens, leadingWhitespaces);\n\n\tif (index === expressions.length) {\n\t\treturn newTokens;\n\t}\n\n\tconst expression = expressions[index];\n\tconst expressionTokens = Array.isArray(expression)\n\t\t? expression.map(expression => parseExpression(expression))\n\t\t: [parseExpression(expression)];\n\treturn concatTokens(newTokens, expressionTokens, trailingWhitespaces);\n};\n\n// Like `string.split(/[ \\t\\r\\n]+/)` except newlines and tabs are:\n//  - ignored when input as a backslash sequence like: `echo foo\\n bar`\n//  - not ignored when input directly\n// The only way to distinguish those in JavaScript is to use a tagged template and compare:\n//  - the first array argument, which does not escape backslash sequences\n//  - its `raw` property, which escapes them\nconst splitByWhitespaces = (template, rawTemplate) => {\n\tif (rawTemplate.length === 0) {\n\t\treturn {nextTokens: [], leadingWhitespaces: false, trailingWhitespaces: false};\n\t}\n\n\tconst nextTokens = [];\n\tlet templateStart = 0;\n\tconst leadingWhitespaces = DELIMITERS.has(rawTemplate[0]);\n\n\tfor (\n\t\tlet templateIndex = 0, rawIndex = 0;\n\t\ttemplateIndex < template.length;\n\t\ttemplateIndex += 1, rawIndex += 1\n\t) {\n\t\tconst rawCharacter = rawTemplate[rawIndex];\n\t\tif (DELIMITERS.has(rawCharacter)) {\n\t\t\tif (templateStart !== templateIndex) {\n\t\t\t\tnextTokens.push(template.slice(templateStart, templateIndex));\n\t\t\t}\n\n\t\t\ttemplateStart = templateIndex + 1;\n\t\t} else if (rawCharacter === '\\\\') {\n\t\t\tconst nextRawCharacter = rawTemplate[rawIndex + 1];\n\t\t\tif (nextRawCharacter === '\\n') {\n\t\t\t\t// Handles escaped newlines in templates\n\t\t\t\ttemplateIndex -= 1;\n\t\t\t\trawIndex += 1;\n\t\t\t} else if (nextRawCharacter === 'u' && rawTemplate[rawIndex + 2] === '{') {\n\t\t\t\trawIndex = rawTemplate.indexOf('}', rawIndex + 3);\n\t\t\t} else {\n\t\t\t\trawIndex += ESCAPE_LENGTH[nextRawCharacter] ?? 1;\n\t\t\t}\n\t\t}\n\t}\n\n\tconst trailingWhitespaces = templateStart === template.length;\n\tif (!trailingWhitespaces) {\n\t\tnextTokens.push(template.slice(templateStart));\n\t}\n\n\treturn {nextTokens, leadingWhitespaces, trailingWhitespaces};\n};\n\nconst DELIMITERS = new Set([' ', '\\t', '\\r', '\\n']);\n\n// Number of characters in backslash escape sequences: \\0 \\xXX or \\uXXXX\n// \\cX is allowed in RegExps but not in strings\n// Octal sequences are not allowed in strict mode\nconst ESCAPE_LENGTH = {x: 3, u: 5};\n\nconst concatTokens = (tokens, nextTokens, isSeparated) => isSeparated\n\t|| tokens.length === 0\n\t|| nextTokens.length === 0\n\t? [...tokens, ...nextTokens]\n\t: [\n\t\t...tokens.slice(0, -1),\n\t\t`${tokens.at(-1)}${nextTokens[0]}`,\n\t\t...nextTokens.slice(1),\n\t];\n\n// Handle `${expression}` inside the template string syntax\nconst parseExpression = expression => {\n\tconst typeOfExpression = typeof expression;\n\n\tif (typeOfExpression === 'string') {\n\t\treturn expression;\n\t}\n\n\tif (typeOfExpression === 'number') {\n\t\treturn String(expression);\n\t}\n\n\tif (isPlainObject(expression) && ('stdout' in expression || 'isMaxBuffer' in expression)) {\n\t\treturn getSubprocessResult(expression);\n\t}\n\n\tif (expression instanceof ChildProcess || Object.prototype.toString.call(expression) === '[object Promise]') {\n\t\t// eslint-disable-next-line no-template-curly-in-string\n\t\tthrow new TypeError('Unexpected subprocess in template expression. Please use ${await subprocess} instead of ${subprocess}.');\n\t}\n\n\tthrow new TypeError(`Unexpected \"${typeOfExpression}\" in template expression`);\n};\n\nconst getSubprocessResult = ({stdout}) => {\n\tif (typeof stdout === 'string') {\n\t\treturn stdout;\n\t}\n\n\tif (isUint8Array(stdout)) {\n\t\treturn uint8ArrayToString(stdout);\n\t}\n\n\tif (stdout === undefined) {\n\t\tthrow new TypeError('Missing result.stdout in template expression. This is probably due to the previous subprocess\\' \"stdout\" option.');\n\t}\n\n\tthrow new TypeError(`Unexpected \"${typeof stdout}\" stdout in template expression`);\n};\n", "import {StringDecoder} from 'node:string_decoder';\n\nconst {toString: objectToString} = Object.prototype;\n\nexport const isArrayBuffer = value => objectToString.call(value) === '[object ArrayBuffer]';\n\n// Is either Uint8Array or Buffer\nexport const isUint8Array = value => objectToString.call(value) === '[object Uint8Array]';\n\nexport const bufferToUint8Array = buffer => new Uint8Array(buffer.buffer, buffer.byteOffset, buffer.byteLength);\n\nconst textEncoder = new TextEncoder();\nconst stringToUint8Array = string => textEncoder.encode(string);\n\nconst textDecoder = new TextDecoder();\nexport const uint8ArrayToString = uint8Array => textDecoder.decode(uint8Array);\n\nexport const joinToString = (uint8ArraysOrStrings, encoding) => {\n\tconst strings = uint8ArraysToStrings(uint8ArraysOrStrings, encoding);\n\treturn strings.join('');\n};\n\nconst uint8ArraysToStrings = (uint8ArraysOrStrings, encoding) => {\n\tif (encoding === 'utf8' && uint8ArraysOrStrings.every(uint8ArrayOrString => typeof uint8ArrayOrString === 'string')) {\n\t\treturn uint8ArraysOrStrings;\n\t}\n\n\tconst decoder = new StringDecoder(encoding);\n\tconst strings = uint8ArraysOrStrings\n\t\t.map(uint8ArrayOrString => typeof uint8ArrayOrString === 'string'\n\t\t\t? stringToUint8Array(uint8ArrayOrString)\n\t\t\t: uint8ArrayOrString)\n\t\t.map(uint8Array => decoder.write(uint8Array));\n\tconst finalString = decoder.end();\n\treturn finalString === '' ? strings : [...strings, finalString];\n};\n\nexport const joinToUint8Array = uint8ArraysOrStrings => {\n\tif (uint8ArraysOrStrings.length === 1 && isUint8Array(uint8ArraysOrStrings[0])) {\n\t\treturn uint8ArraysOrStrings[0];\n\t}\n\n\treturn concatUint8Arrays(stringsToUint8Arrays(uint8ArraysOrStrings));\n};\n\nconst stringsToUint8Arrays = uint8ArraysOrStrings => uint8ArraysOrStrings.map(uint8ArrayOrString => typeof uint8ArrayOrString === 'string'\n\t? stringToUint8Array(uint8ArrayOrString)\n\t: uint8ArrayOrString);\n\nexport const concatUint8Arrays = uint8Arrays => {\n\tconst result = new Uint8Array(getJoinLength(uint8Arrays));\n\n\tlet index = 0;\n\tfor (const uint8Array of uint8Arrays) {\n\t\tresult.set(uint8Array, index);\n\t\tindex += uint8Array.length;\n\t}\n\n\treturn result;\n};\n\nconst getJoinLength = uint8Arrays => {\n\tlet joinLength = 0;\n\tfor (const uint8Array of uint8Arrays) {\n\t\tjoinLength += uint8Array.length;\n\t}\n\n\treturn joinLength;\n};\n", "import {spawnSync} from 'node:child_process';\nimport {handleCommand} from '../arguments/command.js';\nimport {normalizeOptions} from '../arguments/options.js';\nimport {concatenateShell} from '../arguments/shell.js';\nimport {makeError, makeEarlyError, makeSuccessResult} from '../return/result.js';\nimport {handleResult} from '../return/reject.js';\nimport {handleStdioSync} from '../stdio/handle-sync.js';\nimport {stripNewline} from '../io/strip-newline.js';\nimport {addInputOptionsSync} from '../io/input-sync.js';\nimport {transformOutputSync} from '../io/output-sync.js';\nimport {getMaxBufferSync} from '../io/max-buffer.js';\nimport {getAllSync} from '../resolve/all-sync.js';\nimport {getExitResultSync} from '../resolve/exit-sync.js';\n\n// Main shared logic for all sync methods: `execaSync()`, `$.sync()`\nexport const execaCoreSync = (rawFile, rawArguments, rawOptions) => {\n\tconst {file, commandArguments, command, escapedCommand, startTime, verboseInfo, options, fileDescriptors} = handleSyncArguments(rawFile, rawArguments, rawOptions);\n\tconst result = spawnSubprocessSync({\n\t\tfile,\n\t\tcommandArguments,\n\t\toptions,\n\t\tcommand,\n\t\tescapedCommand,\n\t\tverboseInfo,\n\t\tfileDescriptors,\n\t\tstartTime,\n\t});\n\treturn handleResult(result, verboseInfo, options);\n};\n\n// Compute arguments to pass to `child_process.spawnSync()`\nconst handleSyncArguments = (rawFile, rawArguments, rawOptions) => {\n\tconst {command, escapedCommand, startTime, verboseInfo} = handleCommand(rawFile, rawArguments, rawOptions);\n\tconst syncOptions = normalizeSyncOptions(rawOptions);\n\tconst {file, commandArguments, options} = normalizeOptions(rawFile, rawArguments, syncOptions);\n\tvalidateSyncOptions(options);\n\tconst fileDescriptors = handleStdioSync(options, verboseInfo);\n\treturn {\n\t\tfile,\n\t\tcommandArguments,\n\t\tcommand,\n\t\tescapedCommand,\n\t\tstartTime,\n\t\tverboseInfo,\n\t\toptions,\n\t\tfileDescriptors,\n\t};\n};\n\n// Options normalization logic specific to sync methods\nconst normalizeSyncOptions = options => options.node && !options.ipc ? {...options, ipc: false} : options;\n\n// Options validation logic specific to sync methods\nconst validateSyncOptions = ({ipc, ipcInput, detached, cancelSignal}) => {\n\tif (ipcInput) {\n\t\tthrowInvalidSyncOption('ipcInput');\n\t}\n\n\tif (ipc) {\n\t\tthrowInvalidSyncOption('ipc: true');\n\t}\n\n\tif (detached) {\n\t\tthrowInvalidSyncOption('detached: true');\n\t}\n\n\tif (cancelSignal) {\n\t\tthrowInvalidSyncOption('cancelSignal');\n\t}\n};\n\nconst throwInvalidSyncOption = value => {\n\tthrow new TypeError(`The \"${value}\" option cannot be used with synchronous methods.`);\n};\n\nconst spawnSubprocessSync = ({file, commandArguments, options, command, escapedCommand, verboseInfo, fileDescriptors, startTime}) => {\n\tconst syncResult = runSubprocessSync({\n\t\tfile,\n\t\tcommandArguments,\n\t\toptions,\n\t\tcommand,\n\t\tescapedCommand,\n\t\tfileDescriptors,\n\t\tstartTime,\n\t});\n\tif (syncResult.failed) {\n\t\treturn syncResult;\n\t}\n\n\tconst {resultError, exitCode, signal, timedOut, isMaxBuffer} = getExitResultSync(syncResult, options);\n\tconst {output, error = resultError} = transformOutputSync({\n\t\tfileDescriptors,\n\t\tsyncResult,\n\t\toptions,\n\t\tisMaxBuffer,\n\t\tverboseInfo,\n\t});\n\tconst stdio = output.map((stdioOutput, fdNumber) => stripNewline(stdioOutput, options, fdNumber));\n\tconst all = stripNewline(getAllSync(output, options), options, 'all');\n\treturn getSyncResult({\n\t\terror,\n\t\texitCode,\n\t\tsignal,\n\t\ttimedOut,\n\t\tisMaxBuffer,\n\t\tstdio,\n\t\tall,\n\t\toptions,\n\t\tcommand,\n\t\tescapedCommand,\n\t\tstartTime,\n\t});\n};\n\nconst runSubprocessSync = ({file, commandArguments, options, command, escapedCommand, fileDescriptors, startTime}) => {\n\ttry {\n\t\taddInputOptionsSync(fileDescriptors, options);\n\t\tconst normalizedOptions = normalizeSpawnSyncOptions(options);\n\t\treturn spawnSync(...concatenateShell(file, commandArguments, normalizedOptions));\n\t} catch (error) {\n\t\treturn makeEarlyError({\n\t\t\terror,\n\t\t\tcommand,\n\t\t\tescapedCommand,\n\t\t\tfileDescriptors,\n\t\t\toptions,\n\t\t\tstartTime,\n\t\t\tisSync: true,\n\t\t});\n\t}\n};\n\n// The `encoding` option is handled by Execa, not by `child_process.spawnSync()`\nconst normalizeSpawnSyncOptions = ({encoding, maxBuffer, ...options}) => ({...options, encoding: 'buffer', maxBuffer: getMaxBufferSync(maxBuffer)});\n\nconst getSyncResult = ({error, exitCode, signal, timedOut, isMaxBuffer, stdio, all, options, command, escapedCommand, startTime}) => error === undefined\n\t? makeSuccessResult({\n\t\tcommand,\n\t\tescapedCommand,\n\t\tstdio,\n\t\tall,\n\t\tipcOutput: [],\n\t\toptions,\n\t\tstartTime,\n\t})\n\t: makeError({\n\t\terror,\n\t\tcommand,\n\t\tescapedCommand,\n\t\ttimedOut,\n\t\tisCanceled: false,\n\t\tisGracefullyCanceled: false,\n\t\tisMaxBuffer,\n\t\tisForcefullyTerminated: false,\n\t\texitCode,\n\t\tsignal,\n\t\tstdio,\n\t\tall,\n\t\tipcOutput: [],\n\t\toptions,\n\t\tstartTime,\n\t\tisSync: true,\n\t});\n", "import {debuglog} from 'node:util';\nimport isPlainObject from 'is-plain-obj';\nimport {STANDARD_STREAMS_ALIASES} from '../utils/standard-stream.js';\n\n// Some options can have different values for `stdout`/`stderr`/`fd3`.\n// This normalizes those to array of values.\n// For example, `{verbose: {stdout: 'none', stderr: 'full'}}` becomes `{verbose: ['none', 'none', 'full']}`\nexport const normalizeFdSpecificOptions = options => {\n\tconst optionsCopy = {...options};\n\n\tfor (const optionName of FD_SPECIFIC_OPTIONS) {\n\t\toptionsCopy[optionName] = normalizeFdSpecificOption(options, optionName);\n\t}\n\n\treturn optionsCopy;\n};\n\nexport const normalizeFdSpecificOption = (options, optionName) => {\n\tconst optionBaseArray = Array.from({length: getStdioLength(options) + 1});\n\tconst optionArray = normalizeFdSpecificValue(options[optionName], optionBaseArray, optionName);\n\treturn addDefaultValue(optionArray, optionName);\n};\n\nconst getStdioLength = ({stdio}) => Array.isArray(stdio)\n\t? Math.max(stdio.length, STANDARD_STREAMS_ALIASES.length)\n\t: STANDARD_STREAMS_ALIASES.length;\n\nconst normalizeFdSpecificValue = (optionValue, optionArray, optionName) => isPlainObject(optionValue)\n\t? normalizeOptionObject(optionValue, optionArray, optionName)\n\t: optionArray.fill(optionValue);\n\nconst normalizeOptionObject = (optionValue, optionArray, optionName) => {\n\tfor (const fdName of Object.keys(optionValue).sort(compareFdName)) {\n\t\tfor (const fdNumber of parseFdName(fdName, optionName, optionArray)) {\n\t\t\toptionArray[fdNumber] = optionValue[fdName];\n\t\t}\n\t}\n\n\treturn optionArray;\n};\n\n// Ensure priority order when setting both `stdout`/`stderr`, `fd1`/`fd2`, and `all`\nconst compareFdName = (fdNameA, fdNameB) => getFdNameOrder(fdNameA) < getFdNameOrder(fdNameB) ? 1 : -1;\n\nconst getFdNameOrder = fdName => {\n\tif (fdName === 'stdout' || fdName === 'stderr') {\n\t\treturn 0;\n\t}\n\n\treturn fdName === 'all' ? 2 : 1;\n};\n\nconst parseFdName = (fdName, optionName, optionArray) => {\n\tif (fdName === 'ipc') {\n\t\treturn [optionArray.length - 1];\n\t}\n\n\tconst fdNumber = parseFd(fdName);\n\tif (fdNumber === undefined || fdNumber === 0) {\n\t\tthrow new TypeError(`\"${optionName}.${fdName}\" is invalid.\nIt must be \"${optionName}.stdout\", \"${optionName}.stderr\", \"${optionName}.all\", \"${optionName}.ipc\", or \"${optionName}.fd3\", \"${optionName}.fd4\" (and so on).`);\n\t}\n\n\tif (fdNumber >= optionArray.length) {\n\t\tthrow new TypeError(`\"${optionName}.${fdName}\" is invalid: that file descriptor does not exist.\nPlease set the \"stdio\" option to ensure that file descriptor exists.`);\n\t}\n\n\treturn fdNumber === 'all' ? [1, 2] : [fdNumber];\n};\n\n// Use the same syntax for fd-specific options and the `from`/`to` options\nexport const parseFd = fdName => {\n\tif (fdName === 'all') {\n\t\treturn fdName;\n\t}\n\n\tif (STANDARD_STREAMS_ALIASES.includes(fdName)) {\n\t\treturn STANDARD_STREAMS_ALIASES.indexOf(fdName);\n\t}\n\n\tconst regexpResult = FD_REGEXP.exec(fdName);\n\tif (regexpResult !== null) {\n\t\treturn Number(regexpResult[1]);\n\t}\n};\n\nconst FD_REGEXP = /^fd(\\d+)$/;\n\nconst addDefaultValue = (optionArray, optionName) => optionArray.map(optionValue => optionValue === undefined\n\t? DEFAULT_OPTIONS[optionName]\n\t: optionValue);\n\n// Default value for the `verbose` option\nconst verboseDefault = debuglog('execa').enabled ? 'full' : 'none';\n\nconst DEFAULT_OPTIONS = {\n\tlines: false,\n\tbuffer: true,\n\tmaxBuffer: 1000 * 1000 * 100,\n\tverbose: verboseDefault,\n\tstripFinalNewline: true,\n};\n\n// List of options which can have different values for `stdout`/`stderr`\nexport const FD_SPECIFIC_OPTIONS = ['lines', 'buffer', 'maxBuffer', 'verbose', 'stripFinalNewline'];\n\n// Retrieve fd-specific option\nexport const getFdSpecificValue = (optionArray, fdNumber) => fdNumber === 'ipc'\n\t? optionArray.at(-1)\n\t: optionArray[fdNumber];\n", "import process from 'node:process';\n\nexport const isStandardStream = stream => STANDARD_STREAMS.includes(stream);\nexport const STANDARD_STREAMS = [process.stdin, process.stdout, process.stderr];\nexport const STANDARD_STREAMS_ALIASES = ['stdin', 'stdout', 'stderr'];\nexport const getStreamName = fdNumber => STANDARD_STREAMS_ALIASES[fdNumber] ?? `stdio[${fdNumber}]`;\n", "import {getFdSpecificValue} from '../arguments/specific.js';\n\n// The `verbose` option can have different values for `stdout`/`stderr`\nexport const isVerbose = ({verbose}, fdNumber) => getFdVerbose(verbose, fdNumber) !== 'none';\n\n// Whether IPC and output and logged\nexport const isFullVerbose = ({verbose}, fdNumber) => !['none', 'short'].includes(getFdVerbose(verbose, fdNumber));\n\n// The `verbose` option can be a function to customize logging\nexport const getVerboseFunction = ({verbose}, fdNumber) => {\n\tconst fdVerbose = getFdVerbose(verbose, fdNumber);\n\treturn isVerboseFunction(fdVerbose) ? fdVerbose : undefined;\n};\n\n// When using `verbose: {stdout, stderr, fd3, ipc}`:\n//  - `verbose.stdout|stderr|fd3` is used for 'output'\n//  - `verbose.ipc` is only used for 'ipc'\n//  - highest `verbose.*` value is used for 'command', 'error' and 'duration'\nconst getFdVerbose = (verbose, fdNumber) => fdNumber === undefined\n\t? getFdGenericVerbose(verbose)\n\t: getFdSpecificValue(verbose, fdNumber);\n\n// When using `verbose: {stdout, stderr, fd3, ipc}` and logging is not specific to a file descriptor.\n// We then use the highest `verbose.*` value, using the following order:\n//  - function > 'full' > 'short' > 'none'\n//  - if several functions are defined: stdout > stderr > fd3 > ipc\nconst getFdGenericVerbose = verbose => verbose.find(fdVerbose => isVerboseFunction(fdVerbose))\n\t?? VERBOSE_VALUES.findLast(fdVerbose => verbose.includes(fdVerbose));\n\n// Whether the `verbose` option is customized using a function\nexport const isVerboseFunction = fdVerbose => typeof fdVerbose === 'function';\n\nexport const VERBOSE_VALUES = ['none', 'short', 'full'];\n", "import {inspect} from 'node:util';\nimport {escapeLines} from '../arguments/escape.js';\nimport {defaultVerboseFunction} from './default.js';\nimport {applyVerboseOnLines} from './custom.js';\n\n// This prints on stderr.\n// If the subprocess prints on stdout and is using `stdout: 'inherit'`,\n// there is a chance both writes will compete (introducing a race condition).\n// This means their respective order is not deterministic.\n// In particular, this means the verbose command lines might be after the start of the subprocess output.\n// Using synchronous I/O does not solve this problem.\n// However, this only seems to happen when the stdout/stderr target\n// (e.g. a terminal) is being written to by many subprocesses at once, which is unlikely in real scenarios.\nexport const verboseLog = ({type, verboseMessage, fdNumber, verboseInfo, result}) => {\n\tconst verboseObject = getVerboseObject({type, result, verboseInfo});\n\tconst printedLines = getPrintedLines(verboseMessage, verboseObject);\n\tconst finalLines = applyVerboseOnLines(printedLines, verboseInfo, fdNumber);\n\tif (finalLines !== '') {\n\t\tconsole.warn(finalLines.slice(0, -1));\n\t}\n};\n\nconst getVerboseObject = ({\n\ttype,\n\tresult,\n\tverboseInfo: {escapedCommand, commandId, rawOptions: {piped = false, ...options}},\n}) => ({\n\ttype,\n\tescapedCommand,\n\tcommandId: `${commandId}`,\n\ttimestamp: new Date(),\n\tpiped,\n\tresult,\n\toptions,\n});\n\nconst getPrintedLines = (verboseMessage, verboseObject) => verboseMessage\n\t.split('\\n')\n\t.map(message => getPrintedLine({...verboseObject, message}));\n\nconst getPrintedLine = verboseObject => {\n\tconst verboseLine = defaultVerboseFunction(verboseObject);\n\treturn {verboseLine, verboseObject};\n};\n\n// Serialize any type to a line string, for logging\nexport const serializeVerboseMessage = message => {\n\tconst messageString = typeof message === 'string' ? message : inspect(message);\n\tconst escapedMessage = escapeLines(messageString);\n\treturn escapedMessage.replaceAll('\\t', ' '.repeat(TAB_SIZE));\n};\n\n// Same as `util.inspect()`\nconst TAB_SIZE = 2;\n", "import {platform} from 'node:process';\nimport {stripVTControlCharacters} from 'node:util';\n\n// Compute `result.command` and `result.escapedCommand`\nexport const joinCommand = (filePath, rawArguments) => {\n\tconst fileAndArguments = [filePath, ...rawArguments];\n\tconst command = fileAndArguments.join(' ');\n\tconst escapedCommand = fileAndArguments\n\t\t.map(fileAndArgument => quoteString(escapeControlCharacters(fileAndArgument)))\n\t\t.join(' ');\n\treturn {command, escapedCommand};\n};\n\n// Remove ANSI sequences and escape control characters and newlines\nexport const escapeLines = lines => stripVTControlCharacters(lines)\n\t.split('\\n')\n\t.map(line => escapeControlCharacters(line))\n\t.join('\\n');\n\nconst escapeControlCharacters = line => line.replaceAll(SPECIAL_CHAR_REGEXP, character => escapeControlCharacter(character));\n\nconst escapeControlCharacter = character => {\n\tconst commonEscape = COMMON_ESCAPES[character];\n\tif (commonEscape !== undefined) {\n\t\treturn commonEscape;\n\t}\n\n\tconst codepoint = character.codePointAt(0);\n\tconst codepointHex = codepoint.toString(16);\n\treturn codepoint <= ASTRAL_START\n\t\t? `\\\\u${codepointHex.padStart(4, '0')}`\n\t\t: `\\\\U${codepointHex}`;\n};\n\n// Characters that would create issues when printed are escaped using the \\u or \\U notation.\n// Those include control characters and newlines.\n// The \\u and \\U notation is Bash specific, but there is no way to do this in a shell-agnostic way.\n// Some shells do not even have a way to print those characters in an escaped fashion.\n// Therefore, we prioritize printing those safely, instead of allowing those to be copy-pasted.\n// List of Unicode character categories: https://www.fileformat.info/info/unicode/category/index.htm\nconst getSpecialCharRegExp = () => {\n\ttry {\n\t\t// This throws when using Node.js without ICU support.\n\t\t// When using a RegExp literal, this would throw at parsing-time, instead of runtime.\n\t\t// eslint-disable-next-line prefer-regex-literals\n\t\treturn new RegExp('\\\\p{Separator}|\\\\p{Other}', 'gu');\n\t} catch {\n\t\t// Similar to the above RegExp, but works even when Node.js has been built without ICU support.\n\t\t// Unlike the above RegExp, it only covers whitespaces and C0/C1 control characters.\n\t\t// It does not cover some edge cases, such as Unicode reserved characters.\n\t\t// See https://github.com/sindresorhus/execa/issues/1143\n\t\t// eslint-disable-next-line no-control-regex\n\t\treturn /[\\s\\u0000-\\u001F\\u007F-\\u009F\\u00AD]/g;\n\t}\n};\n\nconst SPECIAL_CHAR_REGEXP = getSpecialCharRegExp();\n\n// Accepted by $'...' in Bash.\n// Exclude \\a \\e \\v which are accepted in Bash but not in JavaScript (except \\v) and JSON.\nconst COMMON_ESCAPES = {\n\t' ': ' ',\n\t'\\b': '\\\\b',\n\t'\\f': '\\\\f',\n\t'\\n': '\\\\n',\n\t'\\r': '\\\\r',\n\t'\\t': '\\\\t',\n};\n\n// Up until that codepoint, \\u notation can be used instead of \\U\nconst ASTRAL_START = 65_535;\n\n// Some characters are shell-specific, i.e. need to be escaped when the command is copy-pasted then run.\n// Escaping is shell-specific. We cannot know which shell is used: `process.platform` detection is not enough.\n// For example, Windows users could be using `cmd.exe`, Powershell or Bash for Windows which all use different escaping.\n// We use '...' on Unix, which is POSIX shell compliant and escape all characters but ' so this is fairly safe.\n// On Windows, we assume cmd.exe is used and escape with \"...\", which also works with Powershell.\nconst quoteString = escapedArgument => {\n\tif (NO_ESCAPE_REGEXP.test(escapedArgument)) {\n\t\treturn escapedArgument;\n\t}\n\n\treturn platform === 'win32'\n\t\t? `\"${escapedArgument.replaceAll('\"', '\"\"')}\"`\n\t\t: `'${escapedArgument.replaceAll('\\'', '\\'\\\\\\'\\'')}'`;\n};\n\nconst NO_ESCAPE_REGEXP = /^[\\w./-]+$/;\n", "import process from 'node:process';\n\nexport default function isUnicodeSupported() {\n\tconst {env} = process;\n\tconst {TERM, TERM_PROGRAM} = env;\n\n\tif (process.platform !== 'win32') {\n\t\treturn TERM !== 'linux'; // Linux console (kernel)\n\t}\n\n\treturn Boolean(env.WT_SESSION) // Windows Terminal\n\t\t|| Boolean(env.TERMINUS_SUBLIME) // Terminus (<0.2.27)\n\t\t|| env.ConEmuTask === '{cmd::Cmder}' // ConEmu and cmder\n\t\t|| TERM_PROGRAM === 'Terminus-Sublime'\n\t\t|| TERM_PROGRAM === 'vscode'\n\t\t|| TERM === 'xterm-256color'\n\t\t|| TERM === 'alacritty'\n\t\t|| TERM === 'rxvt-unicode'\n\t\t|| TERM === 'rxvt-unicode-256color'\n\t\t|| env.TERMINAL_EMULATOR === 'JetBrains-JediTerm';\n}\n", "import isUnicodeSupported from 'is-unicode-supported';\n\nconst common = {\n\tcircleQuestionMark: '(?)',\n\tquestionMarkPrefix: '(?)',\n\tsquare: '\u2588',\n\tsquareDarkShade: '\u2593',\n\tsquareMediumShade: '\u2592',\n\tsquareLightShade: '\u2591',\n\tsquareTop: '\u2580',\n\tsquareBottom: '\u2584',\n\tsquareLeft: '\u258C',\n\tsquareRight: '\u2590',\n\tsquareCenter: '\u25A0',\n\tbullet: '\u25CF',\n\tdot: '\u2024',\n\tellipsis: '\u2026',\n\tpointerSmall: '\u203A',\n\ttriangleUp: '\u25B2',\n\ttriangleUpSmall: '\u25B4',\n\ttriangleDown: '\u25BC',\n\ttriangleDownSmall: '\u25BE',\n\ttriangleLeftSmall: '\u25C2',\n\ttriangleRightSmall: '\u25B8',\n\thome: '\u2302',\n\theart: '\u2665',\n\tmusicNote: '\u266A',\n\tmusicNoteBeamed: '\u266B',\n\tarrowUp: '\u2191',\n\tarrowDown: '\u2193',\n\tarrowLeft: '\u2190',\n\tarrowRight: '\u2192',\n\tarrowLeftRight: '\u2194',\n\tarrowUpDown: '\u2195',\n\talmostEqual: '\u2248',\n\tnotEqual: '\u2260',\n\tlessOrEqual: '\u2264',\n\tgreaterOrEqual: '\u2265',\n\tidentical: '\u2261',\n\tinfinity: '\u221E',\n\tsubscriptZero: '\u2080',\n\tsubscriptOne: '\u2081',\n\tsubscriptTwo: '\u2082',\n\tsubscriptThree: '\u2083',\n\tsubscriptFour: '\u2084',\n\tsubscriptFive: '\u2085',\n\tsubscriptSix: '\u2086',\n\tsubscriptSeven: '\u2087',\n\tsubscriptEight: '\u2088',\n\tsubscriptNine: '\u2089',\n\toneHalf: '\u00BD',\n\toneThird: '\u2153',\n\toneQuarter: '\u00BC',\n\toneFifth: '\u2155',\n\toneSixth: '\u2159',\n\toneEighth: '\u215B',\n\ttwoThirds: '\u2154',\n\ttwoFifths: '\u2156',\n\tthreeQuarters: '\u00BE',\n\tthreeFifths: '\u2157',\n\tthreeEighths: '\u215C',\n\tfourFifths: '\u2158',\n\tfiveSixths: '\u215A',\n\tfiveEighths: '\u215D',\n\tsevenEighths: '\u215E',\n\tline: '\u2500',\n\tlineBold: '\u2501',\n\tlineDouble: '\u2550',\n\tlineDashed0: '\u2504',\n\tlineDashed1: '\u2505',\n\tlineDashed2: '\u2508',\n\tlineDashed3: '\u2509',\n\tlineDashed4: '\u254C',\n\tlineDashed5: '\u254D',\n\tlineDashed6: '\u2574',\n\tlineDashed7: '\u2576',\n\tlineDashed8: '\u2578',\n\tlineDashed9: '\u257A',\n\tlineDashed10: '\u257C',\n\tlineDashed11: '\u257E',\n\tlineDashed12: '\u2212',\n\tlineDashed13: '\u2013',\n\tlineDashed14: '\u2010',\n\tlineDashed15: '\u2043',\n\tlineVertical: '\u2502',\n\tlineVerticalBold: '\u2503',\n\tlineVerticalDouble: '\u2551',\n\tlineVerticalDashed0: '\u2506',\n\tlineVerticalDashed1: '\u2507',\n\tlineVerticalDashed2: '\u250A',\n\tlineVerticalDashed3: '\u250B',\n\tlineVerticalDashed4: '\u254E',\n\tlineVerticalDashed5: '\u254F',\n\tlineVerticalDashed6: '\u2575',\n\tlineVerticalDashed7: '\u2577',\n\tlineVerticalDashed8: '\u2579',\n\tlineVerticalDashed9: '\u257B',\n\tlineVerticalDashed10: '\u257D',\n\tlineVerticalDashed11: '\u257F',\n\tlineDownLeft: '\u2510',\n\tlineDownLeftArc: '\u256E',\n\tlineDownBoldLeftBold: '\u2513',\n\tlineDownBoldLeft: '\u2512',\n\tlineDownLeftBold: '\u2511',\n\tlineDownDoubleLeftDouble: '\u2557',\n\tlineDownDoubleLeft: '\u2556',\n\tlineDownLeftDouble: '\u2555',\n\tlineDownRight: '\u250C',\n\tlineDownRightArc: '\u256D',\n\tlineDownBoldRightBold: '\u250F',\n\tlineDownBoldRight: '\u250E',\n\tlineDownRightBold: '\u250D',\n\tlineDownDoubleRightDouble: '\u2554',\n\tlineDownDoubleRight: '\u2553',\n\tlineDownRightDouble: '\u2552',\n\tlineUpLeft: '\u2518',\n\tlineUpLeftArc: '\u256F',\n\tlineUpBoldLeftBold: '\u251B',\n\tlineUpBoldLeft: '\u251A',\n\tlineUpLeftBold: '\u2519',\n\tlineUpDoubleLeftDouble: '\u255D',\n\tlineUpDoubleLeft: '\u255C',\n\tlineUpLeftDouble: '\u255B',\n\tlineUpRight: '\u2514',\n\tlineUpRightArc: '\u2570',\n\tlineUpBoldRightBold: '\u2517',\n\tlineUpBoldRight: '\u2516',\n\tlineUpRightBold: '\u2515',\n\tlineUpDoubleRightDouble: '\u255A',\n\tlineUpDoubleRight: '\u2559',\n\tlineUpRightDouble: '\u2558',\n\tlineUpDownLeft: '\u2524',\n\tlineUpBoldDownBoldLeftBold: '\u252B',\n\tlineUpBoldDownBoldLeft: '\u2528',\n\tlineUpDownLeftBold: '\u2525',\n\tlineUpBoldDownLeftBold: '\u2529',\n\tlineUpDownBoldLeftBold: '\u252A',\n\tlineUpDownBoldLeft: '\u2527',\n\tlineUpBoldDownLeft: '\u2526',\n\tlineUpDoubleDownDoubleLeftDouble: '\u2563',\n\tlineUpDoubleDownDoubleLeft: '\u2562',\n\tlineUpDownLeftDouble: '\u2561',\n\tlineUpDownRight: '\u251C',\n\tlineUpBoldDownBoldRightBold: '\u2523',\n\tlineUpBoldDownBoldRight: '\u2520',\n\tlineUpDownRightBold: '\u251D',\n\tlineUpBoldDownRightBold: '\u2521',\n\tlineUpDownBoldRightBold: '\u2522',\n\tlineUpDownBoldRight: '\u251F',\n\tlineUpBoldDownRight: '\u251E',\n\tlineUpDoubleDownDoubleRightDouble: '\u2560',\n\tlineUpDoubleDownDoubleRight: '\u255F',\n\tlineUpDownRightDouble: '\u255E',\n\tlineDownLeftRight: '\u252C',\n\tlineDownBoldLeftBoldRightBold: '\u2533',\n\tlineDownLeftBoldRightBold: '\u252F',\n\tlineDownBoldLeftRight: '\u2530',\n\tlineDownBoldLeftBoldRight: '\u2531',\n\tlineDownBoldLeftRightBold: '\u2532',\n\tlineDownLeftRightBold: '\u252E',\n\tlineDownLeftBoldRight: '\u252D',\n\tlineDownDoubleLeftDoubleRightDouble: '\u2566',\n\tlineDownDoubleLeftRight: '\u2565',\n\tlineDownLeftDoubleRightDouble: '\u2564',\n\tlineUpLeftRight: '\u2534',\n\tlineUpBoldLeftBoldRightBold: '\u253B',\n\tlineUpLeftBoldRightBold: '\u2537',\n\tlineUpBoldLeftRight: '\u2538',\n\tlineUpBoldLeftBoldRight: '\u2539',\n\tlineUpBoldLeftRightBold: '\u253A',\n\tlineUpLeftRightBold: '\u2536',\n\tlineUpLeftBoldRight: '\u2535',\n\tlineUpDoubleLeftDoubleRightDouble: '\u2569',\n\tlineUpDoubleLeftRight: '\u2568',\n\tlineUpLeftDoubleRightDouble: '\u2567',\n\tlineUpDownLeftRight: '\u253C',\n\tlineUpBoldDownBoldLeftBoldRightBold: '\u254B',\n\tlineUpDownBoldLeftBoldRightBold: '\u2548',\n\tlineUpBoldDownLeftBoldRightBold: '\u2547',\n\tlineUpBoldDownBoldLeftRightBold: '\u254A',\n\tlineUpBoldDownBoldLeftBoldRight: '\u2549',\n\tlineUpBoldDownLeftRight: '\u2540',\n\tlineUpDownBoldLeftRight: '\u2541',\n\tlineUpDownLeftBoldRight: '\u253D',\n\tlineUpDownLeftRightBold: '\u253E',\n\tlineUpBoldDownBoldLeftRight: '\u2542',\n\tlineUpDownLeftBoldRightBold: '\u253F',\n\tlineUpBoldDownLeftBoldRight: '\u2543',\n\tlineUpBoldDownLeftRightBold: '\u2544',\n\tlineUpDownBoldLeftBoldRight: '\u2545',\n\tlineUpDownBoldLeftRightBold: '\u2546',\n\tlineUpDoubleDownDoubleLeftDoubleRightDouble: '\u256C',\n\tlineUpDoubleDownDoubleLeftRight: '\u256B',\n\tlineUpDownLeftDoubleRightDouble: '\u256A',\n\tlineCross: '\u2573',\n\tlineBackslash: '\u2572',\n\tlineSlash: '\u2571',\n};\n\nconst specialMainSymbols = {\n\ttick: '\u2714',\n\tinfo: '\u2139',\n\twarning: '\u26A0',\n\tcross: '\u2718',\n\tsquareSmall: '\u25FB',\n\tsquareSmallFilled: '\u25FC',\n\tcircle: '\u25EF',\n\tcircleFilled: '\u25C9',\n\tcircleDotted: '\u25CC',\n\tcircleDouble: '\u25CE',\n\tcircleCircle: '\u24DE',\n\tcircleCross: '\u24E7',\n\tcirclePipe: '\u24BE',\n\tradioOn: '\u25C9',\n\tradioOff: '\u25EF',\n\tcheckboxOn: '\u2612',\n\tcheckboxOff: '\u2610',\n\tcheckboxCircleOn: '\u24E7',\n\tcheckboxCircleOff: '\u24BE',\n\tpointer: '\u276F',\n\ttriangleUpOutline: '\u25B3',\n\ttriangleLeft: '\u25C0',\n\ttriangleRight: '\u25B6',\n\tlozenge: '\u25C6',\n\tlozengeOutline: '\u25C7',\n\thamburger: '\u2630',\n\tsmiley: '\u32E1',\n\tmustache: '\u0DF4',\n\tstar: '\u2605',\n\tplay: '\u25B6',\n\tnodejs: '\u2B22',\n\toneSeventh: '\u2150',\n\toneNinth: '\u2151',\n\toneTenth: '\u2152',\n};\n\nconst specialFallbackSymbols = {\n\ttick: '\u221A',\n\tinfo: 'i',\n\twarning: '\u203C',\n\tcross: '\u00D7',\n\tsquareSmall: '\u25A1',\n\tsquareSmallFilled: '\u25A0',\n\tcircle: '( )',\n\tcircleFilled: '(*)',\n\tcircleDotted: '( )',\n\tcircleDouble: '( )',\n\tcircleCircle: '(\u25CB)',\n\tcircleCross: '(\u00D7)',\n\tcirclePipe: '(\u2502)',\n\tradioOn: '(*)',\n\tradioOff: '( )',\n\tcheckboxOn: '[\u00D7]',\n\tcheckboxOff: '[ ]',\n\tcheckboxCircleOn: '(\u00D7)',\n\tcheckboxCircleOff: '( )',\n\tpointer: '>',\n\ttriangleUpOutline: '\u2206',\n\ttriangleLeft: '\u25C4',\n\ttriangleRight: '\u25BA',\n\tlozenge: '\u2666',\n\tlozengeOutline: '\u25CA',\n\thamburger: '\u2261',\n\tsmiley: '\u263A',\n\tmustache: '\u250C\u2500\u2510',\n\tstar: '\u2736',\n\tplay: '\u25BA',\n\tnodejs: '\u2666',\n\toneSeventh: '1/7',\n\toneNinth: '1/9',\n\toneTenth: '1/10',\n};\n\nexport const mainSymbols = {...common, ...specialMainSymbols};\nexport const fallbackSymbols = {...common, ...specialFallbackSymbols};\n\nconst shouldUseMain = isUnicodeSupported();\nconst figures = shouldUseMain ? mainSymbols : fallbackSymbols;\nexport default figures;\n\nconst replacements = Object.entries(specialMainSymbols);\n\n// On terminals which do not support Unicode symbols, substitute them to other symbols\nexport const replaceSymbols = (string, {useFallback = !shouldUseMain} = {}) => {\n\tif (useFallback) {\n\t\tfor (const [key, mainSymbol] of replacements) {\n\t\t\tstring = string.replaceAll(mainSymbol, fallbackSymbols[key]);\n\t\t}\n\t}\n\n\treturn string;\n};\n", "import tty from 'node:tty';\n\n// eslint-disable-next-line no-warning-comments\n// TODO: Use a better method when it's added to Node.js (https://github.com/nodejs/node/pull/40240)\n// Lots of optionals here to support Deno.\nconst hasColors = tty?.WriteStream?.prototype?.hasColors?.() ?? false;\n\nconst format = (open, close) => {\n\tif (!hasColors) {\n\t\treturn input => input;\n\t}\n\n\tconst openCode = `\\u001B[${open}m`;\n\tconst closeCode = `\\u001B[${close}m`;\n\n\treturn input => {\n\t\tconst string = input + ''; // eslint-disable-line no-implicit-coercion -- This is faster.\n\t\tlet index = string.indexOf(closeCode);\n\n\t\tif (index === -1) {\n\t\t\t// Note: Intentionally not using string interpolation for performance reasons.\n\t\t\treturn openCode + string + closeCode;\n\t\t}\n\n\t\t// Handle nested colors.\n\n\t\t// We could have done this, but it's too slow (as of Node.js 22).\n\t\t// return openCode + string.replaceAll(closeCode, openCode) + closeCode;\n\n\t\tlet result = openCode;\n\t\tlet lastIndex = 0;\n\n\t\twhile (index !== -1) {\n\t\t\tresult += string.slice(lastIndex, index) + openCode;\n\t\t\tlastIndex = index + closeCode.length;\n\t\t\tindex = string.indexOf(closeCode, lastIndex);\n\t\t}\n\n\t\tresult += string.slice(lastIndex) + closeCode;\n\n\t\treturn result;\n\t};\n};\n\nexport const reset = format(0, 0);\nexport const bold = format(1, 22);\nexport const dim = format(2, 22);\nexport const italic = format(3, 23);\nexport const underline = format(4, 24);\nexport const overline = format(53, 55);\nexport const inverse = format(7, 27);\nexport const hidden = format(8, 28);\nexport const strikethrough = format(9, 29);\n\nexport const black = format(30, 39);\nexport const red = format(31, 39);\nexport const green = format(32, 39);\nexport const yellow = format(33, 39);\nexport const blue = format(34, 39);\nexport const magenta = format(35, 39);\nexport const cyan = format(36, 39);\nexport const white = format(37, 39);\nexport const gray = format(90, 39);\n\nexport const bgBlack = format(40, 49);\nexport const bgRed = format(41, 49);\nexport const bgGreen = format(42, 49);\nexport const bgYellow = format(43, 49);\nexport const bgBlue = format(44, 49);\nexport const bgMagenta = format(45, 49);\nexport const bgCyan = format(46, 49);\nexport const bgWhite = format(47, 49);\nexport const bgGray = format(100, 49);\n\nexport const redBright = format(91, 39);\nexport const greenBright = format(92, 39);\nexport const yellowBright = format(93, 39);\nexport const blueBright = format(94, 39);\nexport const magentaBright = format(95, 39);\nexport const cyanBright = format(96, 39);\nexport const whiteBright = format(97, 39);\n\nexport const bgRedBright = format(101, 49);\nexport const bgGreenBright = format(102, 49);\nexport const bgYellowBright = format(103, 49);\nexport const bgBlueBright = format(104, 49);\nexport const bgMagentaBright = format(105, 49);\nexport const bgCyanBright = format(106, 49);\nexport const bgWhiteBright = format(107, 49);\n", "import figures from 'figures';\nimport {\n\tgray,\n\tbold,\n\tredBright,\n\tyellowBright,\n} from 'yoctocolors';\n\n// Default when `verbose` is not a function\nexport const defaultVerboseFunction = ({\n\ttype,\n\tmessage,\n\ttimestamp,\n\tpiped,\n\tcommandId,\n\tresult: {failed = false} = {},\n\toptions: {reject = true},\n}) => {\n\tconst timestampString = serializeTimestamp(timestamp);\n\tconst icon = ICONS[type]({failed, reject, piped});\n\tconst color = COLORS[type]({reject});\n\treturn `${gray(`[${timestampString}]`)} ${gray(`[${commandId}]`)} ${color(icon)} ${color(message)}`;\n};\n\n// Prepending the timestamp allows debugging the slow paths of a subprocess\nconst serializeTimestamp = timestamp => `${padField(timestamp.getHours(), 2)}:${padField(timestamp.getMinutes(), 2)}:${padField(timestamp.getSeconds(), 2)}.${padField(timestamp.getMilliseconds(), 3)}`;\n\nconst padField = (field, padding) => String(field).padStart(padding, '0');\n\nconst getFinalIcon = ({failed, reject}) => {\n\tif (!failed) {\n\t\treturn figures.tick;\n\t}\n\n\treturn reject ? figures.cross : figures.warning;\n};\n\nconst ICONS = {\n\tcommand: ({piped}) => piped ? '|' : '$',\n\toutput: () => ' ',\n\tipc: () => '*',\n\terror: getFinalIcon,\n\tduration: getFinalIcon,\n};\n\nconst identity = string => string;\n\nconst COLORS = {\n\tcommand: () => bold,\n\toutput: () => identity,\n\tipc: () => identity,\n\terror: ({reject}) => reject ? redBright : yellowBright,\n\tduration: () => gray,\n};\n", "import {getVerboseFunction} from './values.js';\n\n// Apply the `verbose` function on each line\nexport const applyVerboseOnLines = (printedLines, verboseInfo, fdNumber) => {\n\tconst verboseFunction = getVerboseFunction(verboseInfo, fdNumber);\n\treturn printedLines\n\t\t.map(({verboseLine, verboseObject}) => applyVerboseFunction(verboseLine, verboseObject, verboseFunction))\n\t\t.filter(printedLine => printedLine !== undefined)\n\t\t.map(printedLine => appendNewline(printedLine))\n\t\t.join('');\n};\n\nconst applyVerboseFunction = (verboseLine, verboseObject, verboseFunction) => {\n\tif (verboseFunction === undefined) {\n\t\treturn verboseLine;\n\t}\n\n\tconst printedLine = verboseFunction(verboseLine, verboseObject);\n\tif (typeof printedLine === 'string') {\n\t\treturn printedLine;\n\t}\n};\n\nconst appendNewline = printedLine => printedLine.endsWith('\\n')\n\t? printedLine\n\t: `${printedLine}\\n`;\n", "import {isVerbose} from './values.js';\nimport {verboseLog} from './log.js';\n\n// When `verbose` is `short|full|custom`, print each command\nexport const logCommand = (escapedCommand, verboseInfo) => {\n\tif (!isVerbose(verboseInfo)) {\n\t\treturn;\n\t}\n\n\tverboseLog({\n\t\ttype: 'command',\n\t\tverboseMessage: escapedCommand,\n\t\tverboseInfo,\n\t});\n};\n", "import {isVerbose, VERBOSE_VALUES, isVerboseFunction} from './values.js';\n\n// Information computed before spawning, used by the `verbose` option\nexport const getVerboseInfo = (verbose, escapedCommand, rawOptions) => {\n\tvalidateVerbose(verbose);\n\tconst commandId = getCommandId(verbose);\n\treturn {\n\t\tverbose,\n\t\tescapedCommand,\n\t\tcommandId,\n\t\trawOptions,\n\t};\n};\n\nconst getCommandId = verbose => isVerbose({verbose}) ? COMMAND_ID++ : undefined;\n\n// Prepending the `pid` is useful when multiple commands print their output at the same time.\n// However, we cannot use the real PID since this is not available with `child_process.spawnSync()`.\n// Also, we cannot use the real PID if we want to print it before `child_process.spawn()` is run.\n// As a pro, it is shorter than a normal PID and never re-uses the same id.\n// As a con, it cannot be used to send signals.\nlet COMMAND_ID = 0n;\n\nconst validateVerbose = verbose => {\n\tfor (const fdVerbose of verbose) {\n\t\tif (fdVerbose === false) {\n\t\t\tthrow new TypeError('The \"verbose: false\" option was renamed to \"verbose: \\'none\\'\".');\n\t\t}\n\n\t\tif (fdVerbose === true) {\n\t\t\tthrow new TypeError('The \"verbose: true\" option was renamed to \"verbose: \\'short\\'\".');\n\t\t}\n\n\t\tif (!VERBOSE_VALUES.includes(fdVerbose) && !isVerboseFunction(fdVerbose)) {\n\t\t\tconst allowedValues = VERBOSE_VALUES.map(allowedValue => `'${allowedValue}'`).join(', ');\n\t\t\tthrow new TypeError(`The \"verbose\" option must not be ${fdVerbose}. Allowed values are: ${allowedValues} or a function.`);\n\t\t}\n\t}\n};\n", "import {hrtime} from 'node:process';\n\n// Start counting time before spawning the subprocess\nexport const getStartTime = () => hrtime.bigint();\n\n// Compute duration after the subprocess ended.\n// Printed by the `verbose` option.\nexport const getDurationMs = startTime => Number(hrtime.bigint() - startTime) / 1e6;\n", "import {logCommand} from '../verbose/start.js';\nimport {getVerboseInfo} from '../verbose/info.js';\nimport {getStartTime} from '../return/duration.js';\nimport {joinCommand} from './escape.js';\nimport {normalizeFdSpecificOption} from './specific.js';\n\n// Compute `result.command`, `result.escapedCommand` and `verbose`-related information\nexport const handleCommand = (filePath, rawArguments, rawOptions) => {\n\tconst startTime = getStartTime();\n\tconst {command, escapedCommand} = joinCommand(filePath, rawArguments);\n\tconst verbose = normalizeFdSpecificOption(rawOptions, 'verbose');\n\tconst verboseInfo = getVerboseInfo(verbose, escapedCommand, {...rawOptions});\n\tlogCommand(escapedCommand, verboseInfo);\n\treturn {\n\t\tcommand,\n\t\tescapedCommand,\n\t\tstartTime,\n\t\tverboseInfo,\n\t};\n};\n", "import path from 'node:path';\nimport process from 'node:process';\nimport crossSpawn from 'cross-spawn';\nimport {npmRunPathEnv} from 'npm-run-path';\nimport {normalizeForceKillAfterDelay} from '../terminate/kill.js';\nimport {normalizeKillSignal} from '../terminate/signal.js';\nimport {validateCancelSignal} from '../terminate/cancel.js';\nimport {validateGracefulCancel} from '../terminate/graceful.js';\nimport {validateTimeout} from '../terminate/timeout.js';\nimport {handleNodeOption} from '../methods/node.js';\nimport {validateIpcInputOption} from '../ipc/ipc-input.js';\nimport {validateEncoding, BINARY_ENCODINGS} from './encoding-option.js';\nimport {normalizeCwd} from './cwd.js';\nimport {normalizeFileUrl} from './file-url.js';\nimport {normalizeFdSpecificOptions} from './specific.js';\n\n// Normalize the options object, and sometimes also the file paths and arguments.\n// Applies default values, validate allowed options, normalize them.\nexport const normalizeOptions = (filePath, rawArguments, rawOptions) => {\n\trawOptions.cwd = normalizeCwd(rawOptions.cwd);\n\tconst [processedFile, processedArguments, processedOptions] = handleNodeOption(filePath, rawArguments, rawOptions);\n\n\tconst {command: file, args: commandArguments, options: initialOptions} = crossSpawn._parse(processedFile, processedArguments, processedOptions);\n\n\tconst fdOptions = normalizeFdSpecificOptions(initialOptions);\n\tconst options = addDefaultOptions(fdOptions);\n\tvalidateTimeout(options);\n\tvalidateEncoding(options);\n\tvalidateIpcInputOption(options);\n\tvalidateCancelSignal(options);\n\tvalidateGracefulCancel(options);\n\toptions.shell = normalizeFileUrl(options.shell);\n\toptions.env = getEnv(options);\n\toptions.killSignal = normalizeKillSignal(options.killSignal);\n\toptions.forceKillAfterDelay = normalizeForceKillAfterDelay(options.forceKillAfterDelay);\n\toptions.lines = options.lines.map((lines, fdNumber) => lines && !BINARY_ENCODINGS.has(options.encoding) && options.buffer[fdNumber]);\n\n\tif (process.platform === 'win32' && path.basename(file, '.exe') === 'cmd') {\n\t\t// #116\n\t\tcommandArguments.unshift('/q');\n\t}\n\n\treturn {file, commandArguments, options};\n};\n\nconst addDefaultOptions = ({\n\textendEnv = true,\n\tpreferLocal = false,\n\tcwd,\n\tlocalDir: localDirectory = cwd,\n\tencoding = 'utf8',\n\treject = true,\n\tcleanup = true,\n\tall = false,\n\twindowsHide = true,\n\tkillSignal = 'SIGTERM',\n\tforceKillAfterDelay = true,\n\tgracefulCancel = false,\n\tipcInput,\n\tipc = ipcInput !== undefined || gracefulCancel,\n\tserialization = 'advanced',\n\t...options\n}) => ({\n\t...options,\n\textendEnv,\n\tpreferLocal,\n\tcwd,\n\tlocalDirectory,\n\tencoding,\n\treject,\n\tcleanup,\n\tall,\n\twindowsHide,\n\tkillSignal,\n\tforceKillAfterDelay,\n\tgracefulCancel,\n\tipcInput,\n\tipc,\n\tserialization,\n});\n\nconst getEnv = ({env: envOption, extendEnv, preferLocal, node, localDirectory, nodePath}) => {\n\tconst env = extendEnv ? {...process.env, ...envOption} : envOption;\n\n\tif (preferLocal || node) {\n\t\treturn npmRunPathEnv({\n\t\t\tenv,\n\t\t\tcwd: localDirectory,\n\t\t\texecPath: nodePath,\n\t\t\tpreferLocal,\n\t\t\taddExecPath: node,\n\t\t});\n\t}\n\n\treturn env;\n};\n", "import process from 'node:process';\nimport path from 'node:path';\nimport pathKey from 'path-key';\nimport {toPath, traversePathUp} from 'unicorn-magic';\n\nexport const npmRunPath = ({\n\tcwd = process.cwd(),\n\tpath: pathOption = process.env[pathKey()],\n\tpreferLocal = true,\n\texecPath = process.execPath,\n\taddExecPath = true,\n} = {}) => {\n\tconst cwdPath = path.resolve(toPath(cwd));\n\tconst result = [];\n\tconst pathParts = pathOption.split(path.delimiter);\n\n\tif (preferLocal) {\n\t\tapplyPreferLocal(result, pathParts, cwdPath);\n\t}\n\n\tif (addExecPath) {\n\t\tapplyExecPath(result, pathParts, execPath, cwdPath);\n\t}\n\n\treturn pathOption === '' || pathOption === path.delimiter\n\t\t? `${result.join(path.delimiter)}${pathOption}`\n\t\t: [...result, pathOption].join(path.delimiter);\n};\n\nconst applyPreferLocal = (result, pathParts, cwdPath) => {\n\tfor (const directory of traversePathUp(cwdPath)) {\n\t\tconst pathPart = path.join(directory, 'node_modules/.bin');\n\t\tif (!pathParts.includes(pathPart)) {\n\t\t\tresult.push(pathPart);\n\t\t}\n\t}\n};\n\n// Ensure the running `node` binary is used\nconst applyExecPath = (result, pathParts, execPath, cwdPath) => {\n\tconst pathPart = path.resolve(cwdPath, toPath(execPath), '..');\n\tif (!pathParts.includes(pathPart)) {\n\t\tresult.push(pathPart);\n\t}\n};\n\nexport const npmRunPathEnv = ({env = process.env, ...options} = {}) => {\n\tenv = {...env};\n\n\tconst pathName = pathKey({env});\n\toptions.path = env[pathName];\n\tenv[pathName] = npmRunPath(options);\n\n\treturn env;\n};\n", "export default function pathKey(options = {}) {\n\tconst {\n\t\tenv = process.env,\n\t\tplatform = process.platform\n\t} = options;\n\n\tif (platform !== 'win32') {\n\t\treturn 'PATH';\n\t}\n\n\treturn Object.keys(env).reverse().find(key => key.toUpperCase() === 'PATH') || 'Path';\n}\n", "import {promisify} from 'node:util';\nimport {execFile as execFileCallback, execFileSync as execFileSyncOriginal} from 'node:child_process';\nimport path from 'node:path';\nimport {fileURLToPath} from 'node:url';\n\nconst execFileOriginal = promisify(execFileCallback);\n\nexport function toPath(urlOrPath) {\n\treturn urlOrPath instanceof URL ? fileURLToPath(urlOrPath) : urlOrPath;\n}\n\nexport function rootDirectory(pathInput) {\n\treturn path.parse(toPath(pathInput)).root;\n}\n\nexport function traversePathUp(startPath) {\n\treturn {\n\t\t* [Symbol.iterator]() {\n\t\t\tlet currentPath = path.resolve(toPath(startPath));\n\t\t\tlet previousPath;\n\n\t\t\twhile (previousPath !== currentPath) {\n\t\t\t\tyield currentPath;\n\t\t\t\tpreviousPath = currentPath;\n\t\t\t\tcurrentPath = path.resolve(currentPath, '..');\n\t\t\t}\n\t\t},\n\t};\n}\n\nconst TEN_MEGABYTES_IN_BYTES = 10 * 1024 * 1024;\n\nexport async function execFile(file, arguments_, options = {}) {\n\treturn execFileOriginal(file, arguments_, {\n\t\tmaxBuffer: TEN_MEGABYTES_IN_BYTES,\n\t\t...options,\n\t});\n}\n\nexport function execFileSync(file, arguments_ = [], options = {}) {\n\treturn execFileSyncOriginal(file, arguments_, {\n\t\tmaxBuffer: TEN_MEGABYTES_IN_BYTES,\n\t\tencoding: 'utf8',\n\t\tstdio: 'pipe',\n\t\t...options,\n\t});\n}\n\nexport * from './default.js';\n", "import {setTimeout} from 'node:timers/promises';\nimport {isErrorInstance} from '../return/final-error.js';\nimport {normalizeSignalArgument} from './signal.js';\n\n// Normalize the `forceKillAfterDelay` option\nexport const normalizeForceKillAfterDelay = forceKillAfterDelay => {\n\tif (forceKillAfterDelay === false) {\n\t\treturn forceKillAfterDelay;\n\t}\n\n\tif (forceKillAfterDelay === true) {\n\t\treturn DEFAULT_FORCE_KILL_TIMEOUT;\n\t}\n\n\tif (!Number.isFinite(forceKillAfterDelay) || forceKillAfterDelay < 0) {\n\t\tthrow new TypeError(`Expected the \\`forceKillAfterDelay\\` option to be a non-negative integer, got \\`${forceKillAfterDelay}\\` (${typeof forceKillAfterDelay})`);\n\t}\n\n\treturn forceKillAfterDelay;\n};\n\nconst DEFAULT_FORCE_KILL_TIMEOUT = 1000 * 5;\n\n// Monkey-patches `subprocess.kill()` to add `forceKillAfterDelay` behavior and `.kill(error)`\nexport const subprocessKill = (\n\t{kill, options: {forceKillAfterDelay, killSignal}, onInternalError, context, controller},\n\tsignalOrError,\n\terrorArgument,\n) => {\n\tconst {signal, error} = parseKillArguments(signalOrError, errorArgument, killSignal);\n\temitKillError(error, onInternalError);\n\tconst killResult = kill(signal);\n\tsetKillTimeout({\n\t\tkill,\n\t\tsignal,\n\t\tforceKillAfterDelay,\n\t\tkillSignal,\n\t\tkillResult,\n\t\tcontext,\n\t\tcontroller,\n\t});\n\treturn killResult;\n};\n\nconst parseKillArguments = (signalOrError, errorArgument, killSignal) => {\n\tconst [signal = killSignal, error] = isErrorInstance(signalOrError)\n\t\t? [undefined, signalOrError]\n\t\t: [signalOrError, errorArgument];\n\n\tif (typeof signal !== 'string' && !Number.isInteger(signal)) {\n\t\tthrow new TypeError(`The first argument must be an error instance or a signal name string/integer: ${String(signal)}`);\n\t}\n\n\tif (error !== undefined && !isErrorInstance(error)) {\n\t\tthrow new TypeError(`The second argument is optional. If specified, it must be an error instance: ${error}`);\n\t}\n\n\treturn {signal: normalizeSignalArgument(signal), error};\n};\n\n// Fails right away when calling `subprocess.kill(error)`.\n// Does not wait for actual signal termination.\n// Uses a deferred promise instead of the `error` event on the subprocess, as this is less intrusive.\nconst emitKillError = (error, onInternalError) => {\n\tif (error !== undefined) {\n\t\tonInternalError.reject(error);\n\t}\n};\n\nconst setKillTimeout = async ({kill, signal, forceKillAfterDelay, killSignal, killResult, context, controller}) => {\n\tif (signal === killSignal && killResult) {\n\t\tkillOnTimeout({\n\t\t\tkill,\n\t\t\tforceKillAfterDelay,\n\t\t\tcontext,\n\t\t\tcontrollerSignal: controller.signal,\n\t\t});\n\t}\n};\n\n// Forcefully terminate a subprocess after a timeout\nexport const killOnTimeout = async ({kill, forceKillAfterDelay, context, controllerSignal}) => {\n\tif (forceKillAfterDelay === false) {\n\t\treturn;\n\t}\n\n\ttry {\n\t\tawait setTimeout(forceKillAfterDelay, undefined, {signal: controllerSignal});\n\t\tif (kill('SIGKILL')) {\n\t\t\tcontext.isForcefullyTerminated ??= true;\n\t\t}\n\t} catch {}\n};\n", "// When the subprocess fails, this is the error instance being returned.\n// If another error instance is being thrown, it is kept as `error.cause`.\nexport const getFinalError = (originalError, message, isSync) => {\n\tconst ErrorClass = isSync ? ExecaSyncError : ExecaError;\n\tconst options = originalError instanceof DiscardedError ? {} : {cause: originalError};\n\treturn new ErrorClass(message, options);\n};\n\n// Indicates that the error is used only to interrupt control flow, but not in the return value\nexport class DiscardedError extends Error {}\n\n// Proper way to set `error.name`: it should be inherited and non-enumerable\nconst setErrorName = (ErrorClass, value) => {\n\tObject.defineProperty(ErrorClass.prototype, 'name', {\n\t\tvalue,\n\t\twritable: true,\n\t\tenumerable: false,\n\t\tconfigurable: true,\n\t});\n\tObject.defineProperty(ErrorClass.prototype, execaErrorSymbol, {\n\t\tvalue: true,\n\t\twritable: false,\n\t\tenumerable: false,\n\t\tconfigurable: false,\n\t});\n};\n\n// Unlike `instanceof`, this works across realms\nexport const isExecaError = error => isErrorInstance(error) && execaErrorSymbol in error;\n\nconst execaErrorSymbol = Symbol('isExecaError');\n\nexport const isErrorInstance = value => Object.prototype.toString.call(value) === '[object Error]';\n\n// We use two different Error classes for async/sync methods since they have slightly different shape and types\nexport class ExecaError extends Error {}\nsetErrorName(ExecaError, ExecaError.name);\n\nexport class ExecaSyncError extends Error {}\nsetErrorName(ExecaSyncError, ExecaSyncError.name);\n", "import {constants} from 'node:os';\nimport {signalsByName} from 'human-signals';\n\n// Normalize signals for comparison purpose.\n// Also validate the signal exists.\nexport const normalizeKillSignal = killSignal => {\n\tconst optionName = 'option `killSignal`';\n\tif (killSignal === 0) {\n\t\tthrow new TypeError(`Invalid ${optionName}: 0 cannot be used.`);\n\t}\n\n\treturn normalizeSignal(killSignal, optionName);\n};\n\nexport const normalizeSignalArgument = signal => signal === 0\n\t? signal\n\t: normalizeSignal(signal, '`subprocess.kill()`\\'s argument');\n\nconst normalizeSignal = (signalNameOrInteger, optionName) => {\n\tif (Number.isInteger(signalNameOrInteger)) {\n\t\treturn normalizeSignalInteger(signalNameOrInteger, optionName);\n\t}\n\n\tif (typeof signalNameOrInteger === 'string') {\n\t\treturn normalizeSignalName(signalNameOrInteger, optionName);\n\t}\n\n\tthrow new TypeError(`Invalid ${optionName} ${String(signalNameOrInteger)}: it must be a string or an integer.\\n${getAvailableSignals()}`);\n};\n\nconst normalizeSignalInteger = (signalInteger, optionName) => {\n\tif (signalsIntegerToName.has(signalInteger)) {\n\t\treturn signalsIntegerToName.get(signalInteger);\n\t}\n\n\tthrow new TypeError(`Invalid ${optionName} ${signalInteger}: this signal integer does not exist.\\n${getAvailableSignals()}`);\n};\n\nconst getSignalsIntegerToName = () => new Map(Object.entries(constants.signals)\n\t.reverse()\n\t.map(([signalName, signalInteger]) => [signalInteger, signalName]));\n\nconst signalsIntegerToName = getSignalsIntegerToName();\n\nconst normalizeSignalName = (signalName, optionName) => {\n\tif (signalName in constants.signals) {\n\t\treturn signalName;\n\t}\n\n\tif (signalName.toUpperCase() in constants.signals) {\n\t\tthrow new TypeError(`Invalid ${optionName} '${signalName}': please rename it to '${signalName.toUpperCase()}'.`);\n\t}\n\n\tthrow new TypeError(`Invalid ${optionName} '${signalName}': this signal name does not exist.\\n${getAvailableSignals()}`);\n};\n\nconst getAvailableSignals = () => `Available signal names: ${getAvailableSignalNames()}.\nAvailable signal numbers: ${getAvailableSignalIntegers()}.`;\n\nconst getAvailableSignalNames = () => Object.keys(constants.signals)\n\t.sort()\n\t.map(signalName => `'${signalName}'`)\n\t.join(', ');\n\nconst getAvailableSignalIntegers = () => [...new Set(Object.values(constants.signals)\n\t.sort((signalInteger, signalIntegerTwo) => signalInteger - signalIntegerTwo))]\n\t.join(', ');\n\n// Human-friendly description of a signal\nexport const getSignalDescription = signal => signalsByName[signal].description;\n", "import{constants}from\"node:os\";\n\nimport{SIGRTMAX}from\"./realtime.js\";\nimport{getSignals}from\"./signals.js\";\n\n\n\nconst getSignalsByName=()=>{\nconst signals=getSignals();\nreturn Object.fromEntries(signals.map(getSignalByName))\n};\n\nconst getSignalByName=({\nname,\nnumber,\ndescription,\nsupported,\naction,\nforced,\nstandard\n})=>[name,{name,number,description,supported,action,forced,standard}];\n\nexport const signalsByName=getSignalsByName();\n\n\n\n\nconst getSignalsByNumber=()=>{\nconst signals=getSignals();\nconst length=SIGRTMAX+1;\nconst signalsA=Array.from({length},(value,number)=>\ngetSignalByNumber(number,signals)\n);\nreturn Object.assign({},...signalsA)\n};\n\nconst getSignalByNumber=(number,signals)=>{\nconst signal=findSignalByNumber(number,signals);\n\nif(signal===undefined){\nreturn{}\n}\n\nconst{name,description,supported,action,forced,standard}=signal;\nreturn{\n[number]:{\nname,\nnumber,\ndescription,\nsupported,\naction,\nforced,\nstandard\n}\n}\n};\n\n\n\nconst findSignalByNumber=(number,signals)=>{\nconst signal=signals.find(({name})=>constants.signals[name]===number);\n\nif(signal!==undefined){\nreturn signal\n}\n\nreturn signals.find((signalA)=>signalA.number===number)\n};\n\nexport const signalsByNumber=getSignalsByNumber();", "\nexport const getRealtimeSignals=()=>{\nconst length=SIGRTMAX-SIGRTMIN+1;\nreturn Array.from({length},getRealtimeSignal)\n};\n\nconst getRealtimeSignal=(value,index)=>({\nname:`SIGRT${index+1}`,\nnumber:SIGRTMIN+index,\naction:\"terminate\",\ndescription:\"Application-specific signal (realtime)\",\nstandard:\"posix\"\n});\n\nconst SIGRTMIN=34;\nexport const SIGRTMAX=64;", "import{constants}from\"node:os\";\n\nimport{SIGNALS}from\"./core.js\";\nimport{getRealtimeSignals}from\"./realtime.js\";\n\n\n\nexport const getSignals=()=>{\nconst realtimeSignals=getRealtimeSignals();\nconst signals=[...SIGNALS,...realtimeSignals].map(normalizeSignal);\nreturn signals\n};\n\n\n\n\n\n\n\nconst normalizeSignal=({\nname,\nnumber:defaultNumber,\ndescription,\naction,\nforced=false,\nstandard\n})=>{\nconst{\nsignals:{[name]:constantSignal}\n}=constants;\nconst supported=constantSignal!==undefined;\nconst number=supported?constantSignal:defaultNumber;\nreturn{name,number,description,supported,action,forced,standard}\n};", "\n\nexport const SIGNALS=[\n{\nname:\"SIGHUP\",\nnumber:1,\naction:\"terminate\",\ndescription:\"Terminal closed\",\nstandard:\"posix\"\n},\n{\nname:\"SIGINT\",\nnumber:2,\naction:\"terminate\",\ndescription:\"User interruption with CTRL-C\",\nstandard:\"ansi\"\n},\n{\nname:\"SIGQUIT\",\nnumber:3,\naction:\"core\",\ndescription:\"User interruption with CTRL-\\\\\",\nstandard:\"posix\"\n},\n{\nname:\"SIGILL\",\nnumber:4,\naction:\"core\",\ndescription:\"Invalid machine instruction\",\nstandard:\"ansi\"\n},\n{\nname:\"SIGTRAP\",\nnumber:5,\naction:\"core\",\ndescription:\"Debugger breakpoint\",\nstandard:\"posix\"\n},\n{\nname:\"SIGABRT\",\nnumber:6,\naction:\"core\",\ndescription:\"Aborted\",\nstandard:\"ansi\"\n},\n{\nname:\"SIGIOT\",\nnumber:6,\naction:\"core\",\ndescription:\"Aborted\",\nstandard:\"bsd\"\n},\n{\nname:\"SIGBUS\",\nnumber:7,\naction:\"core\",\ndescription:\n\"Bus error due to misaligned, non-existing address or paging error\",\nstandard:\"bsd\"\n},\n{\nname:\"SIGEMT\",\nnumber:7,\naction:\"terminate\",\ndescription:\"Command should be emulated but is not implemented\",\nstandard:\"other\"\n},\n{\nname:\"SIGFPE\",\nnumber:8,\naction:\"core\",\ndescription:\"Floating point arithmetic error\",\nstandard:\"ansi\"\n},\n{\nname:\"SIGKILL\",\nnumber:9,\naction:\"terminate\",\ndescription:\"Forced termination\",\nstandard:\"posix\",\nforced:true\n},\n{\nname:\"SIGUSR1\",\nnumber:10,\naction:\"terminate\",\ndescription:\"Application-specific signal\",\nstandard:\"posix\"\n},\n{\nname:\"SIGSEGV\",\nnumber:11,\naction:\"core\",\ndescription:\"Segmentation fault\",\nstandard:\"ansi\"\n},\n{\nname:\"SIGUSR2\",\nnumber:12,\naction:\"terminate\",\ndescription:\"Application-specific signal\",\nstandard:\"posix\"\n},\n{\nname:\"SIGPIPE\",\nnumber:13,\naction:\"terminate\",\ndescription:\"Broken pipe or socket\",\nstandard:\"posix\"\n},\n{\nname:\"SIGALRM\",\nnumber:14,\naction:\"terminate\",\ndescription:\"Timeout or timer\",\nstandard:\"posix\"\n},\n{\nname:\"SIGTERM\",\nnumber:15,\naction:\"terminate\",\ndescription:\"Termination\",\nstandard:\"ansi\"\n},\n{\nname:\"SIGSTKFLT\",\nnumber:16,\naction:\"terminate\",\ndescription:\"Stack is empty or overflowed\",\nstandard:\"other\"\n},\n{\nname:\"SIGCHLD\",\nnumber:17,\naction:\"ignore\",\ndescription:\"Child process terminated, paused or unpaused\",\nstandard:\"posix\"\n},\n{\nname:\"SIGCLD\",\nnumber:17,\naction:\"ignore\",\ndescription:\"Child process terminated, paused or unpaused\",\nstandard:\"other\"\n},\n{\nname:\"SIGCONT\",\nnumber:18,\naction:\"unpause\",\ndescription:\"Unpaused\",\nstandard:\"posix\",\nforced:true\n},\n{\nname:\"SIGSTOP\",\nnumber:19,\naction:\"pause\",\ndescription:\"Paused\",\nstandard:\"posix\",\nforced:true\n},\n{\nname:\"SIGTSTP\",\nnumber:20,\naction:\"pause\",\ndescription:\"Paused using CTRL-Z or \\\"suspend\\\"\",\nstandard:\"posix\"\n},\n{\nname:\"SIGTTIN\",\nnumber:21,\naction:\"pause\",\ndescription:\"Background process cannot read terminal input\",\nstandard:\"posix\"\n},\n{\nname:\"SIGBREAK\",\nnumber:21,\naction:\"terminate\",\ndescription:\"User interruption with CTRL-BREAK\",\nstandard:\"other\"\n},\n{\nname:\"SIGTTOU\",\nnumber:22,\naction:\"pause\",\ndescription:\"Background process cannot write to terminal output\",\nstandard:\"posix\"\n},\n{\nname:\"SIGURG\",\nnumber:23,\naction:\"ignore\",\ndescription:\"Socket received out-of-band data\",\nstandard:\"bsd\"\n},\n{\nname:\"SIGXCPU\",\nnumber:24,\naction:\"core\",\ndescription:\"Process timed out\",\nstandard:\"bsd\"\n},\n{\nname:\"SIGXFSZ\",\nnumber:25,\naction:\"core\",\ndescription:\"File too big\",\nstandard:\"bsd\"\n},\n{\nname:\"SIGVTALRM\",\nnumber:26,\naction:\"terminate\",\ndescription:\"Timeout or timer\",\nstandard:\"bsd\"\n},\n{\nname:\"SIGPROF\",\nnumber:27,\naction:\"terminate\",\ndescription:\"Timeout or timer\",\nstandard:\"bsd\"\n},\n{\nname:\"SIGWINCH\",\nnumber:28,\naction:\"ignore\",\ndescription:\"Terminal window size changed\",\nstandard:\"bsd\"\n},\n{\nname:\"SIGIO\",\nnumber:29,\naction:\"terminate\",\ndescription:\"I/O is available\",\nstandard:\"other\"\n},\n{\nname:\"SIGPOLL\",\nnumber:29,\naction:\"terminate\",\ndescription:\"Watched event\",\nstandard:\"other\"\n},\n{\nname:\"SIGINFO\",\nnumber:29,\naction:\"ignore\",\ndescription:\"Request for process information\",\nstandard:\"other\"\n},\n{\nname:\"SIGPWR\",\nnumber:30,\naction:\"terminate\",\ndescription:\"Device running out of power\",\nstandard:\"systemv\"\n},\n{\nname:\"SIGSYS\",\nnumber:31,\naction:\"core\",\ndescription:\"Invalid system call\",\nstandard:\"other\"\n},\n{\nname:\"SIGUNUSED\",\nnumber:31,\naction:\"terminate\",\ndescription:\"Invalid system call\",\nstandard:\"other\"\n}];", "import {once} from 'node:events';\n\n// Combines `util.aborted()` and `events.addAbortListener()`: promise-based and cleaned up with a stop signal\nexport const onAbortedSignal = async (mainSignal, stopSignal) => {\n\tif (!mainSignal.aborted) {\n\t\tawait once(mainSignal, 'abort', {signal: stopSignal});\n\t}\n};\n", "import {onAbortedSignal} from '../utils/abort-signal.js';\n\n// Validate the `cancelSignal` option\nexport const validateCancelSignal = ({cancelSignal}) => {\n\tif (cancelSignal !== undefined && Object.prototype.toString.call(cancelSignal) !== '[object AbortSignal]') {\n\t\tthrow new Error(`The \\`cancelSignal\\` option must be an AbortSignal: ${String(cancelSignal)}`);\n\t}\n};\n\n// Terminate the subprocess when aborting the `cancelSignal` option and `gracefulSignal` is `false`\nexport const throwOnCancel = ({subprocess, cancelSignal, gracefulCancel, context, controller}) => cancelSignal === undefined || gracefulCancel\n\t? []\n\t: [terminateOnCancel(subprocess, cancelSignal, context, controller)];\n\nconst terminateOnCancel = async (subprocess, cancelSignal, context, {signal}) => {\n\tawait onAbortedSignal(cancelSignal, signal);\n\tcontext.terminationReason ??= 'cancel';\n\tsubprocess.kill();\n\tthrow cancelSignal.reason;\n};\n", "import {scheduler} from 'node:timers/promises';\nimport {sendOneMessage} from './send.js';\nimport {getIpcEmitter} from './forward.js';\nimport {validateConnection, getAbortDisconnectError, throwOnMissingParent} from './validation.js';\n\n// Send an IPC message so the subprocess performs a graceful termination\nexport const sendAbort = (subprocess, message) => {\n\tconst methodName = 'cancelSignal';\n\tvalidateConnection(methodName, false, subprocess.connected);\n\treturn sendOneMessage({\n\t\tanyProcess: subprocess,\n\t\tmethodName,\n\t\tisSubprocess: false,\n\t\twrappedMessage: {type: GRACEFUL_CANCEL_TYPE, message},\n\t\tmessage,\n\t});\n};\n\n// When the signal is being used, start listening for incoming messages.\n// Unbuffering messages takes one microtask to complete, so this must be async.\nexport const getCancelSignal = async ({anyProcess, channel, isSubprocess, ipc}) => {\n\tawait startIpc({\n\t\tanyProcess,\n\t\tchannel,\n\t\tisSubprocess,\n\t\tipc,\n\t});\n\treturn cancelController.signal;\n};\n\nconst startIpc = async ({anyProcess, channel, isSubprocess, ipc}) => {\n\tif (cancelListening) {\n\t\treturn;\n\t}\n\n\tcancelListening = true;\n\n\tif (!ipc) {\n\t\tthrowOnMissingParent();\n\t\treturn;\n\t}\n\n\tif (channel === null) {\n\t\tabortOnDisconnect();\n\t\treturn;\n\t}\n\n\tgetIpcEmitter(anyProcess, channel, isSubprocess);\n\tawait scheduler.yield();\n};\n\nlet cancelListening = false;\n\n// Reception of IPC message to perform a graceful termination\nexport const handleAbort = wrappedMessage => {\n\tif (wrappedMessage?.type !== GRACEFUL_CANCEL_TYPE) {\n\t\treturn false;\n\t}\n\n\tcancelController.abort(wrappedMessage.message);\n\treturn true;\n};\n\nconst GRACEFUL_CANCEL_TYPE = 'execa:ipc:cancel';\n\n// When the current process disconnects early, the subprocess `cancelSignal` is aborted.\n// Otherwise, the signal would never be able to be aborted later on.\nexport const abortOnDisconnect = () => {\n\tcancelController.abort(getAbortDisconnectError());\n};\n\nconst cancelController = new AbortController();\n", "import {promisify} from 'node:util';\nimport {\n\tvalidateIpcMethod,\n\thandleEpipeError,\n\thandleSerializationError,\n\tdisconnect,\n} from './validation.js';\nimport {startSendMessage, endSendMessage} from './outgoing.js';\nimport {handleSendStrict, waitForStrictResponse} from './strict.js';\n\n// Like `[sub]process.send()` but promise-based.\n// We do not `await subprocess` during `.sendMessage()` nor `.getOneMessage()` since those methods are transient.\n// Users would still need to `await subprocess` after the method is done.\n// Also, this would prevent `unhandledRejection` event from being emitted, making it silent.\nexport const sendMessage = ({anyProcess, channel, isSubprocess, ipc}, message, {strict = false} = {}) => {\n\tconst methodName = 'sendMessage';\n\tvalidateIpcMethod({\n\t\tmethodName,\n\t\tisSubprocess,\n\t\tipc,\n\t\tisConnected: anyProcess.connected,\n\t});\n\n\treturn sendMessageAsync({\n\t\tanyProcess,\n\t\tchannel,\n\t\tmethodName,\n\t\tisSubprocess,\n\t\tmessage,\n\t\tstrict,\n\t});\n};\n\nconst sendMessageAsync = async ({anyProcess, channel, methodName, isSubprocess, message, strict}) => {\n\tconst wrappedMessage = handleSendStrict({\n\t\tanyProcess,\n\t\tchannel,\n\t\tisSubprocess,\n\t\tmessage,\n\t\tstrict,\n\t});\n\tconst outgoingMessagesState = startSendMessage(anyProcess, wrappedMessage, strict);\n\ttry {\n\t\tawait sendOneMessage({\n\t\t\tanyProcess,\n\t\t\tmethodName,\n\t\t\tisSubprocess,\n\t\t\twrappedMessage,\n\t\t\tmessage,\n\t\t});\n\t} catch (error) {\n\t\tdisconnect(anyProcess);\n\t\tthrow error;\n\t} finally {\n\t\tendSendMessage(outgoingMessagesState);\n\t}\n};\n\n// Used internally by `cancelSignal`\nexport const sendOneMessage = async ({anyProcess, methodName, isSubprocess, wrappedMessage, message}) => {\n\tconst sendMethod = getSendMethod(anyProcess);\n\n\ttry {\n\t\tawait Promise.all([\n\t\t\twaitForStrictResponse(wrappedMessage, anyProcess, isSubprocess),\n\t\t\tsendMethod(wrappedMessage),\n\t\t]);\n\t} catch (error) {\n\t\thandleEpipeError({error, methodName, isSubprocess});\n\t\thandleSerializationError({\n\t\t\terror,\n\t\t\tmethodName,\n\t\t\tisSubprocess,\n\t\t\tmessage,\n\t\t});\n\t\tthrow error;\n\t}\n};\n\n// [sub]process.send() promisified, memoized\nconst getSendMethod = anyProcess => {\n\tif (PROCESS_SEND_METHODS.has(anyProcess)) {\n\t\treturn PROCESS_SEND_METHODS.get(anyProcess);\n\t}\n\n\tconst sendMethod = promisify(anyProcess.send.bind(anyProcess));\n\tPROCESS_SEND_METHODS.set(anyProcess, sendMethod);\n\treturn sendMethod;\n};\n\nconst PROCESS_SEND_METHODS = new WeakMap();\n", "// Validate the IPC channel is connected before receiving/sending messages\nexport const validateIpcMethod = ({methodName, isSubprocess, ipc, isConnected}) => {\n\tvalidateIpcOption(methodName, isSubprocess, ipc);\n\tvalidateConnection(methodName, isSubprocess, isConnected);\n};\n\n// Better error message when forgetting to set `ipc: true` and using the IPC methods\nconst validateIpcOption = (methodName, isSubprocess, ipc) => {\n\tif (!ipc) {\n\t\tthrow new Error(`${getMethodName(methodName, isSubprocess)} can only be used if the \\`ipc\\` option is \\`true\\`.`);\n\t}\n};\n\n// Better error message when one process does not send/receive messages once the other process has disconnected.\n// This also makes it clear that any buffered messages are lost once either process has disconnected.\n// Also when aborting `cancelSignal` after disconnecting the IPC.\nexport const validateConnection = (methodName, isSubprocess, isConnected) => {\n\tif (!isConnected) {\n\t\tthrow new Error(`${getMethodName(methodName, isSubprocess)} cannot be used: the ${getOtherProcessName(isSubprocess)} has already exited or disconnected.`);\n\t}\n};\n\n// When `getOneMessage()` could not complete due to an early disconnection\nexport const throwOnEarlyDisconnect = isSubprocess => {\n\tthrow new Error(`${getMethodName('getOneMessage', isSubprocess)} could not complete: the ${getOtherProcessName(isSubprocess)} exited or disconnected.`);\n};\n\n// When both processes use `sendMessage()` with `strict` at the same time\nexport const throwOnStrictDeadlockError = isSubprocess => {\n\tthrow new Error(`${getMethodName('sendMessage', isSubprocess)} failed: the ${getOtherProcessName(isSubprocess)} is sending a message too, instead of listening to incoming messages.\nThis can be fixed by both sending a message and listening to incoming messages at the same time:\n\nconst [receivedMessage] = await Promise.all([\n\t${getMethodName('getOneMessage', isSubprocess)},\n\t${getMethodName('sendMessage', isSubprocess, 'message, {strict: true}')},\n]);`);\n};\n\n// When the other process used `strict` but the current process had I/O error calling `sendMessage()` for the response\nexport const getStrictResponseError = (error, isSubprocess) => new Error(`${getMethodName('sendMessage', isSubprocess)} failed when sending an acknowledgment response to the ${getOtherProcessName(isSubprocess)}.`, {cause: error});\n\n// When using `strict` but the other process was not listening for messages\nexport const throwOnMissingStrict = isSubprocess => {\n\tthrow new Error(`${getMethodName('sendMessage', isSubprocess)} failed: the ${getOtherProcessName(isSubprocess)} is not listening to incoming messages.`);\n};\n\n// When using `strict` but the other process disconnected before receiving the message\nexport const throwOnStrictDisconnect = isSubprocess => {\n\tthrow new Error(`${getMethodName('sendMessage', isSubprocess)} failed: the ${getOtherProcessName(isSubprocess)} exited without listening to incoming messages.`);\n};\n\n// When the current process disconnects while the subprocess is listening to `cancelSignal`\nexport const getAbortDisconnectError = () => new Error(`\\`cancelSignal\\` aborted: the ${getOtherProcessName(true)} disconnected.`);\n\n// When the subprocess uses `cancelSignal` but not the current process\nexport const throwOnMissingParent = () => {\n\tthrow new Error('`getCancelSignal()` cannot be used without setting the `cancelSignal` subprocess option.');\n};\n\n// EPIPE can happen when sending a message to a subprocess that is closing but has not disconnected yet\nexport const handleEpipeError = ({error, methodName, isSubprocess}) => {\n\tif (error.code === 'EPIPE') {\n\t\tthrow new Error(`${getMethodName(methodName, isSubprocess)} cannot be used: the ${getOtherProcessName(isSubprocess)} is disconnecting.`, {cause: error});\n\t}\n};\n\n// Better error message when sending messages which cannot be serialized.\n// Works with both `serialization: 'advanced'` and `serialization: 'json'`.\nexport const handleSerializationError = ({error, methodName, isSubprocess, message}) => {\n\tif (isSerializationError(error)) {\n\t\tthrow new Error(`${getMethodName(methodName, isSubprocess)}'s argument type is invalid: the message cannot be serialized: ${String(message)}.`, {cause: error});\n\t}\n};\n\nconst isSerializationError = ({code, message}) => SERIALIZATION_ERROR_CODES.has(code)\n\t|| SERIALIZATION_ERROR_MESSAGES.some(serializationErrorMessage => message.includes(serializationErrorMessage));\n\n// `error.code` set by Node.js when it failed to serialize the message\nconst SERIALIZATION_ERROR_CODES = new Set([\n\t// Message is `undefined`\n\t'ERR_MISSING_ARGS',\n\t// Message is a function, a bigint, a symbol\n\t'ERR_INVALID_ARG_TYPE',\n]);\n\n// `error.message` set by Node.js when it failed to serialize the message\nconst SERIALIZATION_ERROR_MESSAGES = [\n\t// Message is a promise or a proxy, with `serialization: 'advanced'`\n\t'could not be cloned',\n\t// Message has cycles, with `serialization: 'json'`\n\t'circular structure',\n\t// Message has cycles inside toJSON(), with `serialization: 'json'`\n\t'call stack size exceeded',\n];\n\nconst getMethodName = (methodName, isSubprocess, parameters = '') => methodName === 'cancelSignal'\n\t? '`cancelSignal`\\'s `controller.abort()`'\n\t: `${getNamespaceName(isSubprocess)}${methodName}(${parameters})`;\n\nconst getNamespaceName = isSubprocess => isSubprocess ? '' : 'subprocess.';\n\nconst getOtherProcessName = isSubprocess => isSubprocess ? 'parent process' : 'subprocess';\n\n// When any error arises, we disconnect the IPC.\n// Otherwise, it is likely that one of the processes will stop sending/receiving messages.\n// This would leave the other process hanging.\nexport const disconnect = anyProcess => {\n\tif (anyProcess.connected) {\n\t\tanyProcess.disconnect();\n\t}\n};\n", "export const createDeferred = () => {\n\tconst methods = {};\n\tconst promise = new Promise((resolve, reject) => {\n\t\tObject.assign(methods, {resolve, reject});\n\t});\n\treturn Object.assign(promise, methods);\n};\n", "import {parseFd} from './specific.js';\n\n// Retrieve stream targeted by the `to` option\nexport const getToStream = (destination, to = 'stdin') => {\n\tconst isWritable = true;\n\tconst {options, fileDescriptors} = SUBPROCESS_OPTIONS.get(destination);\n\tconst fdNumber = getFdNumber(fileDescriptors, to, isWritable);\n\tconst destinationStream = destination.stdio[fdNumber];\n\n\tif (destinationStream === null) {\n\t\tthrow new TypeError(getInvalidStdioOptionMessage(fdNumber, to, options, isWritable));\n\t}\n\n\treturn destinationStream;\n};\n\n// Retrieve stream targeted by the `from` option\nexport const getFromStream = (source, from = 'stdout') => {\n\tconst isWritable = false;\n\tconst {options, fileDescriptors} = SUBPROCESS_OPTIONS.get(source);\n\tconst fdNumber = getFdNumber(fileDescriptors, from, isWritable);\n\tconst sourceStream = fdNumber === 'all' ? source.all : source.stdio[fdNumber];\n\n\tif (sourceStream === null || sourceStream === undefined) {\n\t\tthrow new TypeError(getInvalidStdioOptionMessage(fdNumber, from, options, isWritable));\n\t}\n\n\treturn sourceStream;\n};\n\n// Keeps track of the options passed to each Execa call\nexport const SUBPROCESS_OPTIONS = new WeakMap();\n\nconst getFdNumber = (fileDescriptors, fdName, isWritable) => {\n\tconst fdNumber = parseFdNumber(fdName, isWritable);\n\tvalidateFdNumber(fdNumber, fdName, isWritable, fileDescriptors);\n\treturn fdNumber;\n};\n\nconst parseFdNumber = (fdName, isWritable) => {\n\tconst fdNumber = parseFd(fdName);\n\tif (fdNumber !== undefined) {\n\t\treturn fdNumber;\n\t}\n\n\tconst {validOptions, defaultValue} = isWritable\n\t\t? {validOptions: '\"stdin\"', defaultValue: 'stdin'}\n\t\t: {validOptions: '\"stdout\", \"stderr\", \"all\"', defaultValue: 'stdout'};\n\tthrow new TypeError(`\"${getOptionName(isWritable)}\" must not be \"${fdName}\".\nIt must be ${validOptions} or \"fd3\", \"fd4\" (and so on).\nIt is optional and defaults to \"${defaultValue}\".`);\n};\n\nconst validateFdNumber = (fdNumber, fdName, isWritable, fileDescriptors) => {\n\tconst fileDescriptor = fileDescriptors[getUsedDescriptor(fdNumber)];\n\tif (fileDescriptor === undefined) {\n\t\tthrow new TypeError(`\"${getOptionName(isWritable)}\" must not be ${fdName}. That file descriptor does not exist.\nPlease set the \"stdio\" option to ensure that file descriptor exists.`);\n\t}\n\n\tif (fileDescriptor.direction === 'input' && !isWritable) {\n\t\tthrow new TypeError(`\"${getOptionName(isWritable)}\" must not be ${fdName}. It must be a readable stream, not writable.`);\n\t}\n\n\tif (fileDescriptor.direction !== 'input' && isWritable) {\n\t\tthrow new TypeError(`\"${getOptionName(isWritable)}\" must not be ${fdName}. It must be a writable stream, not readable.`);\n\t}\n};\n\nconst getInvalidStdioOptionMessage = (fdNumber, fdName, options, isWritable) => {\n\tif (fdNumber === 'all' && !options.all) {\n\t\treturn 'The \"all\" option must be true to use \"from: \\'all\\'\".';\n\t}\n\n\tconst {optionName, optionValue} = getInvalidStdioOption(fdNumber, options);\n\treturn `The \"${optionName}: ${serializeOptionValue(optionValue)}\" option is incompatible with using \"${getOptionName(isWritable)}: ${serializeOptionValue(fdName)}\".\nPlease set this option with \"pipe\" instead.`;\n};\n\nconst getInvalidStdioOption = (fdNumber, {stdin, stdout, stderr, stdio}) => {\n\tconst usedDescriptor = getUsedDescriptor(fdNumber);\n\n\tif (usedDescriptor === 0 && stdin !== undefined) {\n\t\treturn {optionName: 'stdin', optionValue: stdin};\n\t}\n\n\tif (usedDescriptor === 1 && stdout !== undefined) {\n\t\treturn {optionName: 'stdout', optionValue: stdout};\n\t}\n\n\tif (usedDescriptor === 2 && stderr !== undefined) {\n\t\treturn {optionName: 'stderr', optionValue: stderr};\n\t}\n\n\treturn {optionName: `stdio[${usedDescriptor}]`, optionValue: stdio[usedDescriptor]};\n};\n\nconst getUsedDescriptor = fdNumber => fdNumber === 'all' ? 1 : fdNumber;\n\nconst getOptionName = isWritable => isWritable ? 'to' : 'from';\n\nexport const serializeOptionValue = value => {\n\tif (typeof value === 'string') {\n\t\treturn `'${value}'`;\n\t}\n\n\treturn typeof value === 'number' ? `${value}` : 'Stream';\n};\n", "import {once} from 'node:events';\nimport {createDeferred} from '../utils/deferred.js';\nimport {incrementMaxListeners} from '../utils/max-listeners.js';\nimport {sendMessage} from './send.js';\nimport {throwOnMissingStrict, throwOnStrictDisconnect, throwOnStrictDeadlockError} from './validation.js';\nimport {getIpcEmitter} from './forward.js';\nimport {hasMessageListeners} from './outgoing.js';\n\n// When using the `strict` option, wrap the message with metadata during `sendMessage()`\nexport const handleSendStrict = ({anyProcess, channel, isSubprocess, message, strict}) => {\n\tif (!strict) {\n\t\treturn message;\n\t}\n\n\tconst ipcEmitter = getIpcEmitter(anyProcess, channel, isSubprocess);\n\tconst hasListeners = hasMessageListeners(anyProcess, ipcEmitter);\n\treturn {\n\t\tid: count++,\n\t\ttype: REQUEST_TYPE,\n\t\tmessage,\n\t\thasListeners,\n\t};\n};\n\nlet count = 0n;\n\n// Handles when both processes are calling `sendMessage()` with `strict` at the same time.\n// If neither process is listening, this would create a deadlock. We detect it and throw.\nexport const validateStrictDeadlock = (outgoingMessages, wrappedMessage) => {\n\tif (wrappedMessage?.type !== REQUEST_TYPE || wrappedMessage.hasListeners) {\n\t\treturn;\n\t}\n\n\tfor (const {id} of outgoingMessages) {\n\t\tif (id !== undefined) {\n\t\t\tSTRICT_RESPONSES[id].resolve({isDeadlock: true, hasListeners: false});\n\t\t}\n\t}\n};\n\n// The other process then sends the acknowledgment back as a response\nexport const handleStrictRequest = async ({wrappedMessage, anyProcess, channel, isSubprocess, ipcEmitter}) => {\n\tif (wrappedMessage?.type !== REQUEST_TYPE || !anyProcess.connected) {\n\t\treturn wrappedMessage;\n\t}\n\n\tconst {id, message} = wrappedMessage;\n\tconst response = {id, type: RESPONSE_TYPE, message: hasMessageListeners(anyProcess, ipcEmitter)};\n\n\ttry {\n\t\tawait sendMessage({\n\t\t\tanyProcess,\n\t\t\tchannel,\n\t\t\tisSubprocess,\n\t\t\tipc: true,\n\t\t}, response);\n\t} catch (error) {\n\t\tipcEmitter.emit('strict:error', error);\n\t}\n\n\treturn message;\n};\n\n// Reception of the acknowledgment response\nexport const handleStrictResponse = wrappedMessage => {\n\tif (wrappedMessage?.type !== RESPONSE_TYPE) {\n\t\treturn false;\n\t}\n\n\tconst {id, message: hasListeners} = wrappedMessage;\n\tSTRICT_RESPONSES[id]?.resolve({isDeadlock: false, hasListeners});\n\treturn true;\n};\n\n// Wait for the other process to receive the message from `sendMessage()`\nexport const waitForStrictResponse = async (wrappedMessage, anyProcess, isSubprocess) => {\n\tif (wrappedMessage?.type !== REQUEST_TYPE) {\n\t\treturn;\n\t}\n\n\tconst deferred = createDeferred();\n\tSTRICT_RESPONSES[wrappedMessage.id] = deferred;\n\tconst controller = new AbortController();\n\n\ttry {\n\t\tconst {isDeadlock, hasListeners} = await Promise.race([\n\t\t\tdeferred,\n\t\t\tthrowOnDisconnect(anyProcess, isSubprocess, controller),\n\t\t]);\n\n\t\tif (isDeadlock) {\n\t\t\tthrowOnStrictDeadlockError(isSubprocess);\n\t\t}\n\n\t\tif (!hasListeners) {\n\t\t\tthrowOnMissingStrict(isSubprocess);\n\t\t}\n\t} finally {\n\t\tcontroller.abort();\n\t\tdelete STRICT_RESPONSES[wrappedMessage.id];\n\t}\n};\n\nconst STRICT_RESPONSES = {};\n\nconst throwOnDisconnect = async (anyProcess, isSubprocess, {signal}) => {\n\tincrementMaxListeners(anyProcess, 1, signal);\n\tawait once(anyProcess, 'disconnect', {signal});\n\tthrowOnStrictDisconnect(isSubprocess);\n};\n\nconst REQUEST_TYPE = 'execa:ipc:request';\nconst RESPONSE_TYPE = 'execa:ipc:response';\n", "import {addAbortListener} from 'node:events';\n\n// Temporarily increase the maximum number of listeners on an eventEmitter\nexport const incrementMaxListeners = (eventEmitter, maxListenersIncrement, signal) => {\n\tconst maxListeners = eventEmitter.getMaxListeners();\n\tif (maxListeners === 0 || maxListeners === Number.POSITIVE_INFINITY) {\n\t\treturn;\n\t}\n\n\teventEmitter.setMaxListeners(maxListeners + maxListenersIncrement);\n\taddAbortListener(signal, () => {\n\t\teventEmitter.setMaxListeners(eventEmitter.getMaxListeners() - maxListenersIncrement);\n\t});\n};\n", "import {EventEmitter} from 'node:events';\nimport {onMessage, onDisconnect} from './incoming.js';\nimport {undoAddedReferences} from './reference.js';\n\n// Forward the `message` and `disconnect` events from the process and subprocess to a proxy emitter.\n// This prevents the `error` event from stopping IPC.\n// This also allows debouncing the `message` event.\nexport const getIpcEmitter = (anyProcess, channel, isSubprocess) => {\n\tif (IPC_EMITTERS.has(anyProcess)) {\n\t\treturn IPC_EMITTERS.get(anyProcess);\n\t}\n\n\t// Use an `EventEmitter`, like the `process` that is being proxied\n\t// eslint-disable-next-line unicorn/prefer-event-target\n\tconst ipcEmitter = new EventEmitter();\n\tipcEmitter.connected = true;\n\tIPC_EMITTERS.set(anyProcess, ipcEmitter);\n\tforwardEvents({\n\t\tipcEmitter,\n\t\tanyProcess,\n\t\tchannel,\n\t\tisSubprocess,\n\t});\n\treturn ipcEmitter;\n};\n\nconst IPC_EMITTERS = new WeakMap();\n\n// The `message` and `disconnect` events are buffered in the subprocess until the first listener is setup.\n// However, unbuffering happens after one tick, so this give enough time for the caller to setup the listener on the proxy emitter first.\n// See https://github.com/nodejs/node/blob/2aaeaa863c35befa2ebaa98fb7737ec84df4d8e9/lib/internal/child_process.js#L721\nconst forwardEvents = ({ipcEmitter, anyProcess, channel, isSubprocess}) => {\n\tconst boundOnMessage = onMessage.bind(undefined, {\n\t\tanyProcess,\n\t\tchannel,\n\t\tisSubprocess,\n\t\tipcEmitter,\n\t});\n\tanyProcess.on('message', boundOnMessage);\n\tanyProcess.once('disconnect', onDisconnect.bind(undefined, {\n\t\tanyProcess,\n\t\tchannel,\n\t\tisSubprocess,\n\t\tipcEmitter,\n\t\tboundOnMessage,\n\t}));\n\tundoAddedReferences(channel, isSubprocess);\n};\n\n// Check whether there might still be some `message` events to receive\nexport const isConnected = anyProcess => {\n\tconst ipcEmitter = IPC_EMITTERS.get(anyProcess);\n\treturn ipcEmitter === undefined\n\t\t? anyProcess.channel !== null\n\t\t: ipcEmitter.connected;\n};\n", "import {once} from 'node:events';\nimport {scheduler} from 'node:timers/promises';\nimport {waitForOutgoingMessages} from './outgoing.js';\nimport {redoAddedReferences} from './reference.js';\nimport {handleStrictRequest, handleStrictResponse} from './strict.js';\nimport {handleAbort, abortOnDisconnect} from './graceful.js';\n\n// By default, Node.js buffers `message` events.\n//  - Buffering happens when there is a `message` event is emitted but there is no handler.\n//  - As soon as a `message` event handler is set, all buffered `message` events are emitted, emptying the buffer.\n//  - This happens both in the current process and the subprocess.\n//  - See https://github.com/nodejs/node/blob/501546e8f37059cd577041e23941b640d0d4d406/lib/internal/child_process.js#L719\n// This is helpful. Notably, this allows sending messages to a subprocess that's still initializing.\n// However, it has several problems.\n//  - This works with `events.on()` but not `events.once()` since all buffered messages are emitted at once.\n//    For example, users cannot call `await getOneMessage()`/`getEachMessage()` multiple times in a row.\n//  - When a user intentionally starts listening to `message` at a specific point in time, past `message` events are replayed, which might be unexpected.\n//  - Buffering is unlimited, which might lead to an out-of-memory crash.\n//  - This does not work well with multiple consumers.\n//    For example, Execa consumes events with both `result.ipcOutput` and manual IPC calls like `getOneMessage()`.\n//    Since `result.ipcOutput` reads all incoming messages, no buffering happens for manual IPC calls.\n//  - Forgetting to setup a `message` listener, or setting it up too late, is a programming mistake.\n//    The default behavior does not allow users to realize they made that mistake.\n// To solve those problems, instead of buffering messages, we debounce them.\n// The `message` event so it is emitted at most once per macrotask.\nexport const onMessage = async ({anyProcess, channel, isSubprocess, ipcEmitter}, wrappedMessage) => {\n\tif (handleStrictResponse(wrappedMessage) || handleAbort(wrappedMessage)) {\n\t\treturn;\n\t}\n\n\tif (!INCOMING_MESSAGES.has(anyProcess)) {\n\t\tINCOMING_MESSAGES.set(anyProcess, []);\n\t}\n\n\tconst incomingMessages = INCOMING_MESSAGES.get(anyProcess);\n\tincomingMessages.push(wrappedMessage);\n\n\tif (incomingMessages.length > 1) {\n\t\treturn;\n\t}\n\n\twhile (incomingMessages.length > 0) {\n\t\t// eslint-disable-next-line no-await-in-loop\n\t\tawait waitForOutgoingMessages(anyProcess, ipcEmitter, wrappedMessage);\n\t\t// eslint-disable-next-line no-await-in-loop\n\t\tawait scheduler.yield();\n\n\t\t// eslint-disable-next-line no-await-in-loop\n\t\tconst message = await handleStrictRequest({\n\t\t\twrappedMessage: incomingMessages[0],\n\t\t\tanyProcess,\n\t\t\tchannel,\n\t\t\tisSubprocess,\n\t\t\tipcEmitter,\n\t\t});\n\n\t\tincomingMessages.shift();\n\t\tipcEmitter.emit('message', message);\n\t\tipcEmitter.emit('message:done');\n\t}\n};\n\n// If the `message` event is currently debounced, the `disconnect` event must wait for it\nexport const onDisconnect = async ({anyProcess, channel, isSubprocess, ipcEmitter, boundOnMessage}) => {\n\tabortOnDisconnect();\n\n\tconst incomingMessages = INCOMING_MESSAGES.get(anyProcess);\n\twhile (incomingMessages?.length > 0) {\n\t\t// eslint-disable-next-line no-await-in-loop\n\t\tawait once(ipcEmitter, 'message:done');\n\t}\n\n\tanyProcess.removeListener('message', boundOnMessage);\n\tredoAddedReferences(channel, isSubprocess);\n\tipcEmitter.connected = false;\n\tipcEmitter.emit('disconnect');\n};\n\nconst INCOMING_MESSAGES = new WeakMap();\n", "// By default, Node.js keeps the subprocess alive while it has a `message` or `disconnect` listener.\n// We replicate the same logic for the events that we proxy.\n// This ensures the subprocess is kept alive while `getOneMessage()` and `getEachMessage()` are ongoing.\n// This is not a problem with `sendMessage()` since Node.js handles that method automatically.\n// We do not use `anyProcess.channel.ref()` since this would prevent the automatic `.channel.refCounted()` Node.js is doing.\n// We keep a reference to `anyProcess.channel` since it might be `null` while `getOneMessage()` or `getEachMessage()` is still processing debounced messages.\n// See https://github.com/nodejs/node/blob/2aaeaa863c35befa2ebaa98fb7737ec84df4d8e9/lib/internal/child_process.js#L547\nexport const addReference = (channel, reference) => {\n\tif (reference) {\n\t\taddReferenceCount(channel);\n\t}\n};\n\nconst addReferenceCount = channel => {\n\tchannel.refCounted();\n};\n\nexport const removeReference = (channel, reference) => {\n\tif (reference) {\n\t\tremoveReferenceCount(channel);\n\t}\n};\n\nconst removeReferenceCount = channel => {\n\tchannel.unrefCounted();\n};\n\n// To proxy events, we setup some global listeners on the `message` and `disconnect` events.\n// Those should not keep the subprocess alive, so we remove the automatic counting that Node.js is doing.\n// See https://github.com/nodejs/node/blob/1b965270a9c273d4cf70e8808e9d28b9ada7844f/lib/child_process.js#L180\nexport const undoAddedReferences = (channel, isSubprocess) => {\n\tif (isSubprocess) {\n\t\tremoveReferenceCount(channel);\n\t\tremoveReferenceCount(channel);\n\t}\n};\n\n// Reverse it during `disconnect`\nexport const redoAddedReferences = (channel, isSubprocess) => {\n\tif (isSubprocess) {\n\t\taddReferenceCount(channel);\n\t\taddReferenceCount(channel);\n\t}\n};\n", "import {createDeferred} from '../utils/deferred.js';\nimport {getFdSpecificValue} from '../arguments/specific.js';\nimport {SUBPROCESS_OPTIONS} from '../arguments/fd-options.js';\nimport {validateStrictDeadlock} from './strict.js';\n\n// When `sendMessage()` is ongoing, any `message` being received waits before being emitted.\n// This allows calling one or multiple `await sendMessage()` followed by `await getOneMessage()`/`await getEachMessage()`.\n// Without running into a race condition when the other process sends a response too fast, before the current process set up a listener.\nexport const startSendMessage = (anyProcess, wrappedMessage, strict) => {\n\tif (!OUTGOING_MESSAGES.has(anyProcess)) {\n\t\tOUTGOING_MESSAGES.set(anyProcess, new Set());\n\t}\n\n\tconst outgoingMessages = OUTGOING_MESSAGES.get(anyProcess);\n\tconst onMessageSent = createDeferred();\n\tconst id = strict ? wrappedMessage.id : undefined;\n\tconst outgoingMessage = {onMessageSent, id};\n\toutgoingMessages.add(outgoingMessage);\n\treturn {outgoingMessages, outgoingMessage};\n};\n\nexport const endSendMessage = ({outgoingMessages, outgoingMessage}) => {\n\toutgoingMessages.delete(outgoingMessage);\n\toutgoingMessage.onMessageSent.resolve();\n};\n\n// Await while `sendMessage()` is ongoing, unless there is already a `message` listener\nexport const waitForOutgoingMessages = async (anyProcess, ipcEmitter, wrappedMessage) => {\n\twhile (!hasMessageListeners(anyProcess, ipcEmitter) && OUTGOING_MESSAGES.get(anyProcess)?.size > 0) {\n\t\tconst outgoingMessages = [...OUTGOING_MESSAGES.get(anyProcess)];\n\t\tvalidateStrictDeadlock(outgoingMessages, wrappedMessage);\n\t\t// eslint-disable-next-line no-await-in-loop\n\t\tawait Promise.all(outgoingMessages.map(({onMessageSent}) => onMessageSent));\n\t}\n};\n\nconst OUTGOING_MESSAGES = new WeakMap();\n\n// Whether any `message` listener is setup\nexport const hasMessageListeners = (anyProcess, ipcEmitter) => ipcEmitter.listenerCount('message') > getMinListenerCount(anyProcess);\n\n// When `buffer` is `false`, we set up a `message` listener that should be ignored.\n// That listener is only meant to intercept `strict` acknowledgement responses.\nconst getMinListenerCount = anyProcess => SUBPROCESS_OPTIONS.has(anyProcess)\n\t&& !getFdSpecificValue(SUBPROCESS_OPTIONS.get(anyProcess).options.buffer, 'ipc')\n\t? 1\n\t: 0;\n", "import {onAbortedSignal} from '../utils/abort-signal.js';\nimport {sendAbort} from '../ipc/graceful.js';\nimport {killOnTimeout} from './kill.js';\n\n// Validate the `gracefulCancel` option\nexport const validateGracefulCancel = ({gracefulCancel, cancelSignal, ipc, serialization}) => {\n\tif (!gracefulCancel) {\n\t\treturn;\n\t}\n\n\tif (cancelSignal === undefined) {\n\t\tthrow new Error('The `cancelSignal` option must be defined when setting the `gracefulCancel` option.');\n\t}\n\n\tif (!ipc) {\n\t\tthrow new Error('The `ipc` option cannot be false when setting the `gracefulCancel` option.');\n\t}\n\n\tif (serialization === 'json') {\n\t\tthrow new Error('The `serialization` option cannot be \\'json\\' when setting the `gracefulCancel` option.');\n\t}\n};\n\n// Send abort reason to the subprocess when aborting the `cancelSignal` option and `gracefulCancel` is `true`\nexport const throwOnGracefulCancel = ({\n\tsubprocess,\n\tcancelSignal,\n\tgracefulCancel,\n\tforceKillAfterDelay,\n\tcontext,\n\tcontroller,\n}) => gracefulCancel\n\t? [sendOnAbort({\n\t\tsubprocess,\n\t\tcancelSignal,\n\t\tforceKillAfterDelay,\n\t\tcontext,\n\t\tcontroller,\n\t})]\n\t: [];\n\nconst sendOnAbort = async ({subprocess, cancelSignal, forceKillAfterDelay, context, controller: {signal}}) => {\n\tawait onAbortedSignal(cancelSignal, signal);\n\tconst reason = getReason(cancelSignal);\n\tawait sendAbort(subprocess, reason);\n\tkillOnTimeout({\n\t\tkill: subprocess.kill,\n\t\tforceKillAfterDelay,\n\t\tcontext,\n\t\tcontrollerSignal: signal,\n\t});\n\tcontext.terminationReason ??= 'gracefulCancel';\n\tthrow cancelSignal.reason;\n};\n\n// The default `reason` is a DOMException, which is not serializable with V8\n// See https://github.com/nodejs/node/issues/53225\nconst getReason = ({reason}) => {\n\tif (!(reason instanceof DOMException)) {\n\t\treturn reason;\n\t}\n\n\tconst error = new Error(reason.message);\n\tObject.defineProperty(error, 'stack', {\n\t\tvalue: reason.stack,\n\t\tenumerable: false,\n\t\tconfigurable: true,\n\t\twritable: true,\n\t});\n\treturn error;\n};\n", "import {setTimeout} from 'node:timers/promises';\nimport {DiscardedError} from '../return/final-error.js';\n\n// Validate `timeout` option\nexport const validateTimeout = ({timeout}) => {\n\tif (timeout !== undefined && (!Number.isFinite(timeout) || timeout < 0)) {\n\t\tthrow new TypeError(`Expected the \\`timeout\\` option to be a non-negative integer, got \\`${timeout}\\` (${typeof timeout})`);\n\t}\n};\n\n// Fails when the `timeout` option is exceeded\nexport const throwOnTimeout = (subprocess, timeout, context, controller) => timeout === 0 || timeout === undefined\n\t? []\n\t: [killAfterTimeout(subprocess, timeout, context, controller)];\n\nconst killAfterTimeout = async (subprocess, timeout, context, {signal}) => {\n\tawait setTimeout(timeout, undefined, {signal});\n\tcontext.terminationReason ??= 'timeout';\n\tsubprocess.kill();\n\tthrow new DiscardedError();\n};\n", "import {execPath, execArgv} from 'node:process';\nimport path from 'node:path';\nimport {safeNormalizeFileUrl} from '../arguments/file-url.js';\n\n// `execaNode()` is a shortcut for `execa(..., {node: true})`\nexport const mapNode = ({options}) => {\n\tif (options.node === false) {\n\t\tthrow new TypeError('The \"node\" option cannot be false with `execaNode()`.');\n\t}\n\n\treturn {options: {...options, node: true}};\n};\n\n// Applies the `node: true` option, and the related `nodePath`/`nodeOptions` options.\n// Modifies the file commands/arguments to ensure the same Node binary and flags are re-used.\n// Also adds `ipc: true` and `shell: false`.\nexport const handleNodeOption = (file, commandArguments, {\n\tnode: shouldHandleNode = false,\n\tnodePath = execPath,\n\tnodeOptions = execArgv.filter(nodeOption => !nodeOption.startsWith('--inspect')),\n\tcwd,\n\texecPath: formerNodePath,\n\t...options\n}) => {\n\tif (formerNodePath !== undefined) {\n\t\tthrow new TypeError('The \"execPath\" option has been removed. Please use the \"nodePath\" option instead.');\n\t}\n\n\tconst normalizedNodePath = safeNormalizeFileUrl(nodePath, 'The \"nodePath\" option');\n\tconst resolvedNodePath = path.resolve(cwd, normalizedNodePath);\n\tconst newOptions = {\n\t\t...options,\n\t\tnodePath: resolvedNodePath,\n\t\tnode: shouldHandleNode,\n\t\tcwd,\n\t};\n\n\tif (!shouldHandleNode) {\n\t\treturn [file, commandArguments, newOptions];\n\t}\n\n\tif (path.basename(file, '.exe') === 'node') {\n\t\tthrow new TypeError('When the \"node\" option is true, the first argument does not need to be \"node\".');\n\t}\n\n\treturn [\n\t\tresolvedNodePath,\n\t\t[...nodeOptions, file, ...commandArguments],\n\t\t{ipc: true, ...newOptions, shell: false},\n\t];\n};\n", "import {serialize} from 'node:v8';\n\n// Validate the `ipcInput` option\nexport const validateIpcInputOption = ({ipcInput, ipc, serialization}) => {\n\tif (ipcInput === undefined) {\n\t\treturn;\n\t}\n\n\tif (!ipc) {\n\t\tthrow new Error('The `ipcInput` option cannot be set unless the `ipc` option is `true`.');\n\t}\n\n\tvalidateIpcInput[serialization](ipcInput);\n};\n\nconst validateAdvancedInput = ipcInput => {\n\ttry {\n\t\tserialize(ipcInput);\n\t} catch (error) {\n\t\tthrow new Error('The `ipcInput` option is not serializable with a structured clone.', {cause: error});\n\t}\n};\n\nconst validateJsonInput = ipcInput => {\n\ttry {\n\t\tJSON.stringify(ipcInput);\n\t} catch (error) {\n\t\tthrow new Error('The `ipcInput` option is not serializable with JSON.', {cause: error});\n\t}\n};\n\nconst validateIpcInput = {\n\tadvanced: validateAdvancedInput,\n\tjson: validateJsonInput,\n};\n\n// When the `ipcInput` option is set, it is sent as an initial IPC message to the subprocess\nexport const sendIpcInput = async (subprocess, ipcInput) => {\n\tif (ipcInput === undefined) {\n\t\treturn;\n\t}\n\n\tawait subprocess.sendMessage(ipcInput);\n};\n", "// Validate `encoding` option\nexport const validateEncoding = ({encoding}) => {\n\tif (ENCODINGS.has(encoding)) {\n\t\treturn;\n\t}\n\n\tconst correctEncoding = getCorrectEncoding(encoding);\n\tif (correctEncoding !== undefined) {\n\t\tthrow new TypeError(`Invalid option \\`encoding: ${serializeEncoding(encoding)}\\`.\nPlease rename it to ${serializeEncoding(correctEncoding)}.`);\n\t}\n\n\tconst correctEncodings = [...ENCODINGS].map(correctEncoding => serializeEncoding(correctEncoding)).join(', ');\n\tthrow new TypeError(`Invalid option \\`encoding: ${serializeEncoding(encoding)}\\`.\nPlease rename it to one of: ${correctEncodings}.`);\n};\n\nconst TEXT_ENCODINGS = new Set(['utf8', 'utf16le']);\nexport const BINARY_ENCODINGS = new Set(['buffer', 'hex', 'base64', 'base64url', 'latin1', 'ascii']);\nconst ENCODINGS = new Set([...TEXT_ENCODINGS, ...BINARY_ENCODINGS]);\n\nconst getCorrectEncoding = encoding => {\n\tif (encoding === null) {\n\t\treturn 'buffer';\n\t}\n\n\tif (typeof encoding !== 'string') {\n\t\treturn;\n\t}\n\n\tconst lowerEncoding = encoding.toLowerCase();\n\tif (lowerEncoding in ENCODING_ALIASES) {\n\t\treturn ENCODING_ALIASES[lowerEncoding];\n\t}\n\n\tif (ENCODINGS.has(lowerEncoding)) {\n\t\treturn lowerEncoding;\n\t}\n};\n\nconst ENCODING_ALIASES = {\n\t// eslint-disable-next-line unicorn/text-encoding-identifier-case\n\t'utf-8': 'utf8',\n\t'utf-16le': 'utf16le',\n\t'ucs-2': 'utf16le',\n\tucs2: 'utf16le',\n\tbinary: 'latin1',\n};\n\nconst serializeEncoding = encoding => typeof encoding === 'string' ? `\"${encoding}\"` : String(encoding);\n", "import {statSync} from 'node:fs';\nimport path from 'node:path';\nimport process from 'node:process';\nimport {safeNormalizeFileUrl} from './file-url.js';\n\n// Normalize `cwd` option\nexport const normalizeCwd = (cwd = getDefaultCwd()) => {\n\tconst cwdString = safeNormalizeFileUrl(cwd, 'The \"cwd\" option');\n\treturn path.resolve(cwdString);\n};\n\nconst getDefaultCwd = () => {\n\ttry {\n\t\treturn process.cwd();\n\t} catch (error) {\n\t\terror.message = `The current directory does not exist.\\n${error.message}`;\n\t\tthrow error;\n\t}\n};\n\n// When `cwd` option has an invalid value, provide with a better error message\nexport const fixCwdError = (originalMessage, cwd) => {\n\tif (cwd === getDefaultCwd()) {\n\t\treturn originalMessage;\n\t}\n\n\tlet cwdStat;\n\ttry {\n\t\tcwdStat = statSync(cwd);\n\t} catch (error) {\n\t\treturn `The \"cwd\" option is invalid: ${cwd}.\\n${error.message}\\n${originalMessage}`;\n\t}\n\n\tif (!cwdStat.isDirectory()) {\n\t\treturn `The \"cwd\" option is not a directory: ${cwd}.\\n${originalMessage}`;\n\t}\n\n\treturn originalMessage;\n};\n", "// When the `shell` option is set, any command argument is concatenated as a single string by Node.js:\n// https://github.com/nodejs/node/blob/e38ce27f3ca0a65f68a31cedd984cddb927d4002/lib/child_process.js#L614-L624\n// However, since Node 24, it also prints a deprecation warning.\n// To avoid this warning, we perform that same operation before calling `node:child_process`.\n// Shells only understand strings, which is why Node.js performs that concatenation.\n// However, we rely on users splitting command arguments as an array.\n// For example, this allows us to easily detect which arguments are passed.\n// So we do want users to pass array of arguments even with `shell: true`, but we also want to avoid any warning.\nexport const concatenateShell = (file, commandArguments, options) => options.shell && commandArguments.length > 0\n\t? [[file, ...commandArguments].join(' '), [], options]\n\t: [file, commandArguments, options];\n", "import {inspect} from 'node:util';\nimport stripFinalNewline from 'strip-final-newline';\nimport {isUint8Array, uint8ArrayToString} from '../utils/uint-array.js';\nimport {fixCwdError} from '../arguments/cwd.js';\nimport {escapeLines} from '../arguments/escape.js';\nimport {getMaxBufferMessage} from '../io/max-buffer.js';\nimport {getSignalDescription} from '../terminate/signal.js';\nimport {DiscardedError, isExecaError} from './final-error.js';\n\n// Computes `error.message`, `error.shortMessage` and `error.originalMessage`\nexport const createMessages = ({\n\tstdio,\n\tall,\n\tipcOutput,\n\toriginalError,\n\tsignal,\n\tsignalDescription,\n\texitCode,\n\tescapedCommand,\n\ttimedOut,\n\tisCanceled,\n\tisGracefullyCanceled,\n\tisMaxBuffer,\n\tisForcefullyTerminated,\n\tforceKillAfterDelay,\n\tkillSignal,\n\tmaxBuffer,\n\ttimeout,\n\tcwd,\n}) => {\n\tconst errorCode = originalError?.code;\n\tconst prefix = getErrorPrefix({\n\t\toriginalError,\n\t\ttimedOut,\n\t\ttimeout,\n\t\tisMaxBuffer,\n\t\tmaxBuffer,\n\t\terrorCode,\n\t\tsignal,\n\t\tsignalDescription,\n\t\texitCode,\n\t\tisCanceled,\n\t\tisGracefullyCanceled,\n\t\tisForcefullyTerminated,\n\t\tforceKillAfterDelay,\n\t\tkillSignal,\n\t});\n\tconst originalMessage = getOriginalMessage(originalError, cwd);\n\tconst suffix = originalMessage === undefined ? '' : `\\n${originalMessage}`;\n\tconst shortMessage = `${prefix}: ${escapedCommand}${suffix}`;\n\tconst messageStdio = all === undefined ? [stdio[2], stdio[1]] : [all];\n\tconst message = [\n\t\tshortMessage,\n\t\t...messageStdio,\n\t\t...stdio.slice(3),\n\t\tipcOutput.map(ipcMessage => serializeIpcMessage(ipcMessage)).join('\\n'),\n\t]\n\t\t.map(messagePart => escapeLines(stripFinalNewline(serializeMessagePart(messagePart))))\n\t\t.filter(Boolean)\n\t\t.join('\\n\\n');\n\treturn {originalMessage, shortMessage, message};\n};\n\nconst getErrorPrefix = ({\n\toriginalError,\n\ttimedOut,\n\ttimeout,\n\tisMaxBuffer,\n\tmaxBuffer,\n\terrorCode,\n\tsignal,\n\tsignalDescription,\n\texitCode,\n\tisCanceled,\n\tisGracefullyCanceled,\n\tisForcefullyTerminated,\n\tforceKillAfterDelay,\n\tkillSignal,\n}) => {\n\tconst forcefulSuffix = getForcefulSuffix(isForcefullyTerminated, forceKillAfterDelay);\n\n\tif (timedOut) {\n\t\treturn `Command timed out after ${timeout} milliseconds${forcefulSuffix}`;\n\t}\n\n\tif (isGracefullyCanceled) {\n\t\tif (signal === undefined) {\n\t\t\treturn `Command was gracefully canceled with exit code ${exitCode}`;\n\t\t}\n\n\t\treturn isForcefullyTerminated\n\t\t\t? `Command was gracefully canceled${forcefulSuffix}`\n\t\t\t: `Command was gracefully canceled with ${signal} (${signalDescription})`;\n\t}\n\n\tif (isCanceled) {\n\t\treturn `Command was canceled${forcefulSuffix}`;\n\t}\n\n\tif (isMaxBuffer) {\n\t\treturn `${getMaxBufferMessage(originalError, maxBuffer)}${forcefulSuffix}`;\n\t}\n\n\tif (errorCode !== undefined) {\n\t\treturn `Command failed with ${errorCode}${forcefulSuffix}`;\n\t}\n\n\tif (isForcefullyTerminated) {\n\t\treturn `Command was killed with ${killSignal} (${getSignalDescription(killSignal)})${forcefulSuffix}`;\n\t}\n\n\tif (signal !== undefined) {\n\t\treturn `Command was killed with ${signal} (${signalDescription})`;\n\t}\n\n\tif (exitCode !== undefined) {\n\t\treturn `Command failed with exit code ${exitCode}`;\n\t}\n\n\treturn 'Command failed';\n};\n\nconst getForcefulSuffix = (isForcefullyTerminated, forceKillAfterDelay) => isForcefullyTerminated\n\t? ` and was forcefully terminated after ${forceKillAfterDelay} milliseconds`\n\t: '';\n\nconst getOriginalMessage = (originalError, cwd) => {\n\tif (originalError instanceof DiscardedError) {\n\t\treturn;\n\t}\n\n\tconst originalMessage = isExecaError(originalError)\n\t\t? originalError.originalMessage\n\t\t: String(originalError?.message ?? originalError);\n\tconst escapedOriginalMessage = escapeLines(fixCwdError(originalMessage, cwd));\n\treturn escapedOriginalMessage === '' ? undefined : escapedOriginalMessage;\n};\n\nconst serializeIpcMessage = ipcMessage => typeof ipcMessage === 'string'\n\t? ipcMessage\n\t: inspect(ipcMessage);\n\nconst serializeMessagePart = messagePart => Array.isArray(messagePart)\n\t? messagePart.map(messageItem => stripFinalNewline(serializeMessageItem(messageItem))).filter(Boolean).join('\\n')\n\t: serializeMessageItem(messagePart);\n\nconst serializeMessageItem = messageItem => {\n\tif (typeof messageItem === 'string') {\n\t\treturn messageItem;\n\t}\n\n\tif (isUint8Array(messageItem)) {\n\t\treturn uint8ArrayToString(messageItem);\n\t}\n\n\treturn '';\n};\n", "export default function stripFinalNewline(input) {\n\tif (typeof input === 'string') {\n\t\treturn stripFinalNewlineString(input);\n\t}\n\n\tif (!(ArrayBuffer.isView(input) && input.BYTES_PER_ELEMENT === 1)) {\n\t\tthrow new Error('Input must be a string or a Uint8Array');\n\t}\n\n\treturn stripFinalNewlineBinary(input);\n}\n\nconst stripFinalNewlineString = input =>\n\tinput.at(-1) === LF\n\t\t? input.slice(0, input.at(-2) === CR ? -2 : -1)\n\t\t: input;\n\nconst stripFinalNewlineBinary = input =>\n\tinput.at(-1) === LF_BINARY\n\t\t? input.subarray(0, input.at(-2) === CR_BINARY ? -2 : -1)\n\t\t: input;\n\nconst LF = '\\n';\nconst LF_BINARY = LF.codePointAt(0);\nconst CR = '\\r';\nconst CR_BINARY = CR.codePointAt(0);\n", "import {on} from 'node:events';\nimport {finished} from 'node:stream/promises';\nimport {nodeImports} from './stream.js';\n\nObject.assign(nodeImports, {on, finished});\n\nexport {\n\tdefault,\n\tgetStreamAsArray,\n\tgetStreamAsArrayBuffer,\n\tgetStreamAsBuffer,\n\tMaxBufferError,\n} from './exports.js';\n", "export function isStream(stream, {checkOpen = true} = {}) {\n\treturn stream !== null\n\t\t&& typeof stream === 'object'\n\t\t&& (stream.writable || stream.readable || !checkOpen || (stream.writable === undefined && stream.readable === undefined))\n\t\t&& typeof stream.pipe === 'function';\n}\n\nexport function isWritableStream(stream, {checkOpen = true} = {}) {\n\treturn isStream(stream, {checkOpen})\n\t\t&& (stream.writable || !checkOpen)\n\t\t&& typeof stream.write === 'function'\n\t\t&& typeof stream.end === 'function'\n\t\t&& typeof stream.writable === 'boolean'\n\t\t&& typeof stream.writableObjectMode === 'boolean'\n\t\t&& typeof stream.destroy === 'function'\n\t\t&& typeof stream.destroyed === 'boolean';\n}\n\nexport function isReadableStream(stream, {checkOpen = true} = {}) {\n\treturn isStream(stream, {checkOpen})\n\t\t&& (stream.readable || !checkOpen)\n\t\t&& typeof stream.read === 'function'\n\t\t&& typeof stream.readable === 'boolean'\n\t\t&& typeof stream.readableObjectMode === 'boolean'\n\t\t&& typeof stream.destroy === 'function'\n\t\t&& typeof stream.destroyed === 'boolean';\n}\n\nexport function isDuplexStream(stream, options) {\n\treturn isWritableStream(stream, options)\n\t\t&& isReadableStream(stream, options);\n}\n\nexport function isTransformStream(stream, options) {\n\treturn isDuplexStream(stream, options)\n\t\t&& typeof stream._transform === 'function';\n}\n", "const a = Object.getPrototypeOf(\n  Object.getPrototypeOf(\n    /* istanbul ignore next */\n    async function* () {\n    }\n  ).prototype\n);\nclass c {\n  #t;\n  #n;\n  #r = !1;\n  #e = void 0;\n  constructor(e, t) {\n    this.#t = e, this.#n = t;\n  }\n  next() {\n    const e = () => this.#s();\n    return this.#e = this.#e ? this.#e.then(e, e) : e(), this.#e;\n  }\n  return(e) {\n    const t = () => this.#i(e);\n    return this.#e ? this.#e.then(t, t) : t();\n  }\n  async #s() {\n    if (this.#r)\n      return {\n        done: !0,\n        value: void 0\n      };\n    let e;\n    try {\n      e = await this.#t.read();\n    } catch (t) {\n      throw this.#e = void 0, this.#r = !0, this.#t.releaseLock(), t;\n    }\n    return e.done && (this.#e = void 0, this.#r = !0, this.#t.releaseLock()), e;\n  }\n  async #i(e) {\n    if (this.#r)\n      return {\n        done: !0,\n        value: e\n      };\n    if (this.#r = !0, !this.#n) {\n      const t = this.#t.cancel(e);\n      return this.#t.releaseLock(), await t, {\n        done: !0,\n        value: e\n      };\n    }\n    return this.#t.releaseLock(), {\n      done: !0,\n      value: e\n    };\n  }\n}\nconst n = Symbol();\nfunction i() {\n  return this[n].next();\n}\nObject.defineProperty(i, \"name\", { value: \"next\" });\nfunction o(r) {\n  return this[n].return(r);\n}\nObject.defineProperty(o, \"name\", { value: \"return\" });\nconst u = Object.create(a, {\n  next: {\n    enumerable: !0,\n    configurable: !0,\n    writable: !0,\n    value: i\n  },\n  return: {\n    enumerable: !0,\n    configurable: !0,\n    writable: !0,\n    value: o\n  }\n});\nfunction h({ preventCancel: r = !1 } = {}) {\n  const e = this.getReader(), t = new c(\n    e,\n    r\n  ), s = Object.create(u);\n  return s[n] = t, s;\n}\nexport {\n  h as asyncIterator\n};\n", "import {isReadableStream} from 'is-stream';\nimport {asyncIterator} from '@sec-ant/readable-stream/ponyfill';\n\nexport const getAsyncIterable = stream => {\n\tif (isReadableStream(stream, {checkOpen: false}) && nodeImports.on !== undefined) {\n\t\treturn getStreamIterable(stream);\n\t}\n\n\tif (typeof stream?.[Symbol.asyncIterator] === 'function') {\n\t\treturn stream;\n\t}\n\n\t// `ReadableStream[Symbol.asyncIterator]` support is missing in multiple browsers, so we ponyfill it\n\tif (toString.call(stream) === '[object ReadableStream]') {\n\t\treturn asyncIterator.call(stream);\n\t}\n\n\tthrow new TypeError('The first argument must be a Readable, a ReadableStream, or an async iterable.');\n};\n\nconst {toString} = Object.prototype;\n\n// The default iterable for Node.js streams does not allow for multiple readers at once, so we re-implement it\nconst getStreamIterable = async function * (stream) {\n\tconst controller = new AbortController();\n\tconst state = {};\n\thandleStreamEnd(stream, controller, state);\n\n\ttry {\n\t\tfor await (const [chunk] of nodeImports.on(stream, 'data', {signal: controller.signal})) {\n\t\t\tyield chunk;\n\t\t}\n\t} catch (error) {\n\t\t// Stream failure, for example due to `stream.destroy(error)`\n\t\tif (state.error !== undefined) {\n\t\t\tthrow state.error;\n\t\t// `error` event directly emitted on stream\n\t\t} else if (!controller.signal.aborted) {\n\t\t\tthrow error;\n\t\t// Otherwise, stream completed successfully\n\t\t}\n\t\t// The `finally` block also runs when the caller throws, for example due to the `maxBuffer` option\n\t} finally {\n\t\tstream.destroy();\n\t}\n};\n\nconst handleStreamEnd = async (stream, controller, state) => {\n\ttry {\n\t\tawait nodeImports.finished(stream, {\n\t\t\tcleanup: true,\n\t\t\treadable: true,\n\t\t\twritable: false,\n\t\t\terror: false,\n\t\t});\n\t} catch (error) {\n\t\tstate.error = error;\n\t} finally {\n\t\tcontroller.abort();\n\t}\n};\n\n// Loaded by the Node entrypoint, but not by the browser one.\n// This prevents using dynamic imports.\nexport const nodeImports = {};\n", "import {getAsyncIterable} from './stream.js';\n\nexport const getStreamContents = async (stream, {init, convertChunk, getSize, truncateChunk, addChunk, getFinalChunk, finalize}, {maxBuffer = Number.POSITIVE_INFINITY} = {}) => {\n\tconst asyncIterable = getAsyncIterable(stream);\n\n\tconst state = init();\n\tstate.length = 0;\n\n\ttry {\n\t\tfor await (const chunk of asyncIterable) {\n\t\t\tconst chunkType = getChunkType(chunk);\n\t\t\tconst convertedChunk = convertChunk[chunkType](chunk, state);\n\t\t\tappendChunk({\n\t\t\t\tconvertedChunk,\n\t\t\t\tstate,\n\t\t\t\tgetSize,\n\t\t\t\ttruncateChunk,\n\t\t\t\taddChunk,\n\t\t\t\tmaxBuffer,\n\t\t\t});\n\t\t}\n\n\t\tappendFinalChunk({\n\t\t\tstate,\n\t\t\tconvertChunk,\n\t\t\tgetSize,\n\t\t\ttruncateChunk,\n\t\t\taddChunk,\n\t\t\tgetFinalChunk,\n\t\t\tmaxBuffer,\n\t\t});\n\t\treturn finalize(state);\n\t} catch (error) {\n\t\tconst normalizedError = typeof error === 'object' && error !== null ? error : new Error(error);\n\t\tnormalizedError.bufferedData = finalize(state);\n\t\tthrow normalizedError;\n\t}\n};\n\nconst appendFinalChunk = ({state, getSize, truncateChunk, addChunk, getFinalChunk, maxBuffer}) => {\n\tconst convertedChunk = getFinalChunk(state);\n\tif (convertedChunk !== undefined) {\n\t\tappendChunk({\n\t\t\tconvertedChunk,\n\t\t\tstate,\n\t\t\tgetSize,\n\t\t\ttruncateChunk,\n\t\t\taddChunk,\n\t\t\tmaxBuffer,\n\t\t});\n\t}\n};\n\nconst appendChunk = ({convertedChunk, state, getSize, truncateChunk, addChunk, maxBuffer}) => {\n\tconst chunkSize = getSize(convertedChunk);\n\tconst newLength = state.length + chunkSize;\n\n\tif (newLength <= maxBuffer) {\n\t\taddNewChunk(convertedChunk, state, addChunk, newLength);\n\t\treturn;\n\t}\n\n\tconst truncatedChunk = truncateChunk(convertedChunk, maxBuffer - state.length);\n\n\tif (truncatedChunk !== undefined) {\n\t\taddNewChunk(truncatedChunk, state, addChunk, maxBuffer);\n\t}\n\n\tthrow new MaxBufferError();\n};\n\nconst addNewChunk = (convertedChunk, state, addChunk, newLength) => {\n\tstate.contents = addChunk(convertedChunk, state, newLength);\n\tstate.length = newLength;\n};\n\nconst getChunkType = chunk => {\n\tconst typeOfChunk = typeof chunk;\n\n\tif (typeOfChunk === 'string') {\n\t\treturn 'string';\n\t}\n\n\tif (typeOfChunk !== 'object' || chunk === null) {\n\t\treturn 'others';\n\t}\n\n\tif (globalThis.Buffer?.isBuffer(chunk)) {\n\t\treturn 'buffer';\n\t}\n\n\tconst prototypeName = objectToString.call(chunk);\n\n\tif (prototypeName === '[object ArrayBuffer]') {\n\t\treturn 'arrayBuffer';\n\t}\n\n\tif (prototypeName === '[object DataView]') {\n\t\treturn 'dataView';\n\t}\n\n\tif (\n\t\tNumber.isInteger(chunk.byteLength)\n\t\t&& Number.isInteger(chunk.byteOffset)\n\t\t&& objectToString.call(chunk.buffer) === '[object ArrayBuffer]'\n\t) {\n\t\treturn 'typedArray';\n\t}\n\n\treturn 'others';\n};\n\nconst {toString: objectToString} = Object.prototype;\n\nexport class MaxBufferError extends Error {\n\tname = 'MaxBufferError';\n\n\tconstructor() {\n\t\tsuper('maxBuffer exceeded');\n\t}\n}\n", "export const identity = value => value;\n\nexport const noop = () => undefined;\n\nexport const getContentsProperty = ({contents}) => contents;\n\nexport const throwObjectStream = chunk => {\n\tthrow new Error(`Streams in object mode are not supported: ${String(chunk)}`);\n};\n\nexport const getLengthProperty = convertedChunk => convertedChunk.length;\n", "import {getStreamContents} from './contents.js';\nimport {identity, noop, getContentsProperty} from './utils.js';\n\nexport async function getStreamAsArray(stream, options) {\n\treturn getStreamContents(stream, arrayMethods, options);\n}\n\nconst initArray = () => ({contents: []});\n\nconst increment = () => 1;\n\nconst addArrayChunk = (convertedChunk, {contents}) => {\n\tcontents.push(convertedChunk);\n\treturn contents;\n};\n\nconst arrayMethods = {\n\tinit: initArray,\n\tconvertChunk: {\n\t\tstring: identity,\n\t\tbuffer: identity,\n\t\tarrayBuffer: identity,\n\t\tdataView: identity,\n\t\ttypedArray: identity,\n\t\tothers: identity,\n\t},\n\tgetSize: increment,\n\ttruncateChunk: noop,\n\taddChunk: addArrayChunk,\n\tgetFinalChunk: noop,\n\tfinalize: getContentsProperty,\n};\n", "import {getStreamContents} from './contents.js';\nimport {noop, throwObjectStream, getLengthProperty} from './utils.js';\n\nexport async function getStreamAsArrayBuffer(stream, options) {\n\treturn getStreamContents(stream, arrayBufferMethods, options);\n}\n\nconst initArrayBuffer = () => ({contents: new ArrayBuffer(0)});\n\nconst useTextEncoder = chunk => textEncoder.encode(chunk);\nconst textEncoder = new TextEncoder();\n\nconst useUint8Array = chunk => new Uint8Array(chunk);\n\nconst useUint8ArrayWithOffset = chunk => new Uint8Array(chunk.buffer, chunk.byteOffset, chunk.byteLength);\n\nconst truncateArrayBufferChunk = (convertedChunk, chunkSize) => convertedChunk.slice(0, chunkSize);\n\n// `contents` is an increasingly growing `Uint8Array`.\nconst addArrayBufferChunk = (convertedChunk, {contents, length: previousLength}, length) => {\n\tconst newContents = hasArrayBufferResize() ? resizeArrayBuffer(contents, length) : resizeArrayBufferSlow(contents, length);\n\tnew Uint8Array(newContents).set(convertedChunk, previousLength);\n\treturn newContents;\n};\n\n// Without `ArrayBuffer.resize()`, `contents` size is always a power of 2.\n// This means its last bytes are zeroes (not stream data), which need to be\n// trimmed at the end with `ArrayBuffer.slice()`.\nconst resizeArrayBufferSlow = (contents, length) => {\n\tif (length <= contents.byteLength) {\n\t\treturn contents;\n\t}\n\n\tconst arrayBuffer = new ArrayBuffer(getNewContentsLength(length));\n\tnew Uint8Array(arrayBuffer).set(new Uint8Array(contents), 0);\n\treturn arrayBuffer;\n};\n\n// With `ArrayBuffer.resize()`, `contents` size matches exactly the size of\n// the stream data. It does not include extraneous zeroes to trim at the end.\n// The underlying `ArrayBuffer` does allocate a number of bytes that is a power\n// of 2, but those bytes are only visible after calling `ArrayBuffer.resize()`.\nconst resizeArrayBuffer = (contents, length) => {\n\tif (length <= contents.maxByteLength) {\n\t\tcontents.resize(length);\n\t\treturn contents;\n\t}\n\n\tconst arrayBuffer = new ArrayBuffer(length, {maxByteLength: getNewContentsLength(length)});\n\tnew Uint8Array(arrayBuffer).set(new Uint8Array(contents), 0);\n\treturn arrayBuffer;\n};\n\n// Retrieve the closest `length` that is both >= and a power of 2\nconst getNewContentsLength = length => SCALE_FACTOR ** Math.ceil(Math.log(length) / Math.log(SCALE_FACTOR));\n\nconst SCALE_FACTOR = 2;\n\nconst finalizeArrayBuffer = ({contents, length}) => hasArrayBufferResize() ? contents : contents.slice(0, length);\n\n// `ArrayBuffer.slice()` is slow. When `ArrayBuffer.resize()` is available\n// (Node >=20.0.0, Safari >=16.4 and Chrome), we can use it instead.\n// eslint-disable-next-line no-warning-comments\n// TODO: remove after dropping support for Node 20.\n// eslint-disable-next-line no-warning-comments\n// TODO: use `ArrayBuffer.transferToFixedLength()` instead once it is available\nconst hasArrayBufferResize = () => 'resize' in ArrayBuffer.prototype;\n\nconst arrayBufferMethods = {\n\tinit: initArrayBuffer,\n\tconvertChunk: {\n\t\tstring: useTextEncoder,\n\t\tbuffer: useUint8Array,\n\t\tarrayBuffer: useUint8Array,\n\t\tdataView: useUint8ArrayWithOffset,\n\t\ttypedArray: useUint8ArrayWithOffset,\n\t\tothers: throwObjectStream,\n\t},\n\tgetSize: getLengthProperty,\n\ttruncateChunk: truncateArrayBufferChunk,\n\taddChunk: addArrayBufferChunk,\n\tgetFinalChunk: noop,\n\tfinalize: finalizeArrayBuffer,\n};\n", "import {getStreamContents} from './contents.js';\nimport {\n\tidentity,\n\tgetContentsProperty,\n\tthrowObjectStream,\n\tgetLengthProperty,\n} from './utils.js';\n\nexport async function getStreamAsString(stream, options) {\n\treturn getStreamContents(stream, stringMethods, options);\n}\n\nconst initString = () => ({contents: '', textDecoder: new TextDecoder()});\n\nconst useTextDecoder = (chunk, {textDecoder}) => textDecoder.decode(chunk, {stream: true});\n\nconst addStringChunk = (convertedChunk, {contents}) => contents + convertedChunk;\n\nconst truncateStringChunk = (convertedChunk, chunkSize) => convertedChunk.slice(0, chunkSize);\n\nconst getFinalStringChunk = ({textDecoder}) => {\n\tconst finalChunk = textDecoder.decode();\n\treturn finalChunk === '' ? undefined : finalChunk;\n};\n\nconst stringMethods = {\n\tinit: initString,\n\tconvertChunk: {\n\t\tstring: identity,\n\t\tbuffer: useTextDecoder,\n\t\tarrayBuffer: useTextDecoder,\n\t\tdataView: useTextDecoder,\n\t\ttypedArray: useTextDecoder,\n\t\tothers: throwObjectStream,\n\t},\n\tgetSize: getLengthProperty,\n\ttruncateChunk: truncateStringChunk,\n\taddChunk: addStringChunk,\n\tgetFinalChunk: getFinalStringChunk,\n\tfinalize: getContentsProperty,\n};\n", "import {MaxBufferError} from 'get-stream';\nimport {getStreamName} from '../utils/standard-stream.js';\nimport {getFdSpecificValue} from '../arguments/specific.js';\n\n// When the `maxBuffer` option is hit, a MaxBufferError is thrown.\n// The stream is aborted, then specific information is kept for the error message.\nexport const handleMaxBuffer = ({error, stream, readableObjectMode, lines, encoding, fdNumber}) => {\n\tif (!(error instanceof MaxBufferError)) {\n\t\tthrow error;\n\t}\n\n\tif (fdNumber === 'all') {\n\t\treturn error;\n\t}\n\n\tconst unit = getMaxBufferUnit(readableObjectMode, lines, encoding);\n\terror.maxBufferInfo = {fdNumber, unit};\n\tstream.destroy();\n\tthrow error;\n};\n\nconst getMaxBufferUnit = (readableObjectMode, lines, encoding) => {\n\tif (readableObjectMode) {\n\t\treturn 'objects';\n\t}\n\n\tif (lines) {\n\t\treturn 'lines';\n\t}\n\n\tif (encoding === 'buffer') {\n\t\treturn 'bytes';\n\t}\n\n\treturn 'characters';\n};\n\n// Check the `maxBuffer` option with `result.ipcOutput`\nexport const checkIpcMaxBuffer = (subprocess, ipcOutput, maxBuffer) => {\n\tif (ipcOutput.length !== maxBuffer) {\n\t\treturn;\n\t}\n\n\tconst error = new MaxBufferError();\n\terror.maxBufferInfo = {fdNumber: 'ipc'};\n\tthrow error;\n};\n\n// Error message when `maxBuffer` is hit\nexport const getMaxBufferMessage = (error, maxBuffer) => {\n\tconst {streamName, threshold, unit} = getMaxBufferInfo(error, maxBuffer);\n\treturn `Command's ${streamName} was larger than ${threshold} ${unit}`;\n};\n\nconst getMaxBufferInfo = (error, maxBuffer) => {\n\tif (error?.maxBufferInfo === undefined) {\n\t\treturn {streamName: 'output', threshold: maxBuffer[1], unit: 'bytes'};\n\t}\n\n\tconst {maxBufferInfo: {fdNumber, unit}} = error;\n\tdelete error.maxBufferInfo;\n\n\tconst threshold = getFdSpecificValue(maxBuffer, fdNumber);\n\tif (fdNumber === 'ipc') {\n\t\treturn {streamName: 'IPC output', threshold, unit: 'messages'};\n\t}\n\n\treturn {streamName: getStreamName(fdNumber), threshold, unit};\n};\n\n// The only way to apply `maxBuffer` with `spawnSync()` is to use the native `maxBuffer` option Node.js provides.\n// However, this has multiple limitations, and cannot behave the exact same way as the async behavior.\n// When the `maxBuffer` is hit, a `ENOBUFS` error is thrown.\nexport const isMaxBufferSync = (resultError, output, maxBuffer) => resultError?.code === 'ENOBUFS'\n\t&& output !== null\n\t&& output.some(result => result !== null && result.length > getMaxBufferSync(maxBuffer));\n\n// When `maxBuffer` is hit, ensure the result is truncated\nexport const truncateMaxBufferSync = (result, isMaxBuffer, maxBuffer) => {\n\tif (!isMaxBuffer) {\n\t\treturn result;\n\t}\n\n\tconst maxBufferValue = getMaxBufferSync(maxBuffer);\n\treturn result.length > maxBufferValue ? result.slice(0, maxBufferValue) : result;\n};\n\n// `spawnSync()` does not allow differentiating `maxBuffer` per file descriptor, so we always use `stdout`\nexport const getMaxBufferSync = ([, stdoutMaxBuffer]) => stdoutMaxBuffer;\n", "import {getSignalDescription} from '../terminate/signal.js';\nimport {getDurationMs} from './duration.js';\nimport {getFinalError} from './final-error.js';\nimport {createMessages} from './message.js';\n\n// Object returned on subprocess success\nexport const makeSuccessResult = ({\n\tcommand,\n\tescapedCommand,\n\tstdio,\n\tall,\n\tipcOutput,\n\toptions: {cwd},\n\tstartTime,\n}) => omitUndefinedProperties({\n\tcommand,\n\tescapedCommand,\n\tcwd,\n\tdurationMs: getDurationMs(startTime),\n\tfailed: false,\n\ttimedOut: false,\n\tisCanceled: false,\n\tisGracefullyCanceled: false,\n\tisTerminated: false,\n\tisMaxBuffer: false,\n\tisForcefullyTerminated: false,\n\texitCode: 0,\n\tstdout: stdio[1],\n\tstderr: stdio[2],\n\tall,\n\tstdio,\n\tipcOutput,\n\tpipedFrom: [],\n});\n\n// Object returned on subprocess failure before spawning\nexport const makeEarlyError = ({\n\terror,\n\tcommand,\n\tescapedCommand,\n\tfileDescriptors,\n\toptions,\n\tstartTime,\n\tisSync,\n}) => makeError({\n\terror,\n\tcommand,\n\tescapedCommand,\n\tstartTime,\n\ttimedOut: false,\n\tisCanceled: false,\n\tisGracefullyCanceled: false,\n\tisMaxBuffer: false,\n\tisForcefullyTerminated: false,\n\tstdio: Array.from({length: fileDescriptors.length}),\n\tipcOutput: [],\n\toptions,\n\tisSync,\n});\n\n// Object returned on subprocess failure\nexport const makeError = ({\n\terror: originalError,\n\tcommand,\n\tescapedCommand,\n\tstartTime,\n\ttimedOut,\n\tisCanceled,\n\tisGracefullyCanceled,\n\tisMaxBuffer,\n\tisForcefullyTerminated,\n\texitCode: rawExitCode,\n\tsignal: rawSignal,\n\tstdio,\n\tall,\n\tipcOutput,\n\toptions: {\n\t\ttimeoutDuration,\n\t\ttimeout = timeoutDuration,\n\t\tforceKillAfterDelay,\n\t\tkillSignal,\n\t\tcwd,\n\t\tmaxBuffer,\n\t},\n\tisSync,\n}) => {\n\tconst {exitCode, signal, signalDescription} = normalizeExitPayload(rawExitCode, rawSignal);\n\tconst {originalMessage, shortMessage, message} = createMessages({\n\t\tstdio,\n\t\tall,\n\t\tipcOutput,\n\t\toriginalError,\n\t\tsignal,\n\t\tsignalDescription,\n\t\texitCode,\n\t\tescapedCommand,\n\t\ttimedOut,\n\t\tisCanceled,\n\t\tisGracefullyCanceled,\n\t\tisMaxBuffer,\n\t\tisForcefullyTerminated,\n\t\tforceKillAfterDelay,\n\t\tkillSignal,\n\t\tmaxBuffer,\n\t\ttimeout,\n\t\tcwd,\n\t});\n\tconst error = getFinalError(originalError, message, isSync);\n\tObject.assign(error, getErrorProperties({\n\t\terror,\n\t\tcommand,\n\t\tescapedCommand,\n\t\tstartTime,\n\t\ttimedOut,\n\t\tisCanceled,\n\t\tisGracefullyCanceled,\n\t\tisMaxBuffer,\n\t\tisForcefullyTerminated,\n\t\texitCode,\n\t\tsignal,\n\t\tsignalDescription,\n\t\tstdio,\n\t\tall,\n\t\tipcOutput,\n\t\tcwd,\n\t\toriginalMessage,\n\t\tshortMessage,\n\t}));\n\treturn error;\n};\n\nconst getErrorProperties = ({\n\terror,\n\tcommand,\n\tescapedCommand,\n\tstartTime,\n\ttimedOut,\n\tisCanceled,\n\tisGracefullyCanceled,\n\tisMaxBuffer,\n\tisForcefullyTerminated,\n\texitCode,\n\tsignal,\n\tsignalDescription,\n\tstdio,\n\tall,\n\tipcOutput,\n\tcwd,\n\toriginalMessage,\n\tshortMessage,\n}) => omitUndefinedProperties({\n\tshortMessage,\n\toriginalMessage,\n\tcommand,\n\tescapedCommand,\n\tcwd,\n\tdurationMs: getDurationMs(startTime),\n\tfailed: true,\n\ttimedOut,\n\tisCanceled,\n\tisGracefullyCanceled,\n\tisTerminated: signal !== undefined,\n\tisMaxBuffer,\n\tisForcefullyTerminated,\n\texitCode,\n\tsignal,\n\tsignalDescription,\n\tcode: error.cause?.code,\n\tstdout: stdio[1],\n\tstderr: stdio[2],\n\tall,\n\tstdio,\n\tipcOutput,\n\tpipedFrom: [],\n});\n\nconst omitUndefinedProperties = result => Object.fromEntries(Object.entries(result).filter(([, value]) => value !== undefined));\n\n// `signal` and `exitCode` emitted on `subprocess.on('exit')` event can be `null`.\n// We normalize them to `undefined`\nconst normalizeExitPayload = (rawExitCode, rawSignal) => {\n\tconst exitCode = rawExitCode === null ? undefined : rawExitCode;\n\tconst signal = rawSignal === null ? undefined : rawSignal;\n\tconst signalDescription = signal === undefined ? undefined : getSignalDescription(rawSignal);\n\treturn {exitCode, signal, signalDescription};\n};\n", "const toZeroIfInfinity = value => Number.isFinite(value) ? value : 0;\n\nfunction parseNumber(milliseconds) {\n\treturn {\n\t\tdays: Math.trunc(milliseconds / 86_400_000),\n\t\thours: Math.trunc(milliseconds / 3_600_000 % 24),\n\t\tminutes: Math.trunc(milliseconds / 60_000 % 60),\n\t\tseconds: Math.trunc(milliseconds / 1000 % 60),\n\t\tmilliseconds: Math.trunc(milliseconds % 1000),\n\t\tmicroseconds: Math.trunc(toZeroIfInfinity(milliseconds * 1000) % 1000),\n\t\tnanoseconds: Math.trunc(toZeroIfInfinity(milliseconds * 1e6) % 1000),\n\t};\n}\n\nfunction parseBigint(milliseconds) {\n\treturn {\n\t\tdays: milliseconds / 86_400_000n,\n\t\thours: milliseconds / 3_600_000n % 24n,\n\t\tminutes: milliseconds / 60_000n % 60n,\n\t\tseconds: milliseconds / 1000n % 60n,\n\t\tmilliseconds: milliseconds % 1000n,\n\t\tmicroseconds: 0n,\n\t\tnanoseconds: 0n,\n\t};\n}\n\nexport default function parseMilliseconds(milliseconds) {\n\tswitch (typeof milliseconds) {\n\t\tcase 'number': {\n\t\t\tif (Number.isFinite(milliseconds)) {\n\t\t\t\treturn parseNumber(milliseconds);\n\t\t\t}\n\n\t\t\tbreak;\n\t\t}\n\n\t\tcase 'bigint': {\n\t\t\treturn parseBigint(milliseconds);\n\t\t}\n\n\t\t// No default\n\t}\n\n\tthrow new TypeError('Expected a finite number or bigint');\n}\n", "import parseMilliseconds from 'parse-ms';\n\nconst isZero = value => value === 0 || value === 0n;\nconst pluralize = (word, count) => (count === 1 || count === 1n) ? word : `${word}s`;\n\nconst SECOND_ROUNDING_EPSILON = 0.000_000_1;\nconst ONE_DAY_IN_MILLISECONDS = 24n * 60n * 60n * 1000n;\n\nexport default function prettyMilliseconds(milliseconds, options) {\n\tconst isBigInt = typeof milliseconds === 'bigint';\n\tif (!isBigInt && !Number.isFinite(milliseconds)) {\n\t\tthrow new TypeError('Expected a finite number or bigint');\n\t}\n\n\toptions = {...options};\n\n\tconst sign = milliseconds < 0 ? '-' : '';\n\tmilliseconds = milliseconds < 0 ? -milliseconds : milliseconds; // Cannot use `Math.abs()` because of BigInt support.\n\n\tif (options.colonNotation) {\n\t\toptions.compact = false;\n\t\toptions.formatSubMilliseconds = false;\n\t\toptions.separateMilliseconds = false;\n\t\toptions.verbose = false;\n\t}\n\n\tif (options.compact) {\n\t\toptions.unitCount = 1;\n\t\toptions.secondsDecimalDigits = 0;\n\t\toptions.millisecondsDecimalDigits = 0;\n\t}\n\n\tlet result = [];\n\n\tconst floorDecimals = (value, decimalDigits) => {\n\t\tconst flooredInterimValue = Math.floor((value * (10 ** decimalDigits)) + SECOND_ROUNDING_EPSILON);\n\t\tconst flooredValue = Math.round(flooredInterimValue) / (10 ** decimalDigits);\n\t\treturn flooredValue.toFixed(decimalDigits);\n\t};\n\n\tconst add = (value, long, short, valueString) => {\n\t\tif (\n\t\t\t(result.length === 0 || !options.colonNotation)\n\t\t\t&& isZero(value)\n\t\t\t&& !(options.colonNotation && short === 'm')) {\n\t\t\treturn;\n\t\t}\n\n\t\tvalueString ??= String(value);\n\t\tif (options.colonNotation) {\n\t\t\tconst wholeDigits = valueString.includes('.') ? valueString.split('.')[0].length : valueString.length;\n\t\t\tconst minLength = result.length > 0 ? 2 : 1;\n\t\t\tvalueString = '0'.repeat(Math.max(0, minLength - wholeDigits)) + valueString;\n\t\t} else {\n\t\t\tvalueString += options.verbose ? ' ' + pluralize(long, value) : short;\n\t\t}\n\n\t\tresult.push(valueString);\n\t};\n\n\tconst parsed = parseMilliseconds(milliseconds);\n\tconst days = BigInt(parsed.days);\n\n\tif (options.hideYearAndDays) {\n\t\tadd((BigInt(days) * 24n) + BigInt(parsed.hours), 'hour', 'h');\n\t} else {\n\t\tif (options.hideYear) {\n\t\t\tadd(days, 'day', 'd');\n\t\t} else {\n\t\t\tadd(days / 365n, 'year', 'y');\n\t\t\tadd(days % 365n, 'day', 'd');\n\t\t}\n\n\t\tadd(Number(parsed.hours), 'hour', 'h');\n\t}\n\n\tadd(Number(parsed.minutes), 'minute', 'm');\n\n\tif (!options.hideSeconds) {\n\t\tif (\n\t\t\toptions.separateMilliseconds\n\t\t\t|| options.formatSubMilliseconds\n\t\t\t|| (!options.colonNotation && milliseconds < 1000)\n\t\t) {\n\t\t\tconst seconds = Number(parsed.seconds);\n\t\t\tconst milliseconds = Number(parsed.milliseconds);\n\t\t\tconst microseconds = Number(parsed.microseconds);\n\t\t\tconst nanoseconds = Number(parsed.nanoseconds);\n\n\t\t\tadd(seconds, 'second', 's');\n\n\t\t\tif (options.formatSubMilliseconds) {\n\t\t\t\tadd(milliseconds, 'millisecond', 'ms');\n\t\t\t\tadd(microseconds, 'microsecond', '\u00B5s');\n\t\t\t\tadd(nanoseconds, 'nanosecond', 'ns');\n\t\t\t} else {\n\t\t\t\tconst millisecondsAndBelow\n\t\t\t\t\t= milliseconds\n\t\t\t\t\t+ (microseconds / 1000)\n\t\t\t\t\t+ (nanoseconds / 1e6);\n\n\t\t\t\tconst millisecondsDecimalDigits\n\t\t\t\t\t= typeof options.millisecondsDecimalDigits === 'number'\n\t\t\t\t\t\t? options.millisecondsDecimalDigits\n\t\t\t\t\t\t: 0;\n\n\t\t\t\tconst roundedMilliseconds = millisecondsAndBelow >= 1\n\t\t\t\t\t? Math.round(millisecondsAndBelow)\n\t\t\t\t\t: Math.ceil(millisecondsAndBelow);\n\n\t\t\t\tconst millisecondsString = millisecondsDecimalDigits\n\t\t\t\t\t? millisecondsAndBelow.toFixed(millisecondsDecimalDigits)\n\t\t\t\t\t: roundedMilliseconds;\n\n\t\t\t\tadd(\n\t\t\t\t\tNumber.parseFloat(millisecondsString),\n\t\t\t\t\t'millisecond',\n\t\t\t\t\t'ms',\n\t\t\t\t\tmillisecondsString,\n\t\t\t\t);\n\t\t\t}\n\t\t} else {\n\t\t\tconst seconds = (\n\t\t\t\t(isBigInt ? Number(milliseconds % ONE_DAY_IN_MILLISECONDS) : milliseconds)\n\t\t\t\t/ 1000\n\t\t\t) % 60;\n\t\t\tconst secondsDecimalDigits\n\t\t\t\t= typeof options.secondsDecimalDigits === 'number'\n\t\t\t\t\t? options.secondsDecimalDigits\n\t\t\t\t\t: 1;\n\t\t\tconst secondsFixed = floorDecimals(seconds, secondsDecimalDigits);\n\t\t\tconst secondsString = options.keepDecimalsOnWholeSeconds\n\t\t\t\t? secondsFixed\n\t\t\t\t: secondsFixed.replace(/\\.0+$/, '');\n\t\t\tadd(Number.parseFloat(secondsString), 'second', 's', secondsString);\n\t\t}\n\t}\n\n\tif (result.length === 0) {\n\t\treturn sign + '0' + (options.verbose ? ' milliseconds' : 'ms');\n\t}\n\n\tconst separator = options.colonNotation ? ':' : ' ';\n\tif (typeof options.unitCount === 'number') {\n\t\tresult = result.slice(0, Math.max(options.unitCount, 1));\n\t}\n\n\treturn sign + result.join(separator);\n}\n", "import {verboseLog} from './log.js';\n\n// When `verbose` is `short|full|custom`, print each command's error when it fails\nexport const logError = (result, verboseInfo) => {\n\tif (result.failed) {\n\t\tverboseLog({\n\t\t\ttype: 'error',\n\t\t\tverboseMessage: result.shortMessage,\n\t\t\tverboseInfo,\n\t\t\tresult,\n\t\t});\n\t}\n};\n", "import prettyMs from 'pretty-ms';\nimport {isVerbose} from './values.js';\nimport {verboseLog} from './log.js';\nimport {logError} from './error.js';\n\n// When `verbose` is `short|full|custom`, print each command's completion, duration and error\nexport const logResult = (result, verboseInfo) => {\n\tif (!isVerbose(verboseInfo)) {\n\t\treturn;\n\t}\n\n\tlogError(result, verboseInfo);\n\tlogDuration(result, verboseInfo);\n};\n\nconst logDuration = (result, verboseInfo) => {\n\tconst verboseMessage = `(done in ${prettyMs(result.durationMs)})`;\n\tverboseLog({\n\t\ttype: 'duration',\n\t\tverboseMessage,\n\t\tverboseInfo,\n\t\tresult,\n\t});\n};\n", "import {logResult} from '../verbose/complete.js';\n\n// Applies the `reject` option.\n// Also print the final log line with `verbose`.\nexport const handleResult = (result, verboseInfo, {reject}) => {\n\tlogResult(result, verboseInfo);\n\n\tif (result.failed && reject) {\n\t\tthrow result;\n\t}\n\n\treturn result;\n};\n", "import {readFileSync} from 'node:fs';\nimport {bufferToUint8Array} from '../utils/uint-array.js';\nimport {handleStdio} from './handle.js';\nimport {TYPE_TO_MESSAGE} from './type.js';\n\n// Normalize `input`, `inputFile`, `stdin`, `stdout` and `stderr` options, before spawning, in sync mode\nexport const handleStdioSync = (options, verboseInfo) => handleStdio(addPropertiesSync, options, verboseInfo, true);\n\nconst forbiddenIfSync = ({type, optionName}) => {\n\tthrowInvalidSyncValue(optionName, TYPE_TO_MESSAGE[type]);\n};\n\nconst forbiddenNativeIfSync = ({optionName, value}) => {\n\tif (value === 'ipc' || value === 'overlapped') {\n\t\tthrowInvalidSyncValue(optionName, `\"${value}\"`);\n\t}\n\n\treturn {};\n};\n\nconst throwInvalidSyncValue = (optionName, value) => {\n\tthrow new TypeError(`The \\`${optionName}\\` option cannot be ${value} with synchronous methods.`);\n};\n\n// Create streams used internally for redirecting when using specific values for the `std*` options, in sync mode.\n// For example, `stdin: {file}` reads the file synchronously, then passes it as the `input` option.\nconst addProperties = {\n\tgenerator() {},\n\tasyncGenerator: forbiddenIfSync,\n\twebStream: forbiddenIfSync,\n\tnodeStream: forbiddenIfSync,\n\twebTransform: forbiddenIfSync,\n\tduplex: forbiddenIfSync,\n\tasyncIterable: forbiddenIfSync,\n\tnative: forbiddenNativeIfSync,\n};\n\nconst addPropertiesSync = {\n\tinput: {\n\t\t...addProperties,\n\t\tfileUrl: ({value}) => ({contents: [bufferToUint8Array(readFileSync(value))]}),\n\t\tfilePath: ({value: {file}}) => ({contents: [bufferToUint8Array(readFileSync(file))]}),\n\t\tfileNumber: forbiddenIfSync,\n\t\titerable: ({value}) => ({contents: [...value]}),\n\t\tstring: ({value}) => ({contents: [value]}),\n\t\tuint8Array: ({value}) => ({contents: [value]}),\n\t},\n\toutput: {\n\t\t...addProperties,\n\t\tfileUrl: ({value}) => ({path: value}),\n\t\tfilePath: ({value: {file, append}}) => ({path: file, append}),\n\t\tfileNumber: ({value}) => ({path: value}),\n\t\titerable: forbiddenIfSync,\n\t\tstring: forbiddenIfSync,\n\t\tuint8Array: forbiddenIfSync,\n\t},\n};\n", "import {isStream as isNodeStream, isDuplexStream} from 'is-stream';\nimport isPlainObj from 'is-plain-obj';\nimport {isUint8Array} from '../utils/uint-array.js';\n\n// The `stdin`/`stdout`/`stderr` option can be of many types. This detects it.\nexport const getStdioItemType = (value, optionName) => {\n\tif (isAsyncGenerator(value)) {\n\t\treturn 'asyncGenerator';\n\t}\n\n\tif (isSyncGenerator(value)) {\n\t\treturn 'generator';\n\t}\n\n\tif (isUrl(value)) {\n\t\treturn 'fileUrl';\n\t}\n\n\tif (isFilePathObject(value)) {\n\t\treturn 'filePath';\n\t}\n\n\tif (isWebStream(value)) {\n\t\treturn 'webStream';\n\t}\n\n\tif (isNodeStream(value, {checkOpen: false})) {\n\t\treturn 'native';\n\t}\n\n\tif (isUint8Array(value)) {\n\t\treturn 'uint8Array';\n\t}\n\n\tif (isAsyncIterableObject(value)) {\n\t\treturn 'asyncIterable';\n\t}\n\n\tif (isIterableObject(value)) {\n\t\treturn 'iterable';\n\t}\n\n\tif (isTransformStream(value)) {\n\t\treturn getTransformStreamType({transform: value}, optionName);\n\t}\n\n\tif (isTransformOptions(value)) {\n\t\treturn getTransformObjectType(value, optionName);\n\t}\n\n\treturn 'native';\n};\n\nconst getTransformObjectType = (value, optionName) => {\n\tif (isDuplexStream(value.transform, {checkOpen: false})) {\n\t\treturn getDuplexType(value, optionName);\n\t}\n\n\tif (isTransformStream(value.transform)) {\n\t\treturn getTransformStreamType(value, optionName);\n\t}\n\n\treturn getGeneratorObjectType(value, optionName);\n};\n\nconst getDuplexType = (value, optionName) => {\n\tvalidateNonGeneratorType(value, optionName, 'Duplex stream');\n\treturn 'duplex';\n};\n\nconst getTransformStreamType = (value, optionName) => {\n\tvalidateNonGeneratorType(value, optionName, 'web TransformStream');\n\treturn 'webTransform';\n};\n\nconst validateNonGeneratorType = ({final, binary, objectMode}, optionName, typeName) => {\n\tcheckUndefinedOption(final, `${optionName}.final`, typeName);\n\tcheckUndefinedOption(binary, `${optionName}.binary`, typeName);\n\tcheckBooleanOption(objectMode, `${optionName}.objectMode`);\n};\n\nconst checkUndefinedOption = (value, optionName, typeName) => {\n\tif (value !== undefined) {\n\t\tthrow new TypeError(`The \\`${optionName}\\` option can only be defined when using a generator, not a ${typeName}.`);\n\t}\n};\n\nconst getGeneratorObjectType = ({transform, final, binary, objectMode}, optionName) => {\n\tif (transform !== undefined && !isGenerator(transform)) {\n\t\tthrow new TypeError(`The \\`${optionName}.transform\\` option must be a generator, a Duplex stream or a web TransformStream.`);\n\t}\n\n\tif (isDuplexStream(final, {checkOpen: false})) {\n\t\tthrow new TypeError(`The \\`${optionName}.final\\` option must not be a Duplex stream.`);\n\t}\n\n\tif (isTransformStream(final)) {\n\t\tthrow new TypeError(`The \\`${optionName}.final\\` option must not be a web TransformStream.`);\n\t}\n\n\tif (final !== undefined && !isGenerator(final)) {\n\t\tthrow new TypeError(`The \\`${optionName}.final\\` option must be a generator.`);\n\t}\n\n\tcheckBooleanOption(binary, `${optionName}.binary`);\n\tcheckBooleanOption(objectMode, `${optionName}.objectMode`);\n\n\treturn isAsyncGenerator(transform) || isAsyncGenerator(final) ? 'asyncGenerator' : 'generator';\n};\n\nconst checkBooleanOption = (value, optionName) => {\n\tif (value !== undefined && typeof value !== 'boolean') {\n\t\tthrow new TypeError(`The \\`${optionName}\\` option must use a boolean.`);\n\t}\n};\n\nconst isGenerator = value => isAsyncGenerator(value) || isSyncGenerator(value);\nexport const isAsyncGenerator = value => Object.prototype.toString.call(value) === '[object AsyncGeneratorFunction]';\nconst isSyncGenerator = value => Object.prototype.toString.call(value) === '[object GeneratorFunction]';\nconst isTransformOptions = value => isPlainObj(value)\n\t&& (value.transform !== undefined || value.final !== undefined);\n\nexport const isUrl = value => Object.prototype.toString.call(value) === '[object URL]';\nexport const isRegularUrl = value => isUrl(value) && value.protocol !== 'file:';\n\nconst isFilePathObject = value => isPlainObj(value)\n\t&& Object.keys(value).length > 0\n\t&& Object.keys(value).every(key => FILE_PATH_KEYS.has(key))\n\t&& isFilePathString(value.file);\nconst FILE_PATH_KEYS = new Set(['file', 'append']);\nexport const isFilePathString = file => typeof file === 'string';\n\nexport const isUnknownStdioString = (type, value) => type === 'native'\n\t&& typeof value === 'string'\n\t&& !KNOWN_STDIO_STRINGS.has(value);\nconst KNOWN_STDIO_STRINGS = new Set(['ipc', 'ignore', 'inherit', 'overlapped', 'pipe']);\n\nconst isReadableStream = value => Object.prototype.toString.call(value) === '[object ReadableStream]';\nexport const isWritableStream = value => Object.prototype.toString.call(value) === '[object WritableStream]';\nconst isWebStream = value => isReadableStream(value) || isWritableStream(value);\nconst isTransformStream = value => isReadableStream(value?.readable) && isWritableStream(value?.writable);\n\nconst isAsyncIterableObject = value => isObject(value) && typeof value[Symbol.asyncIterator] === 'function';\nconst isIterableObject = value => isObject(value) && typeof value[Symbol.iterator] === 'function';\nconst isObject = value => typeof value === 'object' && value !== null;\n\n// Types which modify `subprocess.std*`\nexport const TRANSFORM_TYPES = new Set(['generator', 'asyncGenerator', 'duplex', 'webTransform']);\n// Types which write to a file or a file descriptor\nexport const FILE_TYPES = new Set(['fileUrl', 'filePath', 'fileNumber']);\n// When two file descriptors of this type share the same target, we need to do some special logic\nexport const SPECIAL_DUPLICATE_TYPES_SYNC = new Set(['fileUrl', 'filePath']);\nexport const SPECIAL_DUPLICATE_TYPES = new Set([...SPECIAL_DUPLICATE_TYPES_SYNC, 'webStream', 'nodeStream']);\n// Do not allow two file descriptors of this type sharing the same target\nexport const FORBID_DUPLICATE_TYPES = new Set(['webTransform', 'duplex']);\n\n// Convert types to human-friendly strings for error messages\nexport const TYPE_TO_MESSAGE = {\n\tgenerator: 'a generator',\n\tasyncGenerator: 'an async generator',\n\tfileUrl: 'a file URL',\n\tfilePath: 'a file path string',\n\tfileNumber: 'a file descriptor number',\n\twebStream: 'a web stream',\n\tnodeStream: 'a Node.js stream',\n\twebTransform: 'a web TransformStream',\n\tduplex: 'a Duplex stream',\n\tnative: 'any value',\n\titerable: 'an iterable',\n\tasyncIterable: 'an async iterable',\n\tstring: 'a string',\n\tuint8Array: 'a Uint8Array',\n};\n", "import {TRANSFORM_TYPES} from '../stdio/type.js';\n\n/*\nRetrieve the `objectMode`s of a single transform.\n`objectMode` determines the return value's type, i.e. the `readableObjectMode`.\nThe chunk argument's type is based on the previous generator's return value, i.e. the `writableObjectMode` is based on the previous `readableObjectMode`.\nThe last input's generator is read by `subprocess.stdin` which:\n- should not be in `objectMode` for performance reasons.\n- can only be strings, Buffers and Uint8Arrays.\nTherefore its `readableObjectMode` must be `false`.\nThe same applies to the first output's generator's `writableObjectMode`.\n*/\nexport const getTransformObjectModes = (objectMode, index, newTransforms, direction) => direction === 'output'\n\t? getOutputObjectModes(objectMode, index, newTransforms)\n\t: getInputObjectModes(objectMode, index, newTransforms);\n\nconst getOutputObjectModes = (objectMode, index, newTransforms) => {\n\tconst writableObjectMode = index !== 0 && newTransforms[index - 1].value.readableObjectMode;\n\tconst readableObjectMode = objectMode ?? writableObjectMode;\n\treturn {writableObjectMode, readableObjectMode};\n};\n\nconst getInputObjectModes = (objectMode, index, newTransforms) => {\n\tconst writableObjectMode = index === 0\n\t\t? objectMode === true\n\t\t: newTransforms[index - 1].value.readableObjectMode;\n\tconst readableObjectMode = index !== newTransforms.length - 1 && (objectMode ?? writableObjectMode);\n\treturn {writableObjectMode, readableObjectMode};\n};\n\n// Retrieve the `objectMode` of a file descriptor, e.g. `stdout` or `stderr`\nexport const getFdObjectMode = (stdioItems, direction) => {\n\tconst lastTransform = stdioItems.findLast(({type}) => TRANSFORM_TYPES.has(type));\n\tif (lastTransform === undefined) {\n\t\treturn false;\n\t}\n\n\treturn direction === 'input'\n\t\t? lastTransform.value.writableObjectMode\n\t\t: lastTransform.value.readableObjectMode;\n};\n", "import isPlainObj from 'is-plain-obj';\nimport {BINARY_ENCODINGS} from '../arguments/encoding-option.js';\nimport {TRANSFORM_TYPES} from '../stdio/type.js';\nimport {getTransformObjectModes} from './object-mode.js';\n\n// Transforms generators/duplex/TransformStream can have multiple shapes.\n// This normalizes it and applies default values.\nexport const normalizeTransforms = (stdioItems, optionName, direction, options) => [\n\t...stdioItems.filter(({type}) => !TRANSFORM_TYPES.has(type)),\n\t...getTransforms(stdioItems, optionName, direction, options),\n];\n\nconst getTransforms = (stdioItems, optionName, direction, {encoding}) => {\n\tconst transforms = stdioItems.filter(({type}) => TRANSFORM_TYPES.has(type));\n\tconst newTransforms = Array.from({length: transforms.length});\n\n\tfor (const [index, stdioItem] of Object.entries(transforms)) {\n\t\tnewTransforms[index] = normalizeTransform({\n\t\t\tstdioItem,\n\t\t\tindex: Number(index),\n\t\t\tnewTransforms,\n\t\t\toptionName,\n\t\t\tdirection,\n\t\t\tencoding,\n\t\t});\n\t}\n\n\treturn sortTransforms(newTransforms, direction);\n};\n\nconst normalizeTransform = ({stdioItem, stdioItem: {type}, index, newTransforms, optionName, direction, encoding}) => {\n\tif (type === 'duplex') {\n\t\treturn normalizeDuplex({stdioItem, optionName});\n\t}\n\n\tif (type === 'webTransform') {\n\t\treturn normalizeTransformStream({\n\t\t\tstdioItem,\n\t\t\tindex,\n\t\t\tnewTransforms,\n\t\t\tdirection,\n\t\t});\n\t}\n\n\treturn normalizeGenerator({\n\t\tstdioItem,\n\t\tindex,\n\t\tnewTransforms,\n\t\tdirection,\n\t\tencoding,\n\t});\n};\n\nconst normalizeDuplex = ({\n\tstdioItem,\n\tstdioItem: {\n\t\tvalue: {\n\t\t\ttransform,\n\t\t\ttransform: {writableObjectMode, readableObjectMode},\n\t\t\tobjectMode = readableObjectMode,\n\t\t},\n\t},\n\toptionName,\n}) => {\n\tif (objectMode && !readableObjectMode) {\n\t\tthrow new TypeError(`The \\`${optionName}.objectMode\\` option can only be \\`true\\` if \\`new Duplex({objectMode: true})\\` is used.`);\n\t}\n\n\tif (!objectMode && readableObjectMode) {\n\t\tthrow new TypeError(`The \\`${optionName}.objectMode\\` option cannot be \\`false\\` if \\`new Duplex({objectMode: true})\\` is used.`);\n\t}\n\n\treturn {\n\t\t...stdioItem,\n\t\tvalue: {transform, writableObjectMode, readableObjectMode},\n\t};\n};\n\nconst normalizeTransformStream = ({stdioItem, stdioItem: {value}, index, newTransforms, direction}) => {\n\tconst {transform, objectMode} = isPlainObj(value) ? value : {transform: value};\n\tconst {writableObjectMode, readableObjectMode} = getTransformObjectModes(objectMode, index, newTransforms, direction);\n\treturn ({\n\t\t...stdioItem,\n\t\tvalue: {transform, writableObjectMode, readableObjectMode},\n\t});\n};\n\nconst normalizeGenerator = ({stdioItem, stdioItem: {value}, index, newTransforms, direction, encoding}) => {\n\tconst {\n\t\ttransform,\n\t\tfinal,\n\t\tbinary: binaryOption = false,\n\t\tpreserveNewlines = false,\n\t\tobjectMode,\n\t} = isPlainObj(value) ? value : {transform: value};\n\tconst binary = binaryOption || BINARY_ENCODINGS.has(encoding);\n\tconst {writableObjectMode, readableObjectMode} = getTransformObjectModes(objectMode, index, newTransforms, direction);\n\treturn {\n\t\t...stdioItem,\n\t\tvalue: {\n\t\t\ttransform,\n\t\t\tfinal,\n\t\t\tbinary,\n\t\t\tpreserveNewlines,\n\t\t\twritableObjectMode,\n\t\t\treadableObjectMode,\n\t\t},\n\t};\n};\n\nconst sortTransforms = (newTransforms, direction) => direction === 'input' ? newTransforms.reverse() : newTransforms;\n", "import process from 'node:process';\nimport {\n\tisStream as isNodeStream,\n\tisReadableStream as isNodeReadableStream,\n\tisWritableStream as isNodeWritableStream,\n} from 'is-stream';\nimport {isWritableStream} from './type.js';\n\n// For `stdio[fdNumber]` beyond stdin/stdout/stderr, we need to guess whether the value passed is intended for inputs or outputs.\n// This allows us to know whether to pipe _into_ or _from_ the stream.\n// When `stdio[fdNumber]` is a single value, this guess is fairly straightforward.\n// However, when it is an array instead, we also need to make sure the different values are not incompatible with each other.\nexport const getStreamDirection = (stdioItems, fdNumber, optionName) => {\n\tconst directions = stdioItems.map(stdioItem => getStdioItemDirection(stdioItem, fdNumber));\n\n\tif (directions.includes('input') && directions.includes('output')) {\n\t\tthrow new TypeError(`The \\`${optionName}\\` option must not be an array of both readable and writable values.`);\n\t}\n\n\treturn directions.find(Boolean) ?? DEFAULT_DIRECTION;\n};\n\nconst getStdioItemDirection = ({type, value}, fdNumber) => KNOWN_DIRECTIONS[fdNumber] ?? guessStreamDirection[type](value);\n\n// `stdin`/`stdout`/`stderr` have a known direction\nconst KNOWN_DIRECTIONS = ['input', 'output', 'output'];\n\nconst anyDirection = () => undefined;\nconst alwaysInput = () => 'input';\n\n// `string` can only be added through the `input` option, i.e. does not need to be handled here\nconst guessStreamDirection = {\n\tgenerator: anyDirection,\n\tasyncGenerator: anyDirection,\n\tfileUrl: anyDirection,\n\tfilePath: anyDirection,\n\titerable: alwaysInput,\n\tasyncIterable: alwaysInput,\n\tuint8Array: alwaysInput,\n\twebStream: value => isWritableStream(value) ? 'output' : 'input',\n\tnodeStream(value) {\n\t\tif (!isNodeReadableStream(value, {checkOpen: false})) {\n\t\t\treturn 'output';\n\t\t}\n\n\t\treturn isNodeWritableStream(value, {checkOpen: false}) ? undefined : 'input';\n\t},\n\twebTransform: anyDirection,\n\tduplex: anyDirection,\n\tnative(value) {\n\t\tconst standardStreamDirection = getStandardStreamDirection(value);\n\t\tif (standardStreamDirection !== undefined) {\n\t\t\treturn standardStreamDirection;\n\t\t}\n\n\t\tif (isNodeStream(value, {checkOpen: false})) {\n\t\t\treturn guessStreamDirection.nodeStream(value);\n\t\t}\n\t},\n};\n\nconst getStandardStreamDirection = value => {\n\tif ([0, process.stdin].includes(value)) {\n\t\treturn 'input';\n\t}\n\n\tif ([1, 2, process.stdout, process.stderr].includes(value)) {\n\t\treturn 'output';\n\t}\n};\n\n// When ambiguous, we initially keep the direction as `undefined`.\n// This allows arrays of `stdio` values to resolve the ambiguity.\n// For example, `stdio[3]: DuplexStream` is ambiguous, but `stdio[3]: [DuplexStream, WritableStream]` is not.\n// When the ambiguity remains, we default to `output` since it is the most common use case for additional file descriptors.\nconst DEFAULT_DIRECTION = 'output';\n", "// The `ipc` option adds an `ipc` item to the `stdio` option\nexport const normalizeIpcStdioArray = (stdioArray, ipc) => ipc && !stdioArray.includes('ipc')\n\t? [...stdioArray, 'ipc']\n\t: stdioArray;\n", "import {STANDARD_STREAMS_ALIASES} from '../utils/standard-stream.js';\nimport {normalizeIpcStdioArray} from '../ipc/array.js';\nimport {isFullVerbose} from '../verbose/values.js';\n\n// Add support for `stdin`/`stdout`/`stderr` as an alias for `stdio`.\n// Also normalize the `stdio` option.\nexport const normalizeStdioOption = ({stdio, ipc, buffer, ...options}, verboseInfo, isSync) => {\n\tconst stdioArray = getStdioArray(stdio, options).map((stdioOption, fdNumber) => addDefaultValue(stdioOption, fdNumber));\n\treturn isSync\n\t\t? normalizeStdioSync(stdioArray, buffer, verboseInfo)\n\t\t: normalizeIpcStdioArray(stdioArray, ipc);\n};\n\nconst getStdioArray = (stdio, options) => {\n\tif (stdio === undefined) {\n\t\treturn STANDARD_STREAMS_ALIASES.map(alias => options[alias]);\n\t}\n\n\tif (hasAlias(options)) {\n\t\tthrow new Error(`It's not possible to provide \\`stdio\\` in combination with one of ${STANDARD_STREAMS_ALIASES.map(alias => `\\`${alias}\\``).join(', ')}`);\n\t}\n\n\tif (typeof stdio === 'string') {\n\t\treturn [stdio, stdio, stdio];\n\t}\n\n\tif (!Array.isArray(stdio)) {\n\t\tthrow new TypeError(`Expected \\`stdio\\` to be of type \\`string\\` or \\`Array\\`, got \\`${typeof stdio}\\``);\n\t}\n\n\tconst length = Math.max(stdio.length, STANDARD_STREAMS_ALIASES.length);\n\treturn Array.from({length}, (_, fdNumber) => stdio[fdNumber]);\n};\n\nconst hasAlias = options => STANDARD_STREAMS_ALIASES.some(alias => options[alias] !== undefined);\n\nconst addDefaultValue = (stdioOption, fdNumber) => {\n\tif (Array.isArray(stdioOption)) {\n\t\treturn stdioOption.map(item => addDefaultValue(item, fdNumber));\n\t}\n\n\tif (stdioOption === null || stdioOption === undefined) {\n\t\treturn fdNumber >= STANDARD_STREAMS_ALIASES.length ? 'ignore' : 'pipe';\n\t}\n\n\treturn stdioOption;\n};\n\n// Using `buffer: false` with synchronous methods implies `stdout`/`stderr`: `ignore`.\n// Unless the output is needed, e.g. due to `verbose: 'full'` or to redirecting to a file.\nconst normalizeStdioSync = (stdioArray, buffer, verboseInfo) => stdioArray.map((stdioOption, fdNumber) =>\n\t!buffer[fdNumber]\n\t&& fdNumber !== 0\n\t&& !isFullVerbose(verboseInfo, fdNumber)\n\t&& isOutputPipeOnly(stdioOption)\n\t\t? 'ignore'\n\t\t: stdioOption);\n\nconst isOutputPipeOnly = stdioOption => stdioOption === 'pipe'\n\t|| (Array.isArray(stdioOption) && stdioOption.every(item => item === 'pipe'));\n", "import {readFileSync} from 'node:fs';\nimport tty from 'node:tty';\nimport {isStream as isNodeStream} from 'is-stream';\nimport {STANDARD_STREAMS} from '../utils/standard-stream.js';\nimport {bufferToUint8Array} from '../utils/uint-array.js';\nimport {serializeOptionValue} from '../arguments/fd-options.js';\n\n// When we use multiple `stdio` values for the same streams, we pass 'pipe' to `child_process.spawn()`.\n// We then emulate the piping done by core Node.js.\n// To do so, we transform the following values:\n//  - Node.js streams are marked as `type: nodeStream`\n//  - 'inherit' becomes `process.stdin|stdout|stderr`\n//  - any file descriptor integer becomes `process.stdio[fdNumber]`\n// All of the above transformations tell Execa to perform manual piping.\nexport const handleNativeStream = ({stdioItem, stdioItem: {type}, isStdioArray, fdNumber, direction, isSync}) => {\n\tif (!isStdioArray || type !== 'native') {\n\t\treturn stdioItem;\n\t}\n\n\treturn isSync\n\t\t? handleNativeStreamSync({stdioItem, fdNumber, direction})\n\t\t: handleNativeStreamAsync({stdioItem, fdNumber});\n};\n\n// Synchronous methods use a different logic.\n// 'inherit', file descriptors and process.std* are handled by readFileSync()/writeFileSync().\nconst handleNativeStreamSync = ({stdioItem, stdioItem: {value, optionName}, fdNumber, direction}) => {\n\tconst targetFd = getTargetFd({\n\t\tvalue,\n\t\toptionName,\n\t\tfdNumber,\n\t\tdirection,\n\t});\n\tif (targetFd !== undefined) {\n\t\treturn targetFd;\n\t}\n\n\tif (isNodeStream(value, {checkOpen: false})) {\n\t\tthrow new TypeError(`The \\`${optionName}: Stream\\` option cannot both be an array and include a stream with synchronous methods.`);\n\t}\n\n\treturn stdioItem;\n};\n\nconst getTargetFd = ({value, optionName, fdNumber, direction}) => {\n\tconst targetFdNumber = getTargetFdNumber(value, fdNumber);\n\tif (targetFdNumber === undefined) {\n\t\treturn;\n\t}\n\n\tif (direction === 'output') {\n\t\treturn {type: 'fileNumber', value: targetFdNumber, optionName};\n\t}\n\n\tif (tty.isatty(targetFdNumber)) {\n\t\tthrow new TypeError(`The \\`${optionName}: ${serializeOptionValue(value)}\\` option is invalid: it cannot be a TTY with synchronous methods.`);\n\t}\n\n\treturn {type: 'uint8Array', value: bufferToUint8Array(readFileSync(targetFdNumber)), optionName};\n};\n\nconst getTargetFdNumber = (value, fdNumber) => {\n\tif (value === 'inherit') {\n\t\treturn fdNumber;\n\t}\n\n\tif (typeof value === 'number') {\n\t\treturn value;\n\t}\n\n\tconst standardStreamIndex = STANDARD_STREAMS.indexOf(value);\n\tif (standardStreamIndex !== -1) {\n\t\treturn standardStreamIndex;\n\t}\n};\n\nconst handleNativeStreamAsync = ({stdioItem, stdioItem: {value, optionName}, fdNumber}) => {\n\tif (value === 'inherit') {\n\t\treturn {type: 'nodeStream', value: getStandardStream(fdNumber, value, optionName), optionName};\n\t}\n\n\tif (typeof value === 'number') {\n\t\treturn {type: 'nodeStream', value: getStandardStream(value, value, optionName), optionName};\n\t}\n\n\tif (isNodeStream(value, {checkOpen: false})) {\n\t\treturn {type: 'nodeStream', value, optionName};\n\t}\n\n\treturn stdioItem;\n};\n\n// Node.js does not allow to easily retrieve file descriptors beyond stdin/stdout/stderr as streams.\n//  - `fs.createReadStream()`/`fs.createWriteStream()` with the `fd` option do not work with character devices that use blocking reads/writes (such as interactive TTYs).\n//  - Using a TCP `Socket` would work but be rather complex to implement.\n// Since this is an edge case, we simply throw an error message.\n// See https://github.com/sindresorhus/execa/pull/643#discussion_r1435905707\nconst getStandardStream = (fdNumber, value, optionName) => {\n\tconst standardStream = STANDARD_STREAMS[fdNumber];\n\n\tif (standardStream === undefined) {\n\t\tthrow new TypeError(`The \\`${optionName}: ${value}\\` option is invalid: no such standard stream.`);\n\t}\n\n\treturn standardStream;\n};\n", "import {isReadableStream} from 'is-stream';\nimport {isUint8Array} from '../utils/uint-array.js';\nimport {isUrl, isFilePathString} from './type.js';\n\n// Append the `stdin` option with the `input` and `inputFile` options\nexport const handleInputOptions = ({input, inputFile}, fdNumber) => fdNumber === 0\n\t? [\n\t\t...handleInputOption(input),\n\t\t...handleInputFileOption(inputFile),\n\t]\n\t: [];\n\nconst handleInputOption = input => input === undefined ? [] : [{\n\ttype: getInputType(input),\n\tvalue: input,\n\toptionName: 'input',\n}];\n\nconst getInputType = input => {\n\tif (isReadableStream(input, {checkOpen: false})) {\n\t\treturn 'nodeStream';\n\t}\n\n\tif (typeof input === 'string') {\n\t\treturn 'string';\n\t}\n\n\tif (isUint8Array(input)) {\n\t\treturn 'uint8Array';\n\t}\n\n\tthrow new Error('The `input` option must be a string, a Uint8Array or a Node.js Readable stream.');\n};\n\nconst handleInputFileOption = inputFile => inputFile === undefined ? [] : [{\n\t...getInputFileType(inputFile),\n\toptionName: 'inputFile',\n}];\n\nconst getInputFileType = inputFile => {\n\tif (isUrl(inputFile)) {\n\t\treturn {type: 'fileUrl', value: inputFile};\n\t}\n\n\tif (isFilePathString(inputFile)) {\n\t\treturn {type: 'filePath', value: {file: inputFile}};\n\t}\n\n\tthrow new Error('The `inputFile` option must be a file path string or a file URL.');\n};\n", "import {\n\tSPECIAL_DUPLICATE_TYPES_SYNC,\n\tSPECIAL_DUPLICATE_TYPES,\n\tFORBID_DUPLICATE_TYPES,\n\tTYPE_TO_MESSAGE,\n} from './type.js';\n\n// Duplicates in the same file descriptor is most likely an error.\n// However, this can be useful with generators.\nexport const filterDuplicates = stdioItems => stdioItems.filter((stdioItemOne, indexOne) =>\n\tstdioItems.every((stdioItemTwo, indexTwo) => stdioItemOne.value !== stdioItemTwo.value\n\t\t|| indexOne >= indexTwo\n\t\t|| stdioItemOne.type === 'generator'\n\t\t|| stdioItemOne.type === 'asyncGenerator'));\n\n// Check if two file descriptors are sharing the same target.\n// For example `{stdout: {file: './output.txt'}, stderr: {file: './output.txt'}}`.\nexport const getDuplicateStream = ({stdioItem: {type, value, optionName}, direction, fileDescriptors, isSync}) => {\n\tconst otherStdioItems = getOtherStdioItems(fileDescriptors, type);\n\tif (otherStdioItems.length === 0) {\n\t\treturn;\n\t}\n\n\tif (isSync) {\n\t\tvalidateDuplicateStreamSync({\n\t\t\totherStdioItems,\n\t\t\ttype,\n\t\t\tvalue,\n\t\t\toptionName,\n\t\t\tdirection,\n\t\t});\n\t\treturn;\n\t}\n\n\tif (SPECIAL_DUPLICATE_TYPES.has(type)) {\n\t\treturn getDuplicateStreamInstance({\n\t\t\totherStdioItems,\n\t\t\ttype,\n\t\t\tvalue,\n\t\t\toptionName,\n\t\t\tdirection,\n\t\t});\n\t}\n\n\tif (FORBID_DUPLICATE_TYPES.has(type)) {\n\t\tvalidateDuplicateTransform({\n\t\t\totherStdioItems,\n\t\t\ttype,\n\t\t\tvalue,\n\t\t\toptionName,\n\t\t});\n\t}\n};\n\n// Values shared by multiple file descriptors\nconst getOtherStdioItems = (fileDescriptors, type) => fileDescriptors\n\t.flatMap(({direction, stdioItems}) => stdioItems\n\t\t.filter(stdioItem => stdioItem.type === type)\n\t\t.map((stdioItem => ({...stdioItem, direction}))));\n\n// With `execaSync()`, do not allow setting a file path both in input and output\nconst validateDuplicateStreamSync = ({otherStdioItems, type, value, optionName, direction}) => {\n\tif (SPECIAL_DUPLICATE_TYPES_SYNC.has(type)) {\n\t\tgetDuplicateStreamInstance({\n\t\t\totherStdioItems,\n\t\t\ttype,\n\t\t\tvalue,\n\t\t\toptionName,\n\t\t\tdirection,\n\t\t});\n\t}\n};\n\n// When two file descriptors share the file or stream, we need to re-use the same underlying stream.\n// Otherwise, the stream would be closed twice when piping ends.\n// This is only an issue with output file descriptors.\n// This is not a problem with generator functions since those create a new instance for each file descriptor.\n// We also forbid input and output file descriptors sharing the same file or stream, since that does not make sense.\nconst getDuplicateStreamInstance = ({otherStdioItems, type, value, optionName, direction}) => {\n\tconst duplicateStdioItems = otherStdioItems.filter(stdioItem => hasSameValue(stdioItem, value));\n\tif (duplicateStdioItems.length === 0) {\n\t\treturn;\n\t}\n\n\tconst differentStdioItem = duplicateStdioItems.find(stdioItem => stdioItem.direction !== direction);\n\tthrowOnDuplicateStream(differentStdioItem, optionName, type);\n\n\treturn direction === 'output' ? duplicateStdioItems[0].stream : undefined;\n};\n\nconst hasSameValue = ({type, value}, secondValue) => {\n\tif (type === 'filePath') {\n\t\treturn value.file === secondValue.file;\n\t}\n\n\tif (type === 'fileUrl') {\n\t\treturn value.href === secondValue.href;\n\t}\n\n\treturn value === secondValue;\n};\n\n// We do not allow two file descriptors to share the same Duplex or TransformStream.\n// This is because those are set directly to `subprocess.std*`.\n// For example, this could result in `subprocess.stdout` and `subprocess.stderr` being the same value.\n// This means reading from either would get data from both stdout and stderr.\nconst validateDuplicateTransform = ({otherStdioItems, type, value, optionName}) => {\n\tconst duplicateStdioItem = otherStdioItems.find(({value: {transform}}) => transform === value.transform);\n\tthrowOnDuplicateStream(duplicateStdioItem, optionName, type);\n};\n\nconst throwOnDuplicateStream = (stdioItem, optionName, type) => {\n\tif (stdioItem !== undefined) {\n\t\tthrow new TypeError(`The \\`${stdioItem.optionName}\\` and \\`${optionName}\\` options must not target ${TYPE_TO_MESSAGE[type]} that is the same.`);\n\t}\n};\n", "import {getStreamName, isStandardStream} from '../utils/standard-stream.js';\nimport {normalizeTransforms} from '../transform/normalize.js';\nimport {getFdObjectMode} from '../transform/object-mode.js';\nimport {\n\tgetStdioItemType,\n\tisRegularUrl,\n\tisUnknownStdioString,\n\tFILE_TYPES,\n} from './type.js';\nimport {getStreamDirection} from './direction.js';\nimport {normalizeStdioOption} from './stdio-option.js';\nimport {handleNativeStream} from './native.js';\nimport {handleInputOptions} from './input-option.js';\nimport {filterDuplicates, getDuplicateStream} from './duplicate.js';\n\n// Handle `input`, `inputFile`, `stdin`, `stdout` and `stderr` options, before spawning, in async/sync mode\n// They are converted into an array of `fileDescriptors`.\n// Each `fileDescriptor` is normalized, validated and contains all information necessary for further handling.\nexport const handleStdio = (addProperties, options, verboseInfo, isSync) => {\n\tconst stdio = normalizeStdioOption(options, verboseInfo, isSync);\n\tconst initialFileDescriptors = stdio.map((stdioOption, fdNumber) => getFileDescriptor({\n\t\tstdioOption,\n\t\tfdNumber,\n\t\toptions,\n\t\tisSync,\n\t}));\n\tconst fileDescriptors = getFinalFileDescriptors({\n\t\tinitialFileDescriptors,\n\t\taddProperties,\n\t\toptions,\n\t\tisSync,\n\t});\n\toptions.stdio = fileDescriptors.map(({stdioItems}) => forwardStdio(stdioItems));\n\treturn fileDescriptors;\n};\n\nconst getFileDescriptor = ({stdioOption, fdNumber, options, isSync}) => {\n\tconst optionName = getStreamName(fdNumber);\n\tconst {stdioItems: initialStdioItems, isStdioArray} = initializeStdioItems({\n\t\tstdioOption,\n\t\tfdNumber,\n\t\toptions,\n\t\toptionName,\n\t});\n\tconst direction = getStreamDirection(initialStdioItems, fdNumber, optionName);\n\tconst stdioItems = initialStdioItems.map(stdioItem => handleNativeStream({\n\t\tstdioItem,\n\t\tisStdioArray,\n\t\tfdNumber,\n\t\tdirection,\n\t\tisSync,\n\t}));\n\tconst normalizedStdioItems = normalizeTransforms(stdioItems, optionName, direction, options);\n\tconst objectMode = getFdObjectMode(normalizedStdioItems, direction);\n\tvalidateFileObjectMode(normalizedStdioItems, objectMode);\n\treturn {direction, objectMode, stdioItems: normalizedStdioItems};\n};\n\n// We make sure passing an array with a single item behaves the same as passing that item without an array.\n// This is what users would expect.\n// For example, `stdout: ['ignore']` behaves the same as `stdout: 'ignore'`.\nconst initializeStdioItems = ({stdioOption, fdNumber, options, optionName}) => {\n\tconst values = Array.isArray(stdioOption) ? stdioOption : [stdioOption];\n\tconst initialStdioItems = [\n\t\t...values.map(value => initializeStdioItem(value, optionName)),\n\t\t...handleInputOptions(options, fdNumber),\n\t];\n\n\tconst stdioItems = filterDuplicates(initialStdioItems);\n\tconst isStdioArray = stdioItems.length > 1;\n\tvalidateStdioArray(stdioItems, isStdioArray, optionName);\n\tvalidateStreams(stdioItems);\n\treturn {stdioItems, isStdioArray};\n};\n\nconst initializeStdioItem = (value, optionName) => ({\n\ttype: getStdioItemType(value, optionName),\n\tvalue,\n\toptionName,\n});\n\nconst validateStdioArray = (stdioItems, isStdioArray, optionName) => {\n\tif (stdioItems.length === 0) {\n\t\tthrow new TypeError(`The \\`${optionName}\\` option must not be an empty array.`);\n\t}\n\n\tif (!isStdioArray) {\n\t\treturn;\n\t}\n\n\tfor (const {value, optionName} of stdioItems) {\n\t\tif (INVALID_STDIO_ARRAY_OPTIONS.has(value)) {\n\t\t\tthrow new Error(`The \\`${optionName}\\` option must not include \\`${value}\\`.`);\n\t\t}\n\t}\n};\n\n// Using those `stdio` values together with others for the same stream does not make sense, so we make it fail.\n// However, we do allow it if the array has a single item.\nconst INVALID_STDIO_ARRAY_OPTIONS = new Set(['ignore', 'ipc']);\n\nconst validateStreams = stdioItems => {\n\tfor (const stdioItem of stdioItems) {\n\t\tvalidateFileStdio(stdioItem);\n\t}\n};\n\nconst validateFileStdio = ({type, value, optionName}) => {\n\tif (isRegularUrl(value)) {\n\t\tthrow new TypeError(`The \\`${optionName}: URL\\` option must use the \\`file:\\` scheme.\nFor example, you can use the \\`pathToFileURL()\\` method of the \\`url\\` core module.`);\n\t}\n\n\tif (isUnknownStdioString(type, value)) {\n\t\tthrow new TypeError(`The \\`${optionName}: { file: '...' }\\` option must be used instead of \\`${optionName}: '...'\\`.`);\n\t}\n};\n\nconst validateFileObjectMode = (stdioItems, objectMode) => {\n\tif (!objectMode) {\n\t\treturn;\n\t}\n\n\tconst fileStdioItem = stdioItems.find(({type}) => FILE_TYPES.has(type));\n\tif (fileStdioItem !== undefined) {\n\t\tthrow new TypeError(`The \\`${fileStdioItem.optionName}\\` option cannot use both files and transforms in objectMode.`);\n\t}\n};\n\n// Some `stdio` values require Execa to create streams.\n// For example, file paths create file read/write streams.\n// Those transformations are specified in `addProperties`, which is both direction-specific and type-specific.\nconst getFinalFileDescriptors = ({initialFileDescriptors, addProperties, options, isSync}) => {\n\tconst fileDescriptors = [];\n\n\ttry {\n\t\tfor (const fileDescriptor of initialFileDescriptors) {\n\t\t\tfileDescriptors.push(getFinalFileDescriptor({\n\t\t\t\tfileDescriptor,\n\t\t\t\tfileDescriptors,\n\t\t\t\taddProperties,\n\t\t\t\toptions,\n\t\t\t\tisSync,\n\t\t\t}));\n\t\t}\n\n\t\treturn fileDescriptors;\n\t} catch (error) {\n\t\tcleanupCustomStreams(fileDescriptors);\n\t\tthrow error;\n\t}\n};\n\nconst getFinalFileDescriptor = ({\n\tfileDescriptor: {direction, objectMode, stdioItems},\n\tfileDescriptors,\n\taddProperties,\n\toptions,\n\tisSync,\n}) => {\n\tconst finalStdioItems = stdioItems.map(stdioItem => addStreamProperties({\n\t\tstdioItem,\n\t\taddProperties,\n\t\tdirection,\n\t\toptions,\n\t\tfileDescriptors,\n\t\tisSync,\n\t}));\n\treturn {direction, objectMode, stdioItems: finalStdioItems};\n};\n\nconst addStreamProperties = ({stdioItem, addProperties, direction, options, fileDescriptors, isSync}) => {\n\tconst duplicateStream = getDuplicateStream({\n\t\tstdioItem,\n\t\tdirection,\n\t\tfileDescriptors,\n\t\tisSync,\n\t});\n\n\tif (duplicateStream !== undefined) {\n\t\treturn {...stdioItem, stream: duplicateStream};\n\t}\n\n\treturn {\n\t\t...stdioItem,\n\t\t...addProperties[direction][stdioItem.type](stdioItem, options),\n\t};\n};\n\n// The stream error handling is performed by the piping logic above, which cannot be performed before subprocess spawning.\n// If the subprocess spawning fails (e.g. due to an invalid command), the streams need to be manually destroyed.\n// We need to create those streams before subprocess spawning, in case their creation fails, e.g. when passing an invalid generator as argument.\n// Like this, an exception would be thrown, which would prevent spawning a subprocess.\nexport const cleanupCustomStreams = fileDescriptors => {\n\tfor (const {stdioItems} of fileDescriptors) {\n\t\tfor (const {stream} of stdioItems) {\n\t\t\tif (stream !== undefined && !isStandardStream(stream)) {\n\t\t\t\tstream.destroy();\n\t\t\t}\n\t\t}\n\t}\n};\n\n// When the `std*: Iterable | WebStream | URL | filePath`, `input` or `inputFile` option is used, we pipe to `subprocess.std*`.\n// When the `std*: Array` option is used, we emulate some of the native values ('inherit', Node.js stream and file descriptor integer). To do so, we also need to pipe to `subprocess.std*`.\n// Therefore the `std*` options must be either `pipe` or `overlapped`. Other values do not set `subprocess.std*`.\nconst forwardStdio = stdioItems => {\n\tif (stdioItems.length > 1) {\n\t\treturn stdioItems.some(({value}) => value === 'overlapped') ? 'overlapped' : 'pipe';\n\t}\n\n\tconst [{type, value}] = stdioItems;\n\treturn type === 'native' ? value : 'pipe';\n};\n", "import stripFinalNewlineFunction from 'strip-final-newline';\n\n// Apply `stripFinalNewline` option, which applies to `result.stdout|stderr|all|stdio[*]`.\n// If the `lines` option is used, it is applied on each line, but using a different function.\nexport const stripNewline = (value, {stripFinalNewline}, fdNumber) => getStripFinalNewline(stripFinalNewline, fdNumber) && value !== undefined && !Array.isArray(value)\n\t? stripFinalNewlineFunction(value)\n\t: value;\n\n// Retrieve `stripFinalNewline` option value, including with `subprocess.all`\nexport const getStripFinalNewline = (stripFinalNewline, fdNumber) => fdNumber === 'all'\n\t? stripFinalNewline[1] || stripFinalNewline[2]\n\t: stripFinalNewline[fdNumber];\n", "import {Transform, getDefaultHighWaterMark} from 'node:stream';\nimport {isAsyncGenerator} from '../stdio/type.js';\nimport {getSplitLinesGenerator, getAppendNewlineGenerator} from './split.js';\nimport {getValidateTransformInput, getValidateTransformReturn} from './validate.js';\nimport {getEncodingTransformGenerator} from './encoding-transform.js';\nimport {\n\tpushChunks,\n\ttransformChunk,\n\tfinalChunks,\n\tdestroyTransform,\n} from './run-async.js';\nimport {\n\tpushChunksSync,\n\ttransformChunkSync,\n\tfinalChunksSync,\n\trunTransformSync,\n} from './run-sync.js';\n\n/*\nGenerators can be used to transform/filter standard streams.\n\nGenerators have a simple syntax, yet allows all of the following:\n- Sharing `state` between chunks\n- Flushing logic, by using a `final` function\n- Asynchronous logic\n- Emitting multiple chunks from a single source chunk, even if spaced in time, by using multiple `yield`\n- Filtering, by using no `yield`\n\nTherefore, there is no need to allow Node.js or web transform streams.\n\nThe `highWaterMark` is kept as the default value, since this is what `subprocess.std*` uses.\n\nChunks are currently processed serially. We could add a `concurrency` option to parallelize in the future.\n\nTransform an array of generator functions into a `Transform` stream.\n`Duplex.from(generator)` cannot be used because it does not allow setting the `objectMode` and `highWaterMark`.\n*/\nexport const generatorToStream = ({\n\tvalue,\n\tvalue: {transform, final, writableObjectMode, readableObjectMode},\n\toptionName,\n}, {encoding}) => {\n\tconst state = {};\n\tconst generators = addInternalGenerators(value, encoding, optionName);\n\n\tconst transformAsync = isAsyncGenerator(transform);\n\tconst finalAsync = isAsyncGenerator(final);\n\tconst transformMethod = transformAsync\n\t\t? pushChunks.bind(undefined, transformChunk, state)\n\t\t: pushChunksSync.bind(undefined, transformChunkSync);\n\tconst finalMethod = transformAsync || finalAsync\n\t\t? pushChunks.bind(undefined, finalChunks, state)\n\t\t: pushChunksSync.bind(undefined, finalChunksSync);\n\tconst destroyMethod = transformAsync || finalAsync\n\t\t? destroyTransform.bind(undefined, state)\n\t\t: undefined;\n\n\tconst stream = new Transform({\n\t\twritableObjectMode,\n\t\twritableHighWaterMark: getDefaultHighWaterMark(writableObjectMode),\n\t\treadableObjectMode,\n\t\treadableHighWaterMark: getDefaultHighWaterMark(readableObjectMode),\n\t\ttransform(chunk, encoding, done) {\n\t\t\ttransformMethod([chunk, generators, 0], this, done);\n\t\t},\n\t\tflush(done) {\n\t\t\tfinalMethod([generators], this, done);\n\t\t},\n\t\tdestroy: destroyMethod,\n\t});\n\treturn {stream};\n};\n\n// Applies transform generators in sync mode\nexport const runGeneratorsSync = (chunks, stdioItems, encoding, isInput) => {\n\tconst generators = stdioItems.filter(({type}) => type === 'generator');\n\tconst reversedGenerators = isInput ? generators.reverse() : generators;\n\n\tfor (const {value, optionName} of reversedGenerators) {\n\t\tconst generators = addInternalGenerators(value, encoding, optionName);\n\t\tchunks = runTransformSync(generators, chunks);\n\t}\n\n\treturn chunks;\n};\n\n// Generators used internally to convert the chunk type, validate it, and split into lines\nconst addInternalGenerators = (\n\t{transform, final, binary, writableObjectMode, readableObjectMode, preserveNewlines},\n\tencoding,\n\toptionName,\n) => {\n\tconst state = {};\n\treturn [\n\t\t{transform: getValidateTransformInput(writableObjectMode, optionName)},\n\t\tgetEncodingTransformGenerator(binary, encoding, writableObjectMode),\n\t\tgetSplitLinesGenerator(binary, preserveNewlines, writableObjectMode, state),\n\t\t{transform, final},\n\t\t{transform: getValidateTransformReturn(readableObjectMode, optionName)},\n\t\tgetAppendNewlineGenerator({\n\t\t\tbinary,\n\t\t\tpreserveNewlines,\n\t\t\treadableObjectMode,\n\t\t\tstate,\n\t\t}),\n\t].filter(Boolean);\n};\n", "// Split chunks line-wise for generators passed to the `std*` options\nexport const getSplitLinesGenerator = (binary, preserveNewlines, skipped, state) => binary || skipped\n\t? undefined\n\t: initializeSplitLines(preserveNewlines, state);\n\n// Same but for synchronous methods\nexport const splitLinesSync = (chunk, preserveNewlines, objectMode) => objectMode\n\t? chunk.flatMap(item => splitLinesItemSync(item, preserveNewlines))\n\t: splitLinesItemSync(chunk, preserveNewlines);\n\nconst splitLinesItemSync = (chunk, preserveNewlines) => {\n\tconst {transform, final} = initializeSplitLines(preserveNewlines, {});\n\treturn [...transform(chunk), ...final()];\n};\n\nconst initializeSplitLines = (preserveNewlines, state) => {\n\tstate.previousChunks = '';\n\treturn {\n\t\ttransform: splitGenerator.bind(undefined, state, preserveNewlines),\n\t\tfinal: linesFinal.bind(undefined, state),\n\t};\n};\n\n// This imperative logic is much faster than using `String.split()` and uses very low memory.\nconst splitGenerator = function * (state, preserveNewlines, chunk) {\n\tif (typeof chunk !== 'string') {\n\t\tyield chunk;\n\t\treturn;\n\t}\n\n\tlet {previousChunks} = state;\n\tlet start = -1;\n\n\tfor (let end = 0; end < chunk.length; end += 1) {\n\t\tif (chunk[end] === '\\n') {\n\t\t\tconst newlineLength = getNewlineLength(chunk, end, preserveNewlines, state);\n\t\t\tlet line = chunk.slice(start + 1, end + 1 - newlineLength);\n\n\t\t\tif (previousChunks.length > 0) {\n\t\t\t\tline = concatString(previousChunks, line);\n\t\t\t\tpreviousChunks = '';\n\t\t\t}\n\n\t\t\tyield line;\n\t\t\tstart = end;\n\t\t}\n\t}\n\n\tif (start !== chunk.length - 1) {\n\t\tpreviousChunks = concatString(previousChunks, chunk.slice(start + 1));\n\t}\n\n\tstate.previousChunks = previousChunks;\n};\n\nconst getNewlineLength = (chunk, end, preserveNewlines, state) => {\n\tif (preserveNewlines) {\n\t\treturn 0;\n\t}\n\n\tstate.isWindowsNewline = end !== 0 && chunk[end - 1] === '\\r';\n\treturn state.isWindowsNewline ? 2 : 1;\n};\n\nconst linesFinal = function * ({previousChunks}) {\n\tif (previousChunks.length > 0) {\n\t\tyield previousChunks;\n\t}\n};\n\n// Unless `preserveNewlines: true` is used, we strip the newline of each line.\n// This re-adds them after the user `transform` code has run.\nexport const getAppendNewlineGenerator = ({binary, preserveNewlines, readableObjectMode, state}) => binary || preserveNewlines || readableObjectMode\n\t? undefined\n\t: {transform: appendNewlineGenerator.bind(undefined, state)};\n\nconst appendNewlineGenerator = function * ({isWindowsNewline = false}, chunk) {\n\tconst {unixNewline, windowsNewline, LF, concatBytes} = typeof chunk === 'string' ? linesStringInfo : linesUint8ArrayInfo;\n\n\tif (chunk.at(-1) === LF) {\n\t\tyield chunk;\n\t\treturn;\n\t}\n\n\tconst newline = isWindowsNewline ? windowsNewline : unixNewline;\n\tyield concatBytes(chunk, newline);\n};\n\nconst concatString = (firstChunk, secondChunk) => `${firstChunk}${secondChunk}`;\n\nconst linesStringInfo = {\n\twindowsNewline: '\\r\\n',\n\tunixNewline: '\\n',\n\tLF: '\\n',\n\tconcatBytes: concatString,\n};\n\nconst concatUint8Array = (firstChunk, secondChunk) => {\n\tconst chunk = new Uint8Array(firstChunk.length + secondChunk.length);\n\tchunk.set(firstChunk, 0);\n\tchunk.set(secondChunk, firstChunk.length);\n\treturn chunk;\n};\n\nconst linesUint8ArrayInfo = {\n\twindowsNewline: new Uint8Array([0x0D, 0x0A]),\n\tunixNewline: new Uint8Array([0x0A]),\n\tLF: 0x0A,\n\tconcatBytes: concatUint8Array,\n};\n", "import {Buffer} from 'node:buffer';\nimport {isUint8Array} from '../utils/uint-array.js';\n\n// Validate the type of chunk argument passed to transform generators\nexport const getValidateTransformInput = (writableObjectMode, optionName) => writableObjectMode\n\t? undefined\n\t: validateStringTransformInput.bind(undefined, optionName);\n\nconst validateStringTransformInput = function * (optionName, chunk) {\n\tif (typeof chunk !== 'string' && !isUint8Array(chunk) && !Buffer.isBuffer(chunk)) {\n\t\tthrow new TypeError(`The \\`${optionName}\\` option's transform must use \"objectMode: true\" to receive as input: ${typeof chunk}.`);\n\t}\n\n\tyield chunk;\n};\n\n// Validate the type of the value returned by transform generators\nexport const getValidateTransformReturn = (readableObjectMode, optionName) => readableObjectMode\n\t? validateObjectTransformReturn.bind(undefined, optionName)\n\t: validateStringTransformReturn.bind(undefined, optionName);\n\nconst validateObjectTransformReturn = function * (optionName, chunk) {\n\tvalidateEmptyReturn(optionName, chunk);\n\tyield chunk;\n};\n\nconst validateStringTransformReturn = function * (optionName, chunk) {\n\tvalidateEmptyReturn(optionName, chunk);\n\n\tif (typeof chunk !== 'string' && !isUint8Array(chunk)) {\n\t\tthrow new TypeError(`The \\`${optionName}\\` option's function must yield a string or an Uint8Array, not ${typeof chunk}.`);\n\t}\n\n\tyield chunk;\n};\n\nconst validateEmptyReturn = (optionName, chunk) => {\n\tif (chunk === null || chunk === undefined) {\n\t\tthrow new TypeError(`The \\`${optionName}\\` option's function must not call \\`yield ${chunk}\\`.\nInstead, \\`yield\\` should either be called with a value, or not be called at all. For example:\n  if (condition) { yield value; }`);\n\t}\n};\n", "import {Buffer} from 'node:buffer';\nimport {StringDecoder} from 'node:string_decoder';\nimport {isUint8Array, bufferToUint8Array} from '../utils/uint-array.js';\n\n/*\nWhen using binary encodings, add an internal generator that converts chunks from `Buffer` to `string` or `Uint8Array`.\nChunks might be Buffer, Uint8Array or strings since:\n- `subprocess.stdout|stderr` emits Buffers\n- `subprocess.stdin.write()` accepts Buffer, Uint8Array or string\n- Previous generators might return Uint8Array or string\n\nHowever, those are converted to Buffer:\n- on writes: `Duplex.writable` `decodeStrings: true` default option\n- on reads: `Duplex.readable` `readableEncoding: null` default option\n*/\nexport const getEncodingTransformGenerator = (binary, encoding, skipped) => {\n\tif (skipped) {\n\t\treturn;\n\t}\n\n\tif (binary) {\n\t\treturn {transform: encodingUint8ArrayGenerator.bind(undefined, new TextEncoder())};\n\t}\n\n\tconst stringDecoder = new StringDecoder(encoding);\n\treturn {\n\t\ttransform: encodingStringGenerator.bind(undefined, stringDecoder),\n\t\tfinal: encodingStringFinal.bind(undefined, stringDecoder),\n\t};\n};\n\nconst encodingUint8ArrayGenerator = function * (textEncoder, chunk) {\n\tif (Buffer.isBuffer(chunk)) {\n\t\tyield bufferToUint8Array(chunk);\n\t} else if (typeof chunk === 'string') {\n\t\tyield textEncoder.encode(chunk);\n\t} else {\n\t\tyield chunk;\n\t}\n};\n\nconst encodingStringGenerator = function * (stringDecoder, chunk) {\n\tyield isUint8Array(chunk) ? stringDecoder.write(chunk) : chunk;\n};\n\nconst encodingStringFinal = function * (stringDecoder) {\n\tconst lastChunk = stringDecoder.end();\n\tif (lastChunk !== '') {\n\t\tyield lastChunk;\n\t}\n};\n", "import {callbackify} from 'node:util';\n\n// Applies a series of generator functions asynchronously\nexport const pushChunks = callbackify(async (getChunks, state, getChunksArguments, transformStream) => {\n\tstate.currentIterable = getChunks(...getChunksArguments);\n\n\ttry {\n\t\tfor await (const chunk of state.currentIterable) {\n\t\t\ttransformStream.push(chunk);\n\t\t}\n\t} finally {\n\t\tdelete state.currentIterable;\n\t}\n});\n\n// For each new chunk, apply each `transform()` method\nexport const transformChunk = async function * (chunk, generators, index) {\n\tif (index === generators.length) {\n\t\tyield chunk;\n\t\treturn;\n\t}\n\n\tconst {transform = identityGenerator} = generators[index];\n\tfor await (const transformedChunk of transform(chunk)) {\n\t\tyield * transformChunk(transformedChunk, generators, index + 1);\n\t}\n};\n\n// At the end, apply each `final()` method, followed by the `transform()` method of the next transforms\nexport const finalChunks = async function * (generators) {\n\tfor (const [index, {final}] of Object.entries(generators)) {\n\t\tyield * generatorFinalChunks(final, Number(index), generators);\n\t}\n};\n\nconst generatorFinalChunks = async function * (final, index, generators) {\n\tif (final === undefined) {\n\t\treturn;\n\t}\n\n\tfor await (const finalChunk of final()) {\n\t\tyield * transformChunk(finalChunk, generators, index + 1);\n\t}\n};\n\n// Cancel any ongoing async generator when the Transform is destroyed, e.g. when the subprocess errors\nexport const destroyTransform = callbackify(async ({currentIterable}, error) => {\n\tif (currentIterable !== undefined) {\n\t\tawait (error ? currentIterable.throw(error) : currentIterable.return());\n\t\treturn;\n\t}\n\n\tif (error) {\n\t\tthrow error;\n\t}\n});\n\nconst identityGenerator = function * (chunk) {\n\tyield chunk;\n};\n", "// Duplicate the code from `run-async.js` but as synchronous functions\nexport const pushChunksSync = (getChunksSync, getChunksArguments, transformStream, done) => {\n\ttry {\n\t\tfor (const chunk of getChunksSync(...getChunksArguments)) {\n\t\t\ttransformStream.push(chunk);\n\t\t}\n\n\t\tdone();\n\t} catch (error) {\n\t\tdone(error);\n\t}\n};\n\n// Run synchronous generators with `execaSync()`\nexport const runTransformSync = (generators, chunks) => [\n\t...chunks.flatMap(chunk => [...transformChunkSync(chunk, generators, 0)]),\n\t...finalChunksSync(generators),\n];\n\nexport const transformChunkSync = function * (chunk, generators, index) {\n\tif (index === generators.length) {\n\t\tyield chunk;\n\t\treturn;\n\t}\n\n\tconst {transform = identityGenerator} = generators[index];\n\tfor (const transformedChunk of transform(chunk)) {\n\t\tyield * transformChunkSync(transformedChunk, generators, index + 1);\n\t}\n};\n\nexport const finalChunksSync = function * (generators) {\n\tfor (const [index, {final}] of Object.entries(generators)) {\n\t\tyield * generatorFinalChunksSync(final, Number(index), generators);\n\t}\n};\n\nconst generatorFinalChunksSync = function * (final, index, generators) {\n\tif (final === undefined) {\n\t\treturn;\n\t}\n\n\tfor (const finalChunk of final()) {\n\t\tyield * transformChunkSync(finalChunk, generators, index + 1);\n\t}\n};\n\nconst identityGenerator = function * (chunk) {\n\tyield chunk;\n};\n", "import {runGeneratorsSync} from '../transform/generator.js';\nimport {joinToUint8Array, isUint8Array} from '../utils/uint-array.js';\nimport {TYPE_TO_MESSAGE} from '../stdio/type.js';\n\n// Apply `stdin`/`input`/`inputFile` options, before spawning, in sync mode, by converting it to the `input` option\nexport const addInputOptionsSync = (fileDescriptors, options) => {\n\tfor (const fdNumber of getInputFdNumbers(fileDescriptors)) {\n\t\taddInputOptionSync(fileDescriptors, fdNumber, options);\n\t}\n};\n\nconst getInputFdNumbers = fileDescriptors => new Set(Object.entries(fileDescriptors)\n\t.filter(([, {direction}]) => direction === 'input')\n\t.map(([fdNumber]) => Number(fdNumber)));\n\nconst addInputOptionSync = (fileDescriptors, fdNumber, options) => {\n\tconst {stdioItems} = fileDescriptors[fdNumber];\n\tconst allStdioItems = stdioItems.filter(({contents}) => contents !== undefined);\n\tif (allStdioItems.length === 0) {\n\t\treturn;\n\t}\n\n\tif (fdNumber !== 0) {\n\t\tconst [{type, optionName}] = allStdioItems;\n\t\tthrow new TypeError(`Only the \\`stdin\\` option, not \\`${optionName}\\`, can be ${TYPE_TO_MESSAGE[type]} with synchronous methods.`);\n\t}\n\n\tconst allContents = allStdioItems.map(({contents}) => contents);\n\tconst transformedContents = allContents.map(contents => applySingleInputGeneratorsSync(contents, stdioItems));\n\toptions.input = joinToUint8Array(transformedContents);\n};\n\nconst applySingleInputGeneratorsSync = (contents, stdioItems) => {\n\tconst newContents = runGeneratorsSync(contents, stdioItems, 'utf8', true);\n\tvalidateSerializable(newContents);\n\treturn joinToUint8Array(newContents);\n};\n\nconst validateSerializable = newContents => {\n\tconst invalidItem = newContents.find(item => typeof item !== 'string' && !isUint8Array(item));\n\tif (invalidItem !== undefined) {\n\t\tthrow new TypeError(`The \\`stdin\\` option is invalid: when passing objects as input, a transform must be used to serialize them to strings or Uint8Arrays: ${invalidItem}.`);\n\t}\n};\n", "import {writeFileSync, appendFileSync} from 'node:fs';\nimport {shouldLogOutput, logLinesSync} from '../verbose/output.js';\nimport {runGeneratorsSync} from '../transform/generator.js';\nimport {splitLinesSync} from '../transform/split.js';\nimport {joinToString, joinToUint8Array, bufferToUint8Array} from '../utils/uint-array.js';\nimport {FILE_TYPES} from '../stdio/type.js';\nimport {truncateMaxBufferSync} from './max-buffer.js';\n\n// Apply `stdout`/`stderr` options, after spawning, in sync mode\nexport const transformOutputSync = ({fileDescriptors, syncResult: {output}, options, isMaxBuffer, verboseInfo}) => {\n\tif (output === null) {\n\t\treturn {output: Array.from({length: 3})};\n\t}\n\n\tconst state = {};\n\tconst outputFiles = new Set([]);\n\tconst transformedOutput = output.map((result, fdNumber) =>\n\t\ttransformOutputResultSync({\n\t\t\tresult,\n\t\t\tfileDescriptors,\n\t\t\tfdNumber,\n\t\t\tstate,\n\t\t\toutputFiles,\n\t\t\tisMaxBuffer,\n\t\t\tverboseInfo,\n\t\t}, options));\n\treturn {output: transformedOutput, ...state};\n};\n\nconst transformOutputResultSync = (\n\t{result, fileDescriptors, fdNumber, state, outputFiles, isMaxBuffer, verboseInfo},\n\t{buffer, encoding, lines, stripFinalNewline, maxBuffer},\n) => {\n\tif (result === null) {\n\t\treturn;\n\t}\n\n\tconst truncatedResult = truncateMaxBufferSync(result, isMaxBuffer, maxBuffer);\n\tconst uint8ArrayResult = bufferToUint8Array(truncatedResult);\n\tconst {stdioItems, objectMode} = fileDescriptors[fdNumber];\n\tconst chunks = runOutputGeneratorsSync([uint8ArrayResult], stdioItems, encoding, state);\n\tconst {serializedResult, finalResult = serializedResult} = serializeChunks({\n\t\tchunks,\n\t\tobjectMode,\n\t\tencoding,\n\t\tlines,\n\t\tstripFinalNewline,\n\t\tfdNumber,\n\t});\n\n\tlogOutputSync({\n\t\tserializedResult,\n\t\tfdNumber,\n\t\tstate,\n\t\tverboseInfo,\n\t\tencoding,\n\t\tstdioItems,\n\t\tobjectMode,\n\t});\n\n\tconst returnedResult = buffer[fdNumber] ? finalResult : undefined;\n\n\ttry {\n\t\tif (state.error === undefined) {\n\t\t\twriteToFiles(serializedResult, stdioItems, outputFiles);\n\t\t}\n\n\t\treturn returnedResult;\n\t} catch (error) {\n\t\tstate.error = error;\n\t\treturn returnedResult;\n\t}\n};\n\n// Applies transform generators to `stdout`/`stderr`\nconst runOutputGeneratorsSync = (chunks, stdioItems, encoding, state) => {\n\ttry {\n\t\treturn runGeneratorsSync(chunks, stdioItems, encoding, false);\n\t} catch (error) {\n\t\tstate.error = error;\n\t\treturn chunks;\n\t}\n};\n\n// The contents is converted to three stages:\n//  - serializedResult: used when the target is a file path/URL or a file descriptor (including 'inherit')\n//  - finalResult/returnedResult: returned as `result.std*`\nconst serializeChunks = ({chunks, objectMode, encoding, lines, stripFinalNewline, fdNumber}) => {\n\tif (objectMode) {\n\t\treturn {serializedResult: chunks};\n\t}\n\n\tif (encoding === 'buffer') {\n\t\treturn {serializedResult: joinToUint8Array(chunks)};\n\t}\n\n\tconst serializedResult = joinToString(chunks, encoding);\n\tif (lines[fdNumber]) {\n\t\treturn {serializedResult, finalResult: splitLinesSync(serializedResult, !stripFinalNewline[fdNumber], objectMode)};\n\t}\n\n\treturn {serializedResult};\n};\n\nconst logOutputSync = ({serializedResult, fdNumber, state, verboseInfo, encoding, stdioItems, objectMode}) => {\n\tif (!shouldLogOutput({\n\t\tstdioItems,\n\t\tencoding,\n\t\tverboseInfo,\n\t\tfdNumber,\n\t})) {\n\t\treturn;\n\t}\n\n\tconst linesArray = splitLinesSync(serializedResult, false, objectMode);\n\n\ttry {\n\t\tlogLinesSync(linesArray, fdNumber, verboseInfo);\n\t} catch (error) {\n\t\tstate.error ??= error;\n\t}\n};\n\n// When the `std*` target is a file path/URL or a file descriptor\nconst writeToFiles = (serializedResult, stdioItems, outputFiles) => {\n\tfor (const {path, append} of stdioItems.filter(({type}) => FILE_TYPES.has(type))) {\n\t\tconst pathString = typeof path === 'string' ? path : path.toString();\n\t\tif (append || outputFiles.has(pathString)) {\n\t\t\tappendFileSync(path, serializedResult);\n\t\t} else {\n\t\t\toutputFiles.add(pathString);\n\t\t\twriteFileSync(path, serializedResult);\n\t\t}\n\t}\n};\n", "import {BINARY_ENCODINGS} from '../arguments/encoding-option.js';\nimport {TRANSFORM_TYPES} from '../stdio/type.js';\nimport {verboseLog, serializeVerboseMessage} from './log.js';\nimport {isFullVerbose} from './values.js';\n\n// `ignore` opts-out of `verbose` for a specific stream.\n// `ipc` cannot use piping.\n// `inherit` would result in double printing.\n// They can also lead to double printing when passing file descriptor integers or `process.std*`.\n// This only leaves with `pipe` and `overlapped`.\nexport const shouldLogOutput = ({stdioItems, encoding, verboseInfo, fdNumber}) => fdNumber !== 'all'\n\t&& isFullVerbose(verboseInfo, fdNumber)\n\t&& !BINARY_ENCODINGS.has(encoding)\n\t&& fdUsesVerbose(fdNumber)\n\t&& (stdioItems.some(({type, value}) => type === 'native' && PIPED_STDIO_VALUES.has(value))\n\t|| stdioItems.every(({type}) => TRANSFORM_TYPES.has(type)));\n\n// Printing input streams would be confusing.\n// Files and streams can produce big outputs, which we don't want to print.\n// We could print `stdio[3+]` but it often is redirected to files and streams, with the same issue.\n// So we only print stdout and stderr.\nconst fdUsesVerbose = fdNumber => fdNumber === 1 || fdNumber === 2;\n\nconst PIPED_STDIO_VALUES = new Set(['pipe', 'overlapped']);\n\n// `verbose: 'full'` printing logic with async methods\nexport const logLines = async (linesIterable, stream, fdNumber, verboseInfo) => {\n\tfor await (const line of linesIterable) {\n\t\tif (!isPipingStream(stream)) {\n\t\t\tlogLine(line, fdNumber, verboseInfo);\n\t\t}\n\t}\n};\n\n// `verbose: 'full'` printing logic with sync methods\nexport const logLinesSync = (linesArray, fdNumber, verboseInfo) => {\n\tfor (const line of linesArray) {\n\t\tlogLine(line, fdNumber, verboseInfo);\n\t}\n};\n\n// When `subprocess.stdout|stderr.pipe()` is called, `verbose` becomes a noop.\n// This prevents the following problems:\n//  - `.pipe()` achieves the same result as using `stdout: 'inherit'`, `stdout: stream`, etc. which also make `verbose` a noop.\n//    For example, `subprocess.stdout.pipe(process.stdin)` would print each line twice.\n//  - When chaining subprocesses with `subprocess.pipe(otherSubprocess)`, only the last one should print its output.\n// Detecting whether `.pipe()` is impossible without monkey-patching it, so we use the following undocumented property.\n// This is not a critical behavior since changes of the following property would only make `verbose` more verbose.\nconst isPipingStream = stream => stream._readableState.pipes.length > 0;\n\n// When `verbose` is `full`, print stdout|stderr\nconst logLine = (line, fdNumber, verboseInfo) => {\n\tconst verboseMessage = serializeVerboseMessage(line);\n\tverboseLog({\n\t\ttype: 'output',\n\t\tverboseMessage,\n\t\tfdNumber,\n\t\tverboseInfo,\n\t});\n};\n", "import {isUint8Array, concatUint8Arrays} from '../utils/uint-array.js';\nimport {stripNewline} from '../io/strip-newline.js';\n\n// Retrieve `result.all` with synchronous methods\nexport const getAllSync = ([, stdout, stderr], options) => {\n\tif (!options.all) {\n\t\treturn;\n\t}\n\n\tif (stdout === undefined) {\n\t\treturn stderr;\n\t}\n\n\tif (stderr === undefined) {\n\t\treturn stdout;\n\t}\n\n\tif (Array.isArray(stdout)) {\n\t\treturn Array.isArray(stderr)\n\t\t\t? [...stdout, ...stderr]\n\t\t\t: [...stdout, stripNewline(stderr, options, 'all')];\n\t}\n\n\tif (Array.isArray(stderr)) {\n\t\treturn [stripNewline(stdout, options, 'all'), ...stderr];\n\t}\n\n\tif (isUint8Array(stdout) && isUint8Array(stderr)) {\n\t\treturn concatUint8Arrays([stdout, stderr]);\n\t}\n\n\treturn `${stdout}${stderr}`;\n};\n", "import {once} from 'node:events';\nimport {DiscardedError} from '../return/final-error.js';\n\n// If `error` is emitted before `spawn`, `exit` will never be emitted.\n// However, `error` might be emitted after `spawn`.\n// In that case, `exit` will still be emitted.\n// Since the `exit` event contains the signal name, we want to make sure we are listening for it.\n// This function also takes into account the following unlikely cases:\n//  - `exit` being emitted in the same microtask as `spawn`\n//  - `error` being emitted multiple times\nexport const waitForExit = async (subprocess, context) => {\n\tconst [exitCode, signal] = await waitForExitOrError(subprocess);\n\tcontext.isForcefullyTerminated ??= false;\n\treturn [exitCode, signal];\n};\n\nconst waitForExitOrError = async subprocess => {\n\tconst [spawnPayload, exitPayload] = await Promise.allSettled([\n\t\tonce(subprocess, 'spawn'),\n\t\tonce(subprocess, 'exit'),\n\t]);\n\n\tif (spawnPayload.status === 'rejected') {\n\t\treturn [];\n\t}\n\n\treturn exitPayload.status === 'rejected'\n\t\t? waitForSubprocessExit(subprocess)\n\t\t: exitPayload.value;\n};\n\nconst waitForSubprocessExit = async subprocess => {\n\ttry {\n\t\treturn await once(subprocess, 'exit');\n\t} catch {\n\t\treturn waitForSubprocessExit(subprocess);\n\t}\n};\n\n// Retrieve the final exit code and|or signal name\nexport const waitForSuccessfulExit = async exitPromise => {\n\tconst [exitCode, signal] = await exitPromise;\n\n\tif (!isSubprocessErrorExit(exitCode, signal) && isFailedExit(exitCode, signal)) {\n\t\tthrow new DiscardedError();\n\t}\n\n\treturn [exitCode, signal];\n};\n\n// When the subprocess fails due to an `error` event\nconst isSubprocessErrorExit = (exitCode, signal) => exitCode === undefined && signal === undefined;\n// When the subprocess fails due to a non-0 exit code or to a signal termination\nexport const isFailedExit = (exitCode, signal) => exitCode !== 0 || signal !== null;\n", "import {DiscardedError} from '../return/final-error.js';\nimport {isMaxBufferSync} from '../io/max-buffer.js';\nimport {isFailedExit} from './exit-async.js';\n\n// Retrieve exit code, signal name and error information, with synchronous methods\nexport const getExitResultSync = ({error, status: exitCode, signal, output}, {maxBuffer}) => {\n\tconst resultError = getResultError(error, exitCode, signal);\n\tconst timedOut = resultError?.code === 'ETIMEDOUT';\n\tconst isMaxBuffer = isMaxBufferSync(resultError, output, maxBuffer);\n\treturn {\n\t\tresultError,\n\t\texitCode,\n\t\tsignal,\n\t\ttimedOut,\n\t\tisMaxBuffer,\n\t};\n};\n\nconst getResultError = (error, exitCode, signal) => {\n\tif (error !== undefined) {\n\t\treturn error;\n\t}\n\n\treturn isFailedExit(exitCode, signal) ? new DiscardedError() : undefined;\n};\n", "import {setMaxListeners} from 'node:events';\nimport {spawn} from 'node:child_process';\nimport {MaxBufferError} from 'get-stream';\nimport {handleCommand} from '../arguments/command.js';\nimport {normalizeOptions} from '../arguments/options.js';\nimport {SUBPROCESS_OPTIONS} from '../arguments/fd-options.js';\nimport {concatenateShell} from '../arguments/shell.js';\nimport {addIpcMethods} from '../ipc/methods.js';\nimport {makeError, makeSuccessResult} from '../return/result.js';\nimport {handleResult} from '../return/reject.js';\nimport {handleEarlyError} from '../return/early-error.js';\nimport {handleStdioAsync} from '../stdio/handle-async.js';\nimport {stripNewline} from '../io/strip-newline.js';\nimport {pipeOutputAsync} from '../io/output-async.js';\nimport {subprocessKill} from '../terminate/kill.js';\nimport {cleanupOnExit} from '../terminate/cleanup.js';\nimport {pipeToSubprocess} from '../pipe/setup.js';\nimport {makeAllStream} from '../resolve/all-async.js';\nimport {waitForSubprocessResult} from '../resolve/wait-subprocess.js';\nimport {addConvertedStreams} from '../convert/add.js';\nimport {createDeferred} from '../utils/deferred.js';\nimport {mergePromise} from './promise.js';\n\n// Main shared logic for all async methods: `execa()`, `$`, `execaNode()`\nexport const execaCoreAsync = (rawFile, rawArguments, rawOptions, createNested) => {\n\tconst {file, commandArguments, command, escapedCommand, startTime, verboseInfo, options, fileDescriptors} = handleAsyncArguments(rawFile, rawArguments, rawOptions);\n\tconst {subprocess, promise} = spawnSubprocessAsync({\n\t\tfile,\n\t\tcommandArguments,\n\t\toptions,\n\t\tstartTime,\n\t\tverboseInfo,\n\t\tcommand,\n\t\tescapedCommand,\n\t\tfileDescriptors,\n\t});\n\tsubprocess.pipe = pipeToSubprocess.bind(undefined, {\n\t\tsource: subprocess,\n\t\tsourcePromise: promise,\n\t\tboundOptions: {},\n\t\tcreateNested,\n\t});\n\tmergePromise(subprocess, promise);\n\tSUBPROCESS_OPTIONS.set(subprocess, {options, fileDescriptors});\n\treturn subprocess;\n};\n\n// Compute arguments to pass to `child_process.spawn()`\nconst handleAsyncArguments = (rawFile, rawArguments, rawOptions) => {\n\tconst {command, escapedCommand, startTime, verboseInfo} = handleCommand(rawFile, rawArguments, rawOptions);\n\tconst {file, commandArguments, options: normalizedOptions} = normalizeOptions(rawFile, rawArguments, rawOptions);\n\tconst options = handleAsyncOptions(normalizedOptions);\n\tconst fileDescriptors = handleStdioAsync(options, verboseInfo);\n\treturn {\n\t\tfile,\n\t\tcommandArguments,\n\t\tcommand,\n\t\tescapedCommand,\n\t\tstartTime,\n\t\tverboseInfo,\n\t\toptions,\n\t\tfileDescriptors,\n\t};\n};\n\n// Options normalization logic specific to async methods.\n// Prevent passing the `timeout` option directly to `child_process.spawn()`.\nconst handleAsyncOptions = ({timeout, signal, ...options}) => {\n\tif (signal !== undefined) {\n\t\tthrow new TypeError('The \"signal\" option has been renamed to \"cancelSignal\" instead.');\n\t}\n\n\treturn {...options, timeoutDuration: timeout};\n};\n\nconst spawnSubprocessAsync = ({file, commandArguments, options, startTime, verboseInfo, command, escapedCommand, fileDescriptors}) => {\n\tlet subprocess;\n\ttry {\n\t\tsubprocess = spawn(...concatenateShell(file, commandArguments, options));\n\t} catch (error) {\n\t\treturn handleEarlyError({\n\t\t\terror,\n\t\t\tcommand,\n\t\t\tescapedCommand,\n\t\t\tfileDescriptors,\n\t\t\toptions,\n\t\t\tstartTime,\n\t\t\tverboseInfo,\n\t\t});\n\t}\n\n\tconst controller = new AbortController();\n\tsetMaxListeners(Number.POSITIVE_INFINITY, controller.signal);\n\n\tconst originalStreams = [...subprocess.stdio];\n\tpipeOutputAsync(subprocess, fileDescriptors, controller);\n\tcleanupOnExit(subprocess, options, controller);\n\n\tconst context = {};\n\tconst onInternalError = createDeferred();\n\tsubprocess.kill = subprocessKill.bind(undefined, {\n\t\tkill: subprocess.kill.bind(subprocess),\n\t\toptions,\n\t\tonInternalError,\n\t\tcontext,\n\t\tcontroller,\n\t});\n\tsubprocess.all = makeAllStream(subprocess, options);\n\taddConvertedStreams(subprocess, options);\n\taddIpcMethods(subprocess, options);\n\n\tconst promise = handlePromise({\n\t\tsubprocess,\n\t\toptions,\n\t\tstartTime,\n\t\tverboseInfo,\n\t\tfileDescriptors,\n\t\toriginalStreams,\n\t\tcommand,\n\t\tescapedCommand,\n\t\tcontext,\n\t\tonInternalError,\n\t\tcontroller,\n\t});\n\treturn {subprocess, promise};\n};\n\n// Asynchronous logic, as opposed to the previous logic which can be run synchronously, i.e. can be returned to user right away\nconst handlePromise = async ({subprocess, options, startTime, verboseInfo, fileDescriptors, originalStreams, command, escapedCommand, context, onInternalError, controller}) => {\n\tconst [\n\t\terrorInfo,\n\t\t[exitCode, signal],\n\t\tstdioResults,\n\t\tallResult,\n\t\tipcOutput,\n\t] = await waitForSubprocessResult({\n\t\tsubprocess,\n\t\toptions,\n\t\tcontext,\n\t\tverboseInfo,\n\t\tfileDescriptors,\n\t\toriginalStreams,\n\t\tonInternalError,\n\t\tcontroller,\n\t});\n\tcontroller.abort();\n\tonInternalError.resolve();\n\n\tconst stdio = stdioResults.map((stdioResult, fdNumber) => stripNewline(stdioResult, options, fdNumber));\n\tconst all = stripNewline(allResult, options, 'all');\n\tconst result = getAsyncResult({\n\t\terrorInfo,\n\t\texitCode,\n\t\tsignal,\n\t\tstdio,\n\t\tall,\n\t\tipcOutput,\n\t\tcontext,\n\t\toptions,\n\t\tcommand,\n\t\tescapedCommand,\n\t\tstartTime,\n\t});\n\treturn handleResult(result, verboseInfo, options);\n};\n\nconst getAsyncResult = ({errorInfo, exitCode, signal, stdio, all, ipcOutput, context, options, command, escapedCommand, startTime}) => 'error' in errorInfo\n\t? makeError({\n\t\terror: errorInfo.error,\n\t\tcommand,\n\t\tescapedCommand,\n\t\ttimedOut: context.terminationReason === 'timeout',\n\t\tisCanceled: context.terminationReason === 'cancel' || context.terminationReason === 'gracefulCancel',\n\t\tisGracefullyCanceled: context.terminationReason === 'gracefulCancel',\n\t\tisMaxBuffer: errorInfo.error instanceof MaxBufferError,\n\t\tisForcefullyTerminated: context.isForcefullyTerminated,\n\t\texitCode,\n\t\tsignal,\n\t\tstdio,\n\t\tall,\n\t\tipcOutput,\n\t\toptions,\n\t\tstartTime,\n\t\tisSync: false,\n\t})\n\t: makeSuccessResult({\n\t\tcommand,\n\t\tescapedCommand,\n\t\tstdio,\n\t\tall,\n\t\tipcOutput,\n\t\toptions,\n\t\tstartTime,\n\t});\n", "import process from 'node:process';\nimport {sendMessage} from './send.js';\nimport {getOneMessage} from './get-one.js';\nimport {getEachMessage} from './get-each.js';\nimport {getCancelSignal} from './graceful.js';\n\n// Add promise-based IPC methods in current process\nexport const addIpcMethods = (subprocess, {ipc}) => {\n\tObject.assign(subprocess, getIpcMethods(subprocess, false, ipc));\n};\n\n// Get promise-based IPC in the subprocess\nexport const getIpcExport = () => {\n\tconst anyProcess = process;\n\tconst isSubprocess = true;\n\tconst ipc = process.channel !== undefined;\n\n\treturn {\n\t\t...getIpcMethods(anyProcess, isSubprocess, ipc),\n\t\tgetCancelSignal: getCancelSignal.bind(undefined, {\n\t\t\tanyProcess,\n\t\t\tchannel: anyProcess.channel,\n\t\t\tisSubprocess,\n\t\t\tipc,\n\t\t}),\n\t};\n};\n\n// Retrieve the `ipc` shared by both the current process and the subprocess\nconst getIpcMethods = (anyProcess, isSubprocess, ipc) => ({\n\tsendMessage: sendMessage.bind(undefined, {\n\t\tanyProcess,\n\t\tchannel: anyProcess.channel,\n\t\tisSubprocess,\n\t\tipc,\n\t}),\n\tgetOneMessage: getOneMessage.bind(undefined, {\n\t\tanyProcess,\n\t\tchannel: anyProcess.channel,\n\t\tisSubprocess,\n\t\tipc,\n\t}),\n\tgetEachMessage: getEachMessage.bind(undefined, {\n\t\tanyProcess,\n\t\tchannel: anyProcess.channel,\n\t\tisSubprocess,\n\t\tipc,\n\t}),\n});\n", "import {once, on} from 'node:events';\nimport {\n\tvalidateIpcMethod,\n\tthrowOnEarlyDisconnect,\n\tdisconnect,\n\tgetStrictResponseError,\n} from './validation.js';\nimport {getIpcEmitter, isConnected} from './forward.js';\nimport {addReference, removeReference} from './reference.js';\n\n// Like `[sub]process.once('message')` but promise-based\nexport const getOneMessage = ({anyProcess, channel, isSubprocess, ipc}, {reference = true, filter} = {}) => {\n\tvalidateIpcMethod({\n\t\tmethodName: 'getOneMessage',\n\t\tisSubprocess,\n\t\tipc,\n\t\tisConnected: isConnected(anyProcess),\n\t});\n\n\treturn getOneMessageAsync({\n\t\tanyProcess,\n\t\tchannel,\n\t\tisSubprocess,\n\t\tfilter,\n\t\treference,\n\t});\n};\n\nconst getOneMessageAsync = async ({anyProcess, channel, isSubprocess, filter, reference}) => {\n\taddReference(channel, reference);\n\tconst ipcEmitter = getIpcEmitter(anyProcess, channel, isSubprocess);\n\tconst controller = new AbortController();\n\ttry {\n\t\treturn await Promise.race([\n\t\t\tgetMessage(ipcEmitter, filter, controller),\n\t\t\tthrowOnDisconnect(ipcEmitter, isSubprocess, controller),\n\t\t\tthrowOnStrictError(ipcEmitter, isSubprocess, controller),\n\t\t]);\n\t} catch (error) {\n\t\tdisconnect(anyProcess);\n\t\tthrow error;\n\t} finally {\n\t\tcontroller.abort();\n\t\tremoveReference(channel, reference);\n\t}\n};\n\nconst getMessage = async (ipcEmitter, filter, {signal}) => {\n\tif (filter === undefined) {\n\t\tconst [message] = await once(ipcEmitter, 'message', {signal});\n\t\treturn message;\n\t}\n\n\tfor await (const [message] of on(ipcEmitter, 'message', {signal})) {\n\t\tif (filter(message)) {\n\t\t\treturn message;\n\t\t}\n\t}\n};\n\nconst throwOnDisconnect = async (ipcEmitter, isSubprocess, {signal}) => {\n\tawait once(ipcEmitter, 'disconnect', {signal});\n\tthrowOnEarlyDisconnect(isSubprocess);\n};\n\nconst throwOnStrictError = async (ipcEmitter, isSubprocess, {signal}) => {\n\tconst [error] = await once(ipcEmitter, 'strict:error', {signal});\n\tthrow getStrictResponseError(error, isSubprocess);\n};\n", "import {once, on} from 'node:events';\nimport {validateIpcMethod, disconnect, getStrictResponseError} from './validation.js';\nimport {getIpcEmitter, isConnected} from './forward.js';\nimport {addReference, removeReference} from './reference.js';\n\n// Like `[sub]process.on('message')` but promise-based\nexport const getEachMessage = ({anyProcess, channel, isSubprocess, ipc}, {reference = true} = {}) => loopOnMessages({\n\tanyProcess,\n\tchannel,\n\tisSubprocess,\n\tipc,\n\tshouldAwait: !isSubprocess,\n\treference,\n});\n\n// Same but used internally\nexport const loopOnMessages = ({anyProcess, channel, isSubprocess, ipc, shouldAwait, reference}) => {\n\tvalidateIpcMethod({\n\t\tmethodName: 'getEachMessage',\n\t\tisSubprocess,\n\t\tipc,\n\t\tisConnected: isConnected(anyProcess),\n\t});\n\n\taddReference(channel, reference);\n\tconst ipcEmitter = getIpcEmitter(anyProcess, channel, isSubprocess);\n\tconst controller = new AbortController();\n\tconst state = {};\n\tstopOnDisconnect(anyProcess, ipcEmitter, controller);\n\tabortOnStrictError({\n\t\tipcEmitter,\n\t\tisSubprocess,\n\t\tcontroller,\n\t\tstate,\n\t});\n\treturn iterateOnMessages({\n\t\tanyProcess,\n\t\tchannel,\n\t\tipcEmitter,\n\t\tisSubprocess,\n\t\tshouldAwait,\n\t\tcontroller,\n\t\tstate,\n\t\treference,\n\t});\n};\n\nconst stopOnDisconnect = async (anyProcess, ipcEmitter, controller) => {\n\ttry {\n\t\tawait once(ipcEmitter, 'disconnect', {signal: controller.signal});\n\t\tcontroller.abort();\n\t} catch {}\n};\n\nconst abortOnStrictError = async ({ipcEmitter, isSubprocess, controller, state}) => {\n\ttry {\n\t\tconst [error] = await once(ipcEmitter, 'strict:error', {signal: controller.signal});\n\t\tstate.error = getStrictResponseError(error, isSubprocess);\n\t\tcontroller.abort();\n\t} catch {}\n};\n\nconst iterateOnMessages = async function * ({anyProcess, channel, ipcEmitter, isSubprocess, shouldAwait, controller, state, reference}) {\n\ttry {\n\t\tfor await (const [message] of on(ipcEmitter, 'message', {signal: controller.signal})) {\n\t\t\tthrowIfStrictError(state);\n\t\t\tyield message;\n\t\t}\n\t} catch {\n\t\tthrowIfStrictError(state);\n\t} finally {\n\t\tcontroller.abort();\n\t\tremoveReference(channel, reference);\n\n\t\tif (!isSubprocess) {\n\t\t\tdisconnect(anyProcess);\n\t\t}\n\n\t\tif (shouldAwait) {\n\t\t\tawait anyProcess;\n\t\t}\n\t}\n};\n\nconst throwIfStrictError = ({error}) => {\n\tif (error) {\n\t\tthrow error;\n\t}\n};\n", "import {ChildProcess} from 'node:child_process';\nimport {\n\tPassThrough,\n\tReadable,\n\tWritable,\n\tDuplex,\n} from 'node:stream';\nimport {cleanupCustomStreams} from '../stdio/handle.js';\nimport {makeEarlyError} from './result.js';\nimport {handleResult} from './reject.js';\n\n// When the subprocess fails to spawn.\n// We ensure the returned error is always both a promise and a subprocess.\nexport const handleEarlyError = ({error, command, escapedCommand, fileDescriptors, options, startTime, verboseInfo}) => {\n\tcleanupCustomStreams(fileDescriptors);\n\n\tconst subprocess = new ChildProcess();\n\tcreateDummyStreams(subprocess, fileDescriptors);\n\tObject.assign(subprocess, {readable, writable, duplex});\n\n\tconst earlyError = makeEarlyError({\n\t\terror,\n\t\tcommand,\n\t\tescapedCommand,\n\t\tfileDescriptors,\n\t\toptions,\n\t\tstartTime,\n\t\tisSync: false,\n\t});\n\tconst promise = handleDummyPromise(earlyError, verboseInfo, options);\n\treturn {subprocess, promise};\n};\n\nconst createDummyStreams = (subprocess, fileDescriptors) => {\n\tconst stdin = createDummyStream();\n\tconst stdout = createDummyStream();\n\tconst stderr = createDummyStream();\n\tconst extraStdio = Array.from({length: fileDescriptors.length - 3}, createDummyStream);\n\tconst all = createDummyStream();\n\tconst stdio = [stdin, stdout, stderr, ...extraStdio];\n\tObject.assign(subprocess, {\n\t\tstdin,\n\t\tstdout,\n\t\tstderr,\n\t\tall,\n\t\tstdio,\n\t});\n};\n\nconst createDummyStream = () => {\n\tconst stream = new PassThrough();\n\tstream.end();\n\treturn stream;\n};\n\nconst readable = () => new Readable({read() {}});\nconst writable = () => new Writable({write() {}});\nconst duplex = () => new Duplex({read() {}, write() {}});\n\nconst handleDummyPromise = async (error, verboseInfo, options) => handleResult(error, verboseInfo, options);\n", "import {createReadStream, createWriteStream} from 'node:fs';\nimport {Buffer} from 'node:buffer';\nimport {Readable, Writable, Duplex} from 'node:stream';\nimport {generatorToStream} from '../transform/generator.js';\nimport {handleStdio} from './handle.js';\nimport {TYPE_TO_MESSAGE} from './type.js';\n\n// Handle `input`, `inputFile`, `stdin`, `stdout` and `stderr` options, before spawning, in async mode\nexport const handleStdioAsync = (options, verboseInfo) => handleStdio(addPropertiesAsync, options, verboseInfo, false);\n\nconst forbiddenIfAsync = ({type, optionName}) => {\n\tthrow new TypeError(`The \\`${optionName}\\` option cannot be ${TYPE_TO_MESSAGE[type]}.`);\n};\n\n// Create streams used internally for piping when using specific values for the `std*` options, in async mode.\n// For example, `stdout: {file}` creates a file stream, which is piped from/to.\nconst addProperties = {\n\tfileNumber: forbiddenIfAsync,\n\tgenerator: generatorToStream,\n\tasyncGenerator: generatorToStream,\n\tnodeStream: ({value}) => ({stream: value}),\n\twebTransform({value: {transform, writableObjectMode, readableObjectMode}}) {\n\t\tconst objectMode = writableObjectMode || readableObjectMode;\n\t\tconst stream = Duplex.fromWeb(transform, {objectMode});\n\t\treturn {stream};\n\t},\n\tduplex: ({value: {transform}}) => ({stream: transform}),\n\tnative() {},\n};\n\nconst addPropertiesAsync = {\n\tinput: {\n\t\t...addProperties,\n\t\tfileUrl: ({value}) => ({stream: createReadStream(value)}),\n\t\tfilePath: ({value: {file}}) => ({stream: createReadStream(file)}),\n\t\twebStream: ({value}) => ({stream: Readable.fromWeb(value)}),\n\t\titerable: ({value}) => ({stream: Readable.from(value)}),\n\t\tasyncIterable: ({value}) => ({stream: Readable.from(value)}),\n\t\tstring: ({value}) => ({stream: Readable.from(value)}),\n\t\tuint8Array: ({value}) => ({stream: Readable.from(Buffer.from(value))}),\n\t},\n\toutput: {\n\t\t...addProperties,\n\t\tfileUrl: ({value}) => ({stream: createWriteStream(value)}),\n\t\tfilePath: ({value: {file, append}}) => ({stream: createWriteStream(file, append ? {flags: 'a'} : {})}),\n\t\twebStream: ({value}) => ({stream: Writable.fromWeb(value)}),\n\t\titerable: forbiddenIfAsync,\n\t\tasyncIterable: forbiddenIfAsync,\n\t\tstring: forbiddenIfAsync,\n\t\tuint8Array: forbiddenIfAsync,\n\t},\n};\n", "import {on, once} from 'node:events';\nimport {PassThrough as PassThroughStream, getDefaultHighWaterMark} from 'node:stream';\nimport {finished} from 'node:stream/promises';\n\nexport default function mergeStreams(streams) {\n\tif (!Array.isArray(streams)) {\n\t\tthrow new TypeError(`Expected an array, got \\`${typeof streams}\\`.`);\n\t}\n\n\tfor (const stream of streams) {\n\t\tvalidateStream(stream);\n\t}\n\n\tconst objectMode = streams.some(({readableObjectMode}) => readableObjectMode);\n\tconst highWaterMark = getHighWaterMark(streams, objectMode);\n\tconst passThroughStream = new MergedStream({\n\t\tobjectMode,\n\t\twritableHighWaterMark: highWaterMark,\n\t\treadableHighWaterMark: highWaterMark,\n\t});\n\n\tfor (const stream of streams) {\n\t\tpassThroughStream.add(stream);\n\t}\n\n\treturn passThroughStream;\n}\n\nconst getHighWaterMark = (streams, objectMode) => {\n\tif (streams.length === 0) {\n\t\treturn getDefaultHighWaterMark(objectMode);\n\t}\n\n\tconst highWaterMarks = streams\n\t\t.filter(({readableObjectMode}) => readableObjectMode === objectMode)\n\t\t.map(({readableHighWaterMark}) => readableHighWaterMark);\n\treturn Math.max(...highWaterMarks);\n};\n\nclass MergedStream extends PassThroughStream {\n\t#streams = new Set([]);\n\t#ended = new Set([]);\n\t#aborted = new Set([]);\n\t#onFinished;\n\t#unpipeEvent = Symbol('unpipe');\n\t#streamPromises = new WeakMap();\n\n\tadd(stream) {\n\t\tvalidateStream(stream);\n\n\t\tif (this.#streams.has(stream)) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.#streams.add(stream);\n\n\t\tthis.#onFinished ??= onMergedStreamFinished(this, this.#streams, this.#unpipeEvent);\n\t\tconst streamPromise = endWhenStreamsDone({\n\t\t\tpassThroughStream: this,\n\t\t\tstream,\n\t\t\tstreams: this.#streams,\n\t\t\tended: this.#ended,\n\t\t\taborted: this.#aborted,\n\t\t\tonFinished: this.#onFinished,\n\t\t\tunpipeEvent: this.#unpipeEvent,\n\t\t});\n\t\tthis.#streamPromises.set(stream, streamPromise);\n\n\t\tstream.pipe(this, {end: false});\n\t}\n\n\tasync remove(stream) {\n\t\tvalidateStream(stream);\n\n\t\tif (!this.#streams.has(stream)) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst streamPromise = this.#streamPromises.get(stream);\n\t\tif (streamPromise === undefined) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.#streamPromises.delete(stream);\n\n\t\tstream.unpipe(this);\n\t\tawait streamPromise;\n\t\treturn true;\n\t}\n}\n\nconst onMergedStreamFinished = async (passThroughStream, streams, unpipeEvent) => {\n\tupdateMaxListeners(passThroughStream, PASSTHROUGH_LISTENERS_COUNT);\n\tconst controller = new AbortController();\n\n\ttry {\n\t\tawait Promise.race([\n\t\t\tonMergedStreamEnd(passThroughStream, controller),\n\t\t\tonInputStreamsUnpipe(passThroughStream, streams, unpipeEvent, controller),\n\t\t]);\n\t} finally {\n\t\tcontroller.abort();\n\t\tupdateMaxListeners(passThroughStream, -PASSTHROUGH_LISTENERS_COUNT);\n\t}\n};\n\nconst onMergedStreamEnd = async (passThroughStream, {signal}) => {\n\ttry {\n\t\tawait finished(passThroughStream, {signal, cleanup: true});\n\t} catch (error) {\n\t\terrorOrAbortStream(passThroughStream, error);\n\t\tthrow error;\n\t}\n};\n\nconst onInputStreamsUnpipe = async (passThroughStream, streams, unpipeEvent, {signal}) => {\n\tfor await (const [unpipedStream] of on(passThroughStream, 'unpipe', {signal})) {\n\t\tif (streams.has(unpipedStream)) {\n\t\t\tunpipedStream.emit(unpipeEvent);\n\t\t}\n\t}\n};\n\nconst validateStream = stream => {\n\tif (typeof stream?.pipe !== 'function') {\n\t\tthrow new TypeError(`Expected a readable stream, got: \\`${typeof stream}\\`.`);\n\t}\n};\n\nconst endWhenStreamsDone = async ({passThroughStream, stream, streams, ended, aborted, onFinished, unpipeEvent}) => {\n\tupdateMaxListeners(passThroughStream, PASSTHROUGH_LISTENERS_PER_STREAM);\n\tconst controller = new AbortController();\n\n\ttry {\n\t\tawait Promise.race([\n\t\t\tafterMergedStreamFinished(onFinished, stream, controller),\n\t\t\tonInputStreamEnd({\n\t\t\t\tpassThroughStream,\n\t\t\t\tstream,\n\t\t\t\tstreams,\n\t\t\t\tended,\n\t\t\t\taborted,\n\t\t\t\tcontroller,\n\t\t\t}),\n\t\t\tonInputStreamUnpipe({\n\t\t\t\tstream,\n\t\t\t\tstreams,\n\t\t\t\tended,\n\t\t\t\taborted,\n\t\t\t\tunpipeEvent,\n\t\t\t\tcontroller,\n\t\t\t}),\n\t\t]);\n\t} finally {\n\t\tcontroller.abort();\n\t\tupdateMaxListeners(passThroughStream, -PASSTHROUGH_LISTENERS_PER_STREAM);\n\t}\n\n\tif (streams.size > 0 && streams.size === ended.size + aborted.size) {\n\t\tif (ended.size === 0 && aborted.size > 0) {\n\t\t\tabortStream(passThroughStream);\n\t\t} else {\n\t\t\tendStream(passThroughStream);\n\t\t}\n\t}\n};\n\nconst afterMergedStreamFinished = async (onFinished, stream, {signal}) => {\n\ttry {\n\t\tawait onFinished;\n\t\tif (!signal.aborted) {\n\t\t\tabortStream(stream);\n\t\t}\n\t} catch (error) {\n\t\tif (!signal.aborted) {\n\t\t\terrorOrAbortStream(stream, error);\n\t\t}\n\t}\n};\n\nconst onInputStreamEnd = async ({passThroughStream, stream, streams, ended, aborted, controller: {signal}}) => {\n\ttry {\n\t\tawait finished(stream, {\n\t\t\tsignal,\n\t\t\tcleanup: true,\n\t\t\treadable: true,\n\t\t\twritable: false,\n\t\t});\n\t\tif (streams.has(stream)) {\n\t\t\tended.add(stream);\n\t\t}\n\t} catch (error) {\n\t\tif (signal.aborted || !streams.has(stream)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (isAbortError(error)) {\n\t\t\taborted.add(stream);\n\t\t} else {\n\t\t\terrorStream(passThroughStream, error);\n\t\t}\n\t}\n};\n\nconst onInputStreamUnpipe = async ({stream, streams, ended, aborted, unpipeEvent, controller: {signal}}) => {\n\tawait once(stream, unpipeEvent, {signal});\n\n\tif (!stream.readable) {\n\t\treturn once(signal, 'abort', {signal});\n\t}\n\n\tstreams.delete(stream);\n\tended.delete(stream);\n\taborted.delete(stream);\n};\n\nconst endStream = stream => {\n\tif (stream.writable) {\n\t\tstream.end();\n\t}\n};\n\nconst errorOrAbortStream = (stream, error) => {\n\tif (isAbortError(error)) {\n\t\tabortStream(stream);\n\t} else {\n\t\terrorStream(stream, error);\n\t}\n};\n\n// This is the error thrown by `finished()` on `stream.destroy()`\nconst isAbortError = error => error?.code === 'ERR_STREAM_PREMATURE_CLOSE';\n\nconst abortStream = stream => {\n\tif (stream.readable || stream.writable) {\n\t\tstream.destroy();\n\t}\n};\n\n// `stream.destroy(error)` crashes the process with `uncaughtException` if no `error` event listener exists on `stream`.\n// We take care of error handling on user behalf, so we do not want this to happen.\nconst errorStream = (stream, error) => {\n\tif (!stream.destroyed) {\n\t\tstream.once('error', noop);\n\t\tstream.destroy(error);\n\t}\n};\n\nconst noop = () => {};\n\nconst updateMaxListeners = (passThroughStream, increment) => {\n\tconst maxListeners = passThroughStream.getMaxListeners();\n\tif (maxListeners !== 0 && maxListeners !== Number.POSITIVE_INFINITY) {\n\t\tpassThroughStream.setMaxListeners(maxListeners + increment);\n\t}\n};\n\n// Number of times `passThroughStream.on()` is called regardless of streams:\n//  - once due to `finished(passThroughStream)`\n//  - once due to `on(passThroughStream)`\nconst PASSTHROUGH_LISTENERS_COUNT = 2;\n\n// Number of times `passThroughStream.on()` is called per stream:\n//  - once due to `stream.pipe(passThroughStream)`\nconst PASSTHROUGH_LISTENERS_PER_STREAM = 1;\n", "import {finished} from 'node:stream/promises';\nimport {isStandardStream} from '../utils/standard-stream.js';\n\n// Similar to `Stream.pipeline(source, destination)`, but does not destroy standard streams\nexport const pipeStreams = (source, destination) => {\n\tsource.pipe(destination);\n\tonSourceFinish(source, destination);\n\tonDestinationFinish(source, destination);\n};\n\n// `source.pipe(destination)` makes `destination` end when `source` ends.\n// But it does not propagate aborts or errors. This function does it.\nconst onSourceFinish = async (source, destination) => {\n\tif (isStandardStream(source) || isStandardStream(destination)) {\n\t\treturn;\n\t}\n\n\ttry {\n\t\tawait finished(source, {cleanup: true, readable: true, writable: false});\n\t} catch {}\n\n\tendDestinationStream(destination);\n};\n\nexport const endDestinationStream = destination => {\n\tif (destination.writable) {\n\t\tdestination.end();\n\t}\n};\n\n// We do the same thing in the other direction as well.\nconst onDestinationFinish = async (source, destination) => {\n\tif (isStandardStream(source) || isStandardStream(destination)) {\n\t\treturn;\n\t}\n\n\ttry {\n\t\tawait finished(destination, {cleanup: true, readable: false, writable: true});\n\t} catch {}\n\n\tabortSourceStream(source);\n};\n\nexport const abortSourceStream = source => {\n\tif (source.readable) {\n\t\tsource.destroy();\n\t}\n};\n", "import mergeStreams from '@sindresorhus/merge-streams';\nimport {isStandardStream} from '../utils/standard-stream.js';\nimport {incrementMaxListeners} from '../utils/max-listeners.js';\nimport {TRANSFORM_TYPES} from '../stdio/type.js';\nimport {pipeStreams} from './pipeline.js';\n\n// Handle `input`, `inputFile`, `stdin`, `stdout` and `stderr` options, after spawning, in async mode\n// When multiple input streams are used, we merge them to ensure the output stream ends only once each input stream has ended\nexport const pipeOutputAsync = (subprocess, fileDescriptors, controller) => {\n\tconst pipeGroups = new Map();\n\n\tfor (const [fdNumber, {stdioItems, direction}] of Object.entries(fileDescriptors)) {\n\t\tfor (const {stream} of stdioItems.filter(({type}) => TRANSFORM_TYPES.has(type))) {\n\t\t\tpipeTransform(subprocess, stream, direction, fdNumber);\n\t\t}\n\n\t\tfor (const {stream} of stdioItems.filter(({type}) => !TRANSFORM_TYPES.has(type))) {\n\t\t\tpipeStdioItem({\n\t\t\t\tsubprocess,\n\t\t\t\tstream,\n\t\t\t\tdirection,\n\t\t\t\tfdNumber,\n\t\t\t\tpipeGroups,\n\t\t\t\tcontroller,\n\t\t\t});\n\t\t}\n\t}\n\n\tfor (const [outputStream, inputStreams] of pipeGroups.entries()) {\n\t\tconst inputStream = inputStreams.length === 1 ? inputStreams[0] : mergeStreams(inputStreams);\n\t\tpipeStreams(inputStream, outputStream);\n\t}\n};\n\n// When using transforms, `subprocess.stdin|stdout|stderr|stdio` is directly mutated\nconst pipeTransform = (subprocess, stream, direction, fdNumber) => {\n\tif (direction === 'output') {\n\t\tpipeStreams(subprocess.stdio[fdNumber], stream);\n\t} else {\n\t\tpipeStreams(stream, subprocess.stdio[fdNumber]);\n\t}\n\n\tconst streamProperty = SUBPROCESS_STREAM_PROPERTIES[fdNumber];\n\tif (streamProperty !== undefined) {\n\t\tsubprocess[streamProperty] = stream;\n\t}\n\n\tsubprocess.stdio[fdNumber] = stream;\n};\n\nconst SUBPROCESS_STREAM_PROPERTIES = ['stdin', 'stdout', 'stderr'];\n\n// Most `std*` option values involve piping `subprocess.std*` to a stream.\n// The stream is either passed by the user or created internally.\nconst pipeStdioItem = ({subprocess, stream, direction, fdNumber, pipeGroups, controller}) => {\n\tif (stream === undefined) {\n\t\treturn;\n\t}\n\n\tsetStandardStreamMaxListeners(stream, controller);\n\n\tconst [inputStream, outputStream] = direction === 'output'\n\t\t? [stream, subprocess.stdio[fdNumber]]\n\t\t: [subprocess.stdio[fdNumber], stream];\n\tconst outputStreams = pipeGroups.get(inputStream) ?? [];\n\tpipeGroups.set(inputStream, [...outputStreams, outputStream]);\n};\n\n// Multiple subprocesses might be piping from/to `process.std*` at the same time.\n// This is not necessarily an error and should not print a `maxListeners` warning.\nconst setStandardStreamMaxListeners = (stream, {signal}) => {\n\tif (isStandardStream(stream)) {\n\t\tincrementMaxListeners(stream, MAX_LISTENERS_INCREMENT, signal);\n\t}\n};\n\n// `source.pipe(destination)` adds at most 1 listener for each event.\n// If `stdin` option is an array, the values might be combined with `merge-streams`.\n// That library also listens for `source` end, which adds 1 more listener.\nconst MAX_LISTENERS_INCREMENT = 2;\n", "import {addAbortListener} from 'node:events';\nimport {onExit} from 'signal-exit';\n\n// If the `cleanup` option is used, call `subprocess.kill()` when the parent process exits\nexport const cleanupOnExit = (subprocess, {cleanup, detached}, {signal}) => {\n\tif (!cleanup || detached) {\n\t\treturn;\n\t}\n\n\tconst removeExitHandler = onExit(() => {\n\t\tsubprocess.kill();\n\t});\n\taddAbortListener(signal, () => {\n\t\tremoveExitHandler();\n\t});\n};\n", "/**\n * This is not the set of all possible signals.\n *\n * It IS, however, the set of all signals that trigger\n * an exit on either Linux or BSD systems.  Linux is a\n * superset of the signal names supported on BSD, and\n * the unknown signals just fail to register, so we can\n * catch that easily enough.\n *\n * Windows signals are a different set, since there are\n * signals that terminate Windows processes, but don't\n * terminate (or don't even exist) on Posix systems.\n *\n * Don't bother with SIGKILL.  It's uncatchable, which\n * means that we can't fire any callbacks anyway.\n *\n * If a user does happen to register a handler on a non-\n * fatal signal like SIGWINCH or something, and then\n * exit, it'll end up firing `process.emit('exit')`, so\n * the handler will be fired anyway.\n *\n * SIGBUS, SIGFPE, SIGSEGV and SIGILL, when not raised\n * artificially, inherently leave the process in a\n * state from which it is not safe to try and enter JS\n * listeners.\n */\nexport const signals: NodeJS.Signals[] = []\nsignals.push('SIGHUP', 'SIGINT', 'SIGTERM')\n\nif (process.platform !== 'win32') {\n  signals.push(\n    'SIGALRM',\n    'SIGABRT',\n    'SIGVTALRM',\n    'SIGXCPU',\n    'SIGXFSZ',\n    'SIGUSR2',\n    'SIGTRAP',\n    'SIGSYS',\n    'SIGQUIT',\n    'SIGIOT'\n    // should detect profiler and enable/disable accordingly.\n    // see #21\n    // 'SIGPROF'\n  )\n}\n\nif (process.platform === 'linux') {\n  signals.push('SIGIO', 'SIGPOLL', 'SIGPWR', 'SIGSTKFLT')\n}\n", "// Note: since nyc uses this module to output coverage, any lines\n// that are in the direct sync flow of nyc's outputCoverage are\n// ignored, since we can never get coverage for them.\n// grab a reference to node's real process object right away\nimport { signals } from './signals.js'\nexport { signals }\n\n// just a loosened process type so we can do some evil things\ntype ProcessRE = NodeJS.Process & {\n  reallyExit: (code?: number | undefined | null) => any\n  emit: (ev: string, ...a: any[]) => any\n}\n\nconst processOk = (process: any): process is ProcessRE =>\n  !!process &&\n  typeof process === 'object' &&\n  typeof process.removeListener === 'function' &&\n  typeof process.emit === 'function' &&\n  typeof process.reallyExit === 'function' &&\n  typeof process.listeners === 'function' &&\n  typeof process.kill === 'function' &&\n  typeof process.pid === 'number' &&\n  typeof process.on === 'function'\n\nconst kExitEmitter = Symbol.for('signal-exit emitter')\nconst global: typeof globalThis & { [kExitEmitter]?: Emitter } = globalThis\nconst ObjectDefineProperty = Object.defineProperty.bind(Object)\n\n/**\n * A function that takes an exit code and signal as arguments\n *\n * In the case of signal exits *only*, a return value of true\n * will indicate that the signal is being handled, and we should\n * not synthetically exit with the signal we received. Regardless\n * of the handler return value, the handler is unloaded when an\n * otherwise fatal signal is received, so you get exactly 1 shot\n * at it, unless you add another onExit handler at that point.\n *\n * In the case of numeric code exits, we may already have committed\n * to exiting the process, for example via a fatal exception or\n * unhandled promise rejection, so it is impossible to stop safely.\n */\nexport type Handler = (\n  code: number | null | undefined,\n  signal: NodeJS.Signals | null\n) => true | void\ntype ExitEvent = 'afterExit' | 'exit'\ntype Emitted = { [k in ExitEvent]: boolean }\ntype Listeners = { [k in ExitEvent]: Handler[] }\n\n// teeny special purpose ee\nclass Emitter {\n  emitted: Emitted = {\n    afterExit: false,\n    exit: false,\n  }\n\n  listeners: Listeners = {\n    afterExit: [],\n    exit: [],\n  }\n\n  count: number = 0\n  id: number = Math.random()\n\n  constructor() {\n    if (global[kExitEmitter]) {\n      return global[kExitEmitter]\n    }\n    ObjectDefineProperty(global, kExitEmitter, {\n      value: this,\n      writable: false,\n      enumerable: false,\n      configurable: false,\n    })\n  }\n\n  on(ev: ExitEvent, fn: Handler) {\n    this.listeners[ev].push(fn)\n  }\n\n  removeListener(ev: ExitEvent, fn: Handler) {\n    const list = this.listeners[ev]\n    const i = list.indexOf(fn)\n    /* c8 ignore start */\n    if (i === -1) {\n      return\n    }\n    /* c8 ignore stop */\n    if (i === 0 && list.length === 1) {\n      list.length = 0\n    } else {\n      list.splice(i, 1)\n    }\n  }\n\n  emit(\n    ev: ExitEvent,\n    code: number | null | undefined,\n    signal: NodeJS.Signals | null\n  ): boolean {\n    if (this.emitted[ev]) {\n      return false\n    }\n    this.emitted[ev] = true\n    let ret: boolean = false\n    for (const fn of this.listeners[ev]) {\n      ret = fn(code, signal) === true || ret\n    }\n    if (ev === 'exit') {\n      ret = this.emit('afterExit', code, signal) || ret\n    }\n    return ret\n  }\n}\n\nabstract class SignalExitBase {\n  abstract onExit(cb: Handler, opts?: { alwaysLast?: boolean }): () => void\n  abstract load(): void\n  abstract unload(): void\n}\n\nconst signalExitWrap = <T extends SignalExitBase>(handler: T) => {\n  return {\n    onExit(cb: Handler, opts?: { alwaysLast?: boolean }) {\n      return handler.onExit(cb, opts)\n    },\n    load() {\n      return handler.load()\n    },\n    unload() {\n      return handler.unload()\n    },\n  }\n}\n\nclass SignalExitFallback extends SignalExitBase {\n  onExit() {\n    return () => {}\n  }\n  load() {}\n  unload() {}\n}\n\nclass SignalExit extends SignalExitBase {\n  // \"SIGHUP\" throws an `ENOSYS` error on Windows,\n  // so use a supported signal instead\n  /* c8 ignore start */\n  #hupSig = process.platform === 'win32' ? 'SIGINT' : 'SIGHUP'\n  /* c8 ignore stop */\n  #emitter = new Emitter()\n  #process: ProcessRE\n  #originalProcessEmit: ProcessRE['emit']\n  #originalProcessReallyExit: ProcessRE['reallyExit']\n\n  #sigListeners: { [k in NodeJS.Signals]?: () => void } = {}\n  #loaded: boolean = false\n\n  constructor(process: ProcessRE) {\n    super()\n    this.#process = process\n    // { <signal>: <listener fn>, ... }\n    this.#sigListeners = {}\n    for (const sig of signals) {\n      this.#sigListeners[sig] = () => {\n        // If there are no other listeners, an exit is coming!\n        // Simplest way: remove us and then re-send the signal.\n        // We know that this will kill the process, so we can\n        // safely emit now.\n        const listeners = this.#process.listeners(sig)\n        let { count } = this.#emitter\n        // This is a workaround for the fact that signal-exit v3 and signal\n        // exit v4 are not aware of each other, and each will attempt to let\n        // the other handle it, so neither of them do. To correct this, we\n        // detect if we're the only handler *except* for previous versions\n        // of signal-exit, and increment by the count of listeners it has\n        // created.\n        /* c8 ignore start */\n        const p = process as unknown as {\n          __signal_exit_emitter__?: { count: number }\n        }\n        if (\n          typeof p.__signal_exit_emitter__ === 'object' &&\n          typeof p.__signal_exit_emitter__.count === 'number'\n        ) {\n          count += p.__signal_exit_emitter__.count\n        }\n        /* c8 ignore stop */\n        if (listeners.length === count) {\n          this.unload()\n          const ret = this.#emitter.emit('exit', null, sig)\n          /* c8 ignore start */\n          const s = sig === 'SIGHUP' ? this.#hupSig : sig\n          if (!ret) process.kill(process.pid, s)\n          /* c8 ignore stop */\n        }\n      }\n    }\n\n    this.#originalProcessReallyExit = process.reallyExit\n    this.#originalProcessEmit = process.emit\n  }\n\n  onExit(cb: Handler, opts?: { alwaysLast?: boolean }) {\n    /* c8 ignore start */\n    if (!processOk(this.#process)) {\n      return () => {}\n    }\n    /* c8 ignore stop */\n\n    if (this.#loaded === false) {\n      this.load()\n    }\n\n    const ev = opts?.alwaysLast ? 'afterExit' : 'exit'\n    this.#emitter.on(ev, cb)\n    return () => {\n      this.#emitter.removeListener(ev, cb)\n      if (\n        this.#emitter.listeners['exit'].length === 0 &&\n        this.#emitter.listeners['afterExit'].length === 0\n      ) {\n        this.unload()\n      }\n    }\n  }\n\n  load() {\n    if (this.#loaded) {\n      return\n    }\n    this.#loaded = true\n\n    // This is the number of onSignalExit's that are in play.\n    // It's important so that we can count the correct number of\n    // listeners on signals, and don't wait for the other one to\n    // handle it instead of us.\n    this.#emitter.count += 1\n\n    for (const sig of signals) {\n      try {\n        const fn = this.#sigListeners[sig]\n        if (fn) this.#process.on(sig, fn)\n      } catch (_) {}\n    }\n\n    this.#process.emit = (ev: string, ...a: any[]) => {\n      return this.#processEmit(ev, ...a)\n    }\n    this.#process.reallyExit = (code?: number | null | undefined) => {\n      return this.#processReallyExit(code)\n    }\n  }\n\n  unload() {\n    if (!this.#loaded) {\n      return\n    }\n    this.#loaded = false\n\n    signals.forEach(sig => {\n      const listener = this.#sigListeners[sig]\n      /* c8 ignore start */\n      if (!listener) {\n        throw new Error('Listener not defined for signal: ' + sig)\n      }\n      /* c8 ignore stop */\n      try {\n        this.#process.removeListener(sig, listener)\n        /* c8 ignore start */\n      } catch (_) {}\n      /* c8 ignore stop */\n    })\n    this.#process.emit = this.#originalProcessEmit\n    this.#process.reallyExit = this.#originalProcessReallyExit\n    this.#emitter.count -= 1\n  }\n\n  #processReallyExit(code?: number | null | undefined) {\n    /* c8 ignore start */\n    if (!processOk(this.#process)) {\n      return 0\n    }\n    this.#process.exitCode = code || 0\n    /* c8 ignore stop */\n\n    this.#emitter.emit('exit', this.#process.exitCode, null)\n    return this.#originalProcessReallyExit.call(\n      this.#process,\n      this.#process.exitCode\n    )\n  }\n\n  #processEmit(ev: string, ...args: any[]): any {\n    const og = this.#originalProcessEmit\n    if (ev === 'exit' && processOk(this.#process)) {\n      if (typeof args[0] === 'number') {\n        this.#process.exitCode = args[0]\n        /* c8 ignore start */\n      }\n      /* c8 ignore start */\n      const ret = og.call(this.#process, ev, ...args)\n      /* c8 ignore start */\n      this.#emitter.emit('exit', this.#process.exitCode, null)\n      /* c8 ignore stop */\n      return ret\n    } else {\n      return og.call(this.#process, ev, ...args)\n    }\n  }\n}\n\nconst process = globalThis.process\n// wrap so that we call the method on the actual handler, without\n// exporting it directly.\nexport const {\n  /**\n   * Called when the process is exiting, whether via signal, explicit\n   * exit, or running out of stuff to do.\n   *\n   * If the global process object is not suitable for instrumentation,\n   * then this will be a no-op.\n   *\n   * Returns a function that may be used to unload signal-exit.\n   */\n  onExit,\n\n  /**\n   * Load the listeners.  Likely you never need to call this, unless\n   * doing a rather deep integration with signal-exit functionality.\n   * Mostly exposed for the benefit of testing.\n   *\n   * @internal\n   */\n  load,\n\n  /**\n   * Unload the listeners.  Likely you never need to call this, unless\n   * doing a rather deep integration with signal-exit functionality.\n   * Mostly exposed for the benefit of testing.\n   *\n   * @internal\n   */\n  unload,\n} = signalExitWrap(\n  processOk(process) ? new SignalExit(process) : new SignalExitFallback()\n)\n", "import {normalizeParameters} from '../methods/parameters.js';\nimport {getStartTime} from '../return/duration.js';\nimport {SUBPROCESS_OPTIONS, getToStream, getFromStream} from '../arguments/fd-options.js';\nimport {isDenoExecPath} from '../arguments/file-url.js';\n\n// Normalize and validate arguments passed to `source.pipe(destination)`\nexport const normalizePipeArguments = ({source, sourcePromise, boundOptions, createNested}, ...pipeArguments) => {\n\tconst startTime = getStartTime();\n\tconst {\n\t\tdestination,\n\t\tdestinationStream,\n\t\tdestinationError,\n\t\tfrom,\n\t\tunpipeSignal,\n\t} = getDestinationStream(boundOptions, createNested, pipeArguments);\n\tconst {sourceStream, sourceError} = getSourceStream(source, from);\n\tconst {options: sourceOptions, fileDescriptors} = SUBPROCESS_OPTIONS.get(source);\n\treturn {\n\t\tsourcePromise,\n\t\tsourceStream,\n\t\tsourceOptions,\n\t\tsourceError,\n\t\tdestination,\n\t\tdestinationStream,\n\t\tdestinationError,\n\t\tunpipeSignal,\n\t\tfileDescriptors,\n\t\tstartTime,\n\t};\n};\n\nconst getDestinationStream = (boundOptions, createNested, pipeArguments) => {\n\ttry {\n\t\tconst {\n\t\t\tdestination,\n\t\t\tpipeOptions: {from, to, unpipeSignal} = {},\n\t\t} = getDestination(boundOptions, createNested, ...pipeArguments);\n\t\tconst destinationStream = getToStream(destination, to);\n\t\treturn {\n\t\t\tdestination,\n\t\t\tdestinationStream,\n\t\t\tfrom,\n\t\t\tunpipeSignal,\n\t\t};\n\t} catch (error) {\n\t\treturn {destinationError: error};\n\t}\n};\n\n// Piping subprocesses can use three syntaxes:\n//  - source.pipe('command', commandArguments, pipeOptionsOrDestinationOptions)\n//  - source.pipe`command commandArgument` or source.pipe(pipeOptionsOrDestinationOptions)`command commandArgument`\n//  - source.pipe(execa(...), pipeOptions)\nconst getDestination = (boundOptions, createNested, firstArgument, ...pipeArguments) => {\n\tif (Array.isArray(firstArgument)) {\n\t\tconst destination = createNested(mapDestinationArguments, boundOptions)(firstArgument, ...pipeArguments);\n\t\treturn {destination, pipeOptions: boundOptions};\n\t}\n\n\tif (typeof firstArgument === 'string' || firstArgument instanceof URL || isDenoExecPath(firstArgument)) {\n\t\tif (Object.keys(boundOptions).length > 0) {\n\t\t\tthrow new TypeError('Please use .pipe(\"file\", ..., options) or .pipe(execa(\"file\", ..., options)) instead of .pipe(options)(\"file\", ...).');\n\t\t}\n\n\t\tconst [rawFile, rawArguments, rawOptions] = normalizeParameters(firstArgument, ...pipeArguments);\n\t\tconst destination = createNested(mapDestinationArguments)(rawFile, rawArguments, rawOptions);\n\t\treturn {destination, pipeOptions: rawOptions};\n\t}\n\n\tif (SUBPROCESS_OPTIONS.has(firstArgument)) {\n\t\tif (Object.keys(boundOptions).length > 0) {\n\t\t\tthrow new TypeError('Please use .pipe(options)`command` or .pipe($(options)`command`) instead of .pipe(options)($`command`).');\n\t\t}\n\n\t\treturn {destination: firstArgument, pipeOptions: pipeArguments[0]};\n\t}\n\n\tthrow new TypeError(`The first argument must be a template string, an options object, or an Execa subprocess: ${firstArgument}`);\n};\n\n// Force `stdin: 'pipe'` with the destination subprocess\nconst mapDestinationArguments = ({options}) => ({options: {...options, stdin: 'pipe', piped: true}});\n\nconst getSourceStream = (source, from) => {\n\ttry {\n\t\tconst sourceStream = getFromStream(source, from);\n\t\treturn {sourceStream};\n\t} catch (error) {\n\t\treturn {sourceError: error};\n\t}\n};\n", "import {makeEarlyError} from '../return/result.js';\nimport {abortSourceStream, endDestinationStream} from '../io/pipeline.js';\n\n// When passing invalid arguments to `source.pipe()`, throw asynchronously.\n// We also abort both subprocesses.\nexport const handlePipeArgumentsError = ({\n\tsourceStream,\n\tsourceError,\n\tdestinationStream,\n\tdestinationError,\n\tfileDescriptors,\n\tsourceOptions,\n\tstartTime,\n}) => {\n\tconst error = getPipeArgumentsError({\n\t\tsourceStream,\n\t\tsourceError,\n\t\tdestinationStream,\n\t\tdestinationError,\n\t});\n\tif (error !== undefined) {\n\t\tthrow createNonCommandError({\n\t\t\terror,\n\t\t\tfileDescriptors,\n\t\t\tsourceOptions,\n\t\t\tstartTime,\n\t\t});\n\t}\n};\n\nconst getPipeArgumentsError = ({sourceStream, sourceError, destinationStream, destinationError}) => {\n\tif (sourceError !== undefined && destinationError !== undefined) {\n\t\treturn destinationError;\n\t}\n\n\tif (destinationError !== undefined) {\n\t\tabortSourceStream(sourceStream);\n\t\treturn destinationError;\n\t}\n\n\tif (sourceError !== undefined) {\n\t\tendDestinationStream(destinationStream);\n\t\treturn sourceError;\n\t}\n};\n\n// Specific error return value when passing invalid arguments to `subprocess.pipe()` or when using `unpipeSignal`\nexport const createNonCommandError = ({error, fileDescriptors, sourceOptions, startTime}) => makeEarlyError({\n\terror,\n\tcommand: PIPE_COMMAND_MESSAGE,\n\tescapedCommand: PIPE_COMMAND_MESSAGE,\n\tfileDescriptors,\n\toptions: sourceOptions,\n\tstartTime,\n\tisSync: false,\n});\n\nconst PIPE_COMMAND_MESSAGE = 'source.pipe(destination)';\n", "// Like Bash, we await both subprocesses. This is unlike some other shells which only await the destination subprocess.\n// Like Bash with the `pipefail` option, if either subprocess fails, the whole pipe fails.\n// Like Bash, if both subprocesses fail, we return the failure of the destination.\n// This ensures both subprocesses' errors are present, using `error.pipedFrom`.\nexport const waitForBothSubprocesses = async subprocessPromises => {\n\tconst [\n\t\t{status: sourceStatus, reason: sourceReason, value: sourceResult = sourceReason},\n\t\t{status: destinationStatus, reason: destinationReason, value: destinationResult = destinationReason},\n\t] = await subprocessPromises;\n\n\tif (!destinationResult.pipedFrom.includes(sourceResult)) {\n\t\tdestinationResult.pipedFrom.push(sourceResult);\n\t}\n\n\tif (destinationStatus === 'rejected') {\n\t\tthrow destinationResult;\n\t}\n\n\tif (sourceStatus === 'rejected') {\n\t\tthrow sourceResult;\n\t}\n\n\treturn destinationResult;\n};\n", "import {finished} from 'node:stream/promises';\nimport mergeStreams from '@sindresorhus/merge-streams';\nimport {incrementMaxListeners} from '../utils/max-listeners.js';\nimport {pipeStreams} from '../io/pipeline.js';\n\n// The piping behavior is like Bash.\n// In particular, when one subprocess exits, the other is not terminated by a signal.\n// Instead, its stdout (for the source) or stdin (for the destination) closes.\n// If the subprocess uses it, it will make it error with SIGPIPE or EPIPE (for the source) or end (for the destination).\n// If it does not use it, it will continue running.\n// This allows for subprocesses to gracefully exit and lower the coupling between subprocesses.\nexport const pipeSubprocessStream = (sourceStream, destinationStream, maxListenersController) => {\n\tconst mergedStream = MERGED_STREAMS.has(destinationStream)\n\t\t? pipeMoreSubprocessStream(sourceStream, destinationStream)\n\t\t: pipeFirstSubprocessStream(sourceStream, destinationStream);\n\tincrementMaxListeners(sourceStream, SOURCE_LISTENERS_PER_PIPE, maxListenersController.signal);\n\tincrementMaxListeners(destinationStream, DESTINATION_LISTENERS_PER_PIPE, maxListenersController.signal);\n\tcleanupMergedStreamsMap(destinationStream);\n\treturn mergedStream;\n};\n\n// We use `merge-streams` to allow for multiple sources to pipe to the same destination.\nconst pipeFirstSubprocessStream = (sourceStream, destinationStream) => {\n\tconst mergedStream = mergeStreams([sourceStream]);\n\tpipeStreams(mergedStream, destinationStream);\n\tMERGED_STREAMS.set(destinationStream, mergedStream);\n\treturn mergedStream;\n};\n\nconst pipeMoreSubprocessStream = (sourceStream, destinationStream) => {\n\tconst mergedStream = MERGED_STREAMS.get(destinationStream);\n\tmergedStream.add(sourceStream);\n\treturn mergedStream;\n};\n\nconst cleanupMergedStreamsMap = async destinationStream => {\n\ttry {\n\t\tawait finished(destinationStream, {cleanup: true, readable: false, writable: true});\n\t} catch {}\n\n\tMERGED_STREAMS.delete(destinationStream);\n};\n\nconst MERGED_STREAMS = new WeakMap();\n\n// Number of listeners set up on `sourceStream` by each `sourceStream.pipe(destinationStream)`\n// Those are added by `merge-streams`\nconst SOURCE_LISTENERS_PER_PIPE = 2;\n// Number of listeners set up on `destinationStream` by each `sourceStream.pipe(destinationStream)`\n// Those are added by `finished()` in `cleanupMergedStreamsMap()`\nconst DESTINATION_LISTENERS_PER_PIPE = 1;\n", "import {aborted} from 'node:util';\nimport {createNonCommandError} from './throw.js';\n\n// When passing an `unpipeSignal` option, abort piping when the signal is aborted.\n// However, do not terminate the subprocesses.\nexport const unpipeOnAbort = (unpipeSignal, unpipeContext) => unpipeSignal === undefined\n\t? []\n\t: [unpipeOnSignalAbort(unpipeSignal, unpipeContext)];\n\nconst unpipeOnSignalAbort = async (unpipeSignal, {sourceStream, mergedStream, fileDescriptors, sourceOptions, startTime}) => {\n\tawait aborted(unpipeSignal, sourceStream);\n\tawait mergedStream.remove(sourceStream);\n\tconst error = new Error('Pipe canceled by `unpipeSignal` option.');\n\tthrow createNonCommandError({\n\t\terror,\n\t\tfileDescriptors,\n\t\tsourceOptions,\n\t\tstartTime,\n\t});\n};\n", "import isPlainObject from 'is-plain-obj';\nimport {normalizePipeArguments} from './pipe-arguments.js';\nimport {handlePipeArgumentsError} from './throw.js';\nimport {waitForBothSubprocesses} from './sequence.js';\nimport {pipeSubprocessStream} from './streaming.js';\nimport {unpipeOnAbort} from './abort.js';\n\n// Pipe a subprocess' `stdout`/`stderr`/`stdio` into another subprocess' `stdin`\nexport const pipeToSubprocess = (sourceInfo, ...pipeArguments) => {\n\tif (isPlainObject(pipeArguments[0])) {\n\t\treturn pipeToSubprocess.bind(undefined, {\n\t\t\t...sourceInfo,\n\t\t\tboundOptions: {...sourceInfo.boundOptions, ...pipeArguments[0]},\n\t\t});\n\t}\n\n\tconst {destination, ...normalizedInfo} = normalizePipeArguments(sourceInfo, ...pipeArguments);\n\tconst promise = handlePipePromise({...normalizedInfo, destination});\n\tpromise.pipe = pipeToSubprocess.bind(undefined, {\n\t\t...sourceInfo,\n\t\tsource: destination,\n\t\tsourcePromise: promise,\n\t\tboundOptions: {},\n\t});\n\treturn promise;\n};\n\n// Asynchronous logic when piping subprocesses\nconst handlePipePromise = async ({\n\tsourcePromise,\n\tsourceStream,\n\tsourceOptions,\n\tsourceError,\n\tdestination,\n\tdestinationStream,\n\tdestinationError,\n\tunpipeSignal,\n\tfileDescriptors,\n\tstartTime,\n}) => {\n\tconst subprocessPromises = getSubprocessPromises(sourcePromise, destination);\n\thandlePipeArgumentsError({\n\t\tsourceStream,\n\t\tsourceError,\n\t\tdestinationStream,\n\t\tdestinationError,\n\t\tfileDescriptors,\n\t\tsourceOptions,\n\t\tstartTime,\n\t});\n\tconst maxListenersController = new AbortController();\n\ttry {\n\t\tconst mergedStream = pipeSubprocessStream(sourceStream, destinationStream, maxListenersController);\n\t\treturn await Promise.race([\n\t\t\twaitForBothSubprocesses(subprocessPromises),\n\t\t\t...unpipeOnAbort(unpipeSignal, {\n\t\t\t\tsourceStream,\n\t\t\t\tmergedStream,\n\t\t\t\tsourceOptions,\n\t\t\t\tfileDescriptors,\n\t\t\t\tstartTime,\n\t\t\t}),\n\t\t]);\n\t} finally {\n\t\tmaxListenersController.abort();\n\t}\n};\n\n// `.pipe()` awaits the subprocess promises.\n// When invalid arguments are passed to `.pipe()`, we throw an error, which prevents awaiting them.\n// We need to ensure this does not create unhandled rejections.\nconst getSubprocessPromises = (sourcePromise, destination) => Promise.allSettled([sourcePromise, destination]);\n", "import {setImmediate} from 'node:timers/promises';\nimport getStream, {getStreamAsArrayBuffer, getStreamAsArray} from 'get-stream';\nimport {isArrayBuffer} from '../utils/uint-array.js';\nimport {shouldLogOutput, logLines} from '../verbose/output.js';\nimport {iterateForResult} from './iterate.js';\nimport {handleMaxBuffer} from './max-buffer.js';\nimport {getStripFinalNewline} from './strip-newline.js';\n\n// Retrieve `result.stdout|stderr|all|stdio[*]`\nexport const getStreamOutput = async ({stream, onStreamEnd, fdNumber, encoding, buffer, maxBuffer, lines, allMixed, stripFinalNewline, verboseInfo, streamInfo}) => {\n\tconst logPromise = logOutputAsync({\n\t\tstream,\n\t\tonStreamEnd,\n\t\tfdNumber,\n\t\tencoding,\n\t\tallMixed,\n\t\tverboseInfo,\n\t\tstreamInfo,\n\t});\n\n\tif (!buffer) {\n\t\tawait Promise.all([resumeStream(stream), logPromise]);\n\t\treturn;\n\t}\n\n\tconst stripFinalNewlineValue = getStripFinalNewline(stripFinalNewline, fdNumber);\n\tconst iterable = iterateForResult({\n\t\tstream,\n\t\tonStreamEnd,\n\t\tlines,\n\t\tencoding,\n\t\tstripFinalNewline: stripFinalNewlineValue,\n\t\tallMixed,\n\t});\n\tconst [output] = await Promise.all([\n\t\tgetStreamContents({\n\t\t\tstream,\n\t\t\titerable,\n\t\t\tfdNumber,\n\t\t\tencoding,\n\t\t\tmaxBuffer,\n\t\t\tlines,\n\t\t}),\n\t\tlogPromise,\n\t]);\n\treturn output;\n};\n\nconst logOutputAsync = async ({stream, onStreamEnd, fdNumber, encoding, allMixed, verboseInfo, streamInfo: {fileDescriptors}}) => {\n\tif (!shouldLogOutput({\n\t\tstdioItems: fileDescriptors[fdNumber]?.stdioItems,\n\t\tencoding,\n\t\tverboseInfo,\n\t\tfdNumber,\n\t})) {\n\t\treturn;\n\t}\n\n\tconst linesIterable = iterateForResult({\n\t\tstream,\n\t\tonStreamEnd,\n\t\tlines: true,\n\t\tencoding,\n\t\tstripFinalNewline: true,\n\t\tallMixed,\n\t});\n\tawait logLines(linesIterable, stream, fdNumber, verboseInfo);\n};\n\n// When using `buffer: false`, users need to read `subprocess.stdout|stderr|all` right away\n// See https://github.com/sindresorhus/execa/issues/730 and https://github.com/sindresorhus/execa/pull/729#discussion_r1465496310\nconst resumeStream = async stream => {\n\tawait setImmediate();\n\tif (stream.readableFlowing === null) {\n\t\tstream.resume();\n\t}\n};\n\nconst getStreamContents = async ({stream, stream: {readableObjectMode}, iterable, fdNumber, encoding, maxBuffer, lines}) => {\n\ttry {\n\t\tif (readableObjectMode || lines) {\n\t\t\treturn await getStreamAsArray(iterable, {maxBuffer});\n\t\t}\n\n\t\tif (encoding === 'buffer') {\n\t\t\treturn new Uint8Array(await getStreamAsArrayBuffer(iterable, {maxBuffer}));\n\t\t}\n\n\t\treturn await getStream(iterable, {maxBuffer});\n\t} catch (error) {\n\t\treturn handleBufferedData(handleMaxBuffer({\n\t\t\terror,\n\t\t\tstream,\n\t\t\treadableObjectMode,\n\t\t\tlines,\n\t\t\tencoding,\n\t\t\tfdNumber,\n\t\t}));\n\t}\n};\n\n// On failure, `result.stdout|stderr|all` should contain the currently buffered stream\n// They are automatically closed and flushed by Node.js when the subprocess exits\n// When `buffer` is `false`, `streamPromise` is `undefined` and there is no buffered data to retrieve\nexport const getBufferedData = async streamPromise => {\n\ttry {\n\t\treturn await streamPromise;\n\t} catch (error) {\n\t\treturn handleBufferedData(error);\n\t}\n};\n\n// Ensure we are returning Uint8Arrays when using `encoding: 'buffer'`\nconst handleBufferedData = ({bufferedData}) => isArrayBuffer(bufferedData)\n\t? new Uint8Array(bufferedData)\n\t: bufferedData;\n", "import {on} from 'node:events';\nimport {getDefaultHighWaterMark} from 'node:stream';\nimport {getEncodingTransformGenerator} from '../transform/encoding-transform.js';\nimport {getSplitLinesGenerator} from '../transform/split.js';\nimport {transformChunkSync, finalChunksSync} from '../transform/run-sync.js';\n\n// Iterate over lines of `subprocess.stdout`, used by `subprocess.readable|duplex|iterable()`\nexport const iterateOnSubprocessStream = ({subprocessStdout, subprocess, binary, shouldEncode, encoding, preserveNewlines}) => {\n\tconst controller = new AbortController();\n\tstopReadingOnExit(subprocess, controller);\n\treturn iterateOnStream({\n\t\tstream: subprocessStdout,\n\t\tcontroller,\n\t\tbinary,\n\t\tshouldEncode: !subprocessStdout.readableObjectMode && shouldEncode,\n\t\tencoding,\n\t\tshouldSplit: !subprocessStdout.readableObjectMode,\n\t\tpreserveNewlines,\n\t});\n};\n\nconst stopReadingOnExit = async (subprocess, controller) => {\n\ttry {\n\t\tawait subprocess;\n\t} catch {} finally {\n\t\tcontroller.abort();\n\t}\n};\n\n// Iterate over lines of `subprocess.stdout`, used by `result.stdout` and the `verbose: 'full'` option.\n// Applies the `lines` and `encoding` options.\nexport const iterateForResult = ({stream, onStreamEnd, lines, encoding, stripFinalNewline, allMixed}) => {\n\tconst controller = new AbortController();\n\tstopReadingOnStreamEnd(onStreamEnd, controller, stream);\n\tconst objectMode = stream.readableObjectMode && !allMixed;\n\treturn iterateOnStream({\n\t\tstream,\n\t\tcontroller,\n\t\tbinary: encoding === 'buffer',\n\t\tshouldEncode: !objectMode,\n\t\tencoding,\n\t\tshouldSplit: !objectMode && lines,\n\t\tpreserveNewlines: !stripFinalNewline,\n\t});\n};\n\nconst stopReadingOnStreamEnd = async (onStreamEnd, controller, stream) => {\n\ttry {\n\t\tawait onStreamEnd;\n\t} catch {\n\t\tstream.destroy();\n\t} finally {\n\t\tcontroller.abort();\n\t}\n};\n\nconst iterateOnStream = ({stream, controller, binary, shouldEncode, encoding, shouldSplit, preserveNewlines}) => {\n\tconst onStdoutChunk = on(stream, 'data', {\n\t\tsignal: controller.signal,\n\t\thighWaterMark: HIGH_WATER_MARK,\n\t\t// Backward compatibility with older name for this option\n\t\t// See https://github.com/nodejs/node/pull/52080#discussion_r1525227861\n\t\t// @todo Remove after removing support for Node 21\n\t\thighWatermark: HIGH_WATER_MARK,\n\t});\n\treturn iterateOnData({\n\t\tonStdoutChunk,\n\t\tcontroller,\n\t\tbinary,\n\t\tshouldEncode,\n\t\tencoding,\n\t\tshouldSplit,\n\t\tpreserveNewlines,\n\t});\n};\n\nexport const DEFAULT_OBJECT_HIGH_WATER_MARK = getDefaultHighWaterMark(true);\n\n// The `highWaterMark` of `events.on()` is measured in number of events, not in bytes.\n// Not knowing the average amount of bytes per `data` event, we use the same heuristic as streams in objectMode, since they have the same issue.\n// Therefore, we use the value of `getDefaultHighWaterMark(true)`.\n// Note: this option does not exist on Node 18, but this is ok since the logic works without it. It just consumes more memory.\nconst HIGH_WATER_MARK = DEFAULT_OBJECT_HIGH_WATER_MARK;\n\nconst iterateOnData = async function * ({onStdoutChunk, controller, binary, shouldEncode, encoding, shouldSplit, preserveNewlines}) {\n\tconst generators = getGenerators({\n\t\tbinary,\n\t\tshouldEncode,\n\t\tencoding,\n\t\tshouldSplit,\n\t\tpreserveNewlines,\n\t});\n\n\ttry {\n\t\tfor await (const [chunk] of onStdoutChunk) {\n\t\t\tyield * transformChunkSync(chunk, generators, 0);\n\t\t}\n\t} catch (error) {\n\t\tif (!controller.signal.aborted) {\n\t\t\tthrow error;\n\t\t}\n\t} finally {\n\t\tyield * finalChunksSync(generators);\n\t}\n};\n\nconst getGenerators = ({binary, shouldEncode, encoding, shouldSplit, preserveNewlines}) => [\n\tgetEncodingTransformGenerator(binary, encoding, !shouldEncode),\n\tgetSplitLinesGenerator(binary, preserveNewlines, !shouldSplit, {}),\n].filter(Boolean);\n", "import {finished} from 'node:stream/promises';\n\n// Wraps `finished(stream)` to handle the following case:\n//  - When the subprocess exits, Node.js automatically calls `subprocess.stdin.destroy()`, which we need to ignore.\n//  - However, we still need to throw if `subprocess.stdin.destroy()` is called before subprocess exit.\nexport const waitForStream = async (stream, fdNumber, streamInfo, {isSameDirection, stopOnExit = false} = {}) => {\n\tconst state = handleStdinDestroy(stream, streamInfo);\n\tconst abortController = new AbortController();\n\ttry {\n\t\tawait Promise.race([\n\t\t\t...(stopOnExit ? [streamInfo.exitPromise] : []),\n\t\t\tfinished(stream, {cleanup: true, signal: abortController.signal}),\n\t\t]);\n\t} catch (error) {\n\t\tif (!state.stdinCleanedUp) {\n\t\t\thandleStreamError(error, fdNumber, streamInfo, isSameDirection);\n\t\t}\n\t} finally {\n\t\tabortController.abort();\n\t}\n};\n\n// If `subprocess.stdin` is destroyed before being fully written to, it is considered aborted and should throw an error.\n// This can happen for example when user called `subprocess.stdin.destroy()` before `subprocess.stdin.end()`.\n// However, Node.js calls `subprocess.stdin.destroy()` on exit for cleanup purposes.\n// https://github.com/nodejs/node/blob/0b4cdb4b42956cbd7019058e409e06700a199e11/lib/internal/child_process.js#L278\n// This is normal and should not throw an error.\n// Therefore, we need to differentiate between both situations to know whether to throw an error.\n// Unfortunately, events (`close`, `error`, `end`, `exit`) cannot be used because `.destroy()` can take an arbitrary amount of time.\n// For example, `stdin: 'pipe'` is implemented as a TCP socket, and its `.destroy()` method waits for TCP disconnection.\n// Therefore `.destroy()` might end before or after subprocess exit, based on OS speed and load.\n// The only way to detect this is to spy on `subprocess.stdin._destroy()` by wrapping it.\n// If `subprocess.exitCode` or `subprocess.signalCode` is set, it means `.destroy()` is being called by Node.js itself.\nconst handleStdinDestroy = (stream, {originalStreams: [originalStdin], subprocess}) => {\n\tconst state = {stdinCleanedUp: false};\n\tif (stream === originalStdin) {\n\t\tspyOnStdinDestroy(stream, subprocess, state);\n\t}\n\n\treturn state;\n};\n\nconst spyOnStdinDestroy = (subprocessStdin, subprocess, state) => {\n\tconst {_destroy} = subprocessStdin;\n\tsubprocessStdin._destroy = (...destroyArguments) => {\n\t\tsetStdinCleanedUp(subprocess, state);\n\t\t_destroy.call(subprocessStdin, ...destroyArguments);\n\t};\n};\n\nconst setStdinCleanedUp = ({exitCode, signalCode}, state) => {\n\tif (exitCode !== null || signalCode !== null) {\n\t\tstate.stdinCleanedUp = true;\n\t}\n};\n\n// We ignore EPIPEs on writable streams and aborts on readable streams since those can happen normally.\n// When one stream errors, the error is propagated to the other streams on the same file descriptor.\n// Those other streams might have a different direction due to the above.\n// When this happens, the direction of both the initial stream and the others should then be taken into account.\n// Therefore, we keep track of whether a stream error is currently propagating.\nconst handleStreamError = (error, fdNumber, streamInfo, isSameDirection) => {\n\tif (!shouldIgnoreStreamError(error, fdNumber, streamInfo, isSameDirection)) {\n\t\tthrow error;\n\t}\n};\n\nconst shouldIgnoreStreamError = (error, fdNumber, streamInfo, isSameDirection = true) => {\n\tif (streamInfo.propagating) {\n\t\treturn isStreamEpipe(error) || isStreamAbort(error);\n\t}\n\n\tstreamInfo.propagating = true;\n\treturn isInputFileDescriptor(streamInfo, fdNumber) === isSameDirection\n\t\t? isStreamEpipe(error)\n\t\t: isStreamAbort(error);\n};\n\n// Unfortunately, we cannot use the stream's class or properties to know whether it is readable or writable.\n// For example, `subprocess.stdin` is technically a Duplex, but can only be used as a writable.\n// Therefore, we need to use the file descriptor's direction (`stdin` is input, `stdout` is output, etc.).\n// However, while `subprocess.std*` and transforms follow that direction, any stream passed the `std*` option has the opposite direction.\n// For example, `subprocess.stdin` is a writable, but the `stdin` option is a readable.\nexport const isInputFileDescriptor = ({fileDescriptors}, fdNumber) => fdNumber !== 'all' && fileDescriptors[fdNumber].direction === 'input';\n\n// When `stream.destroy()` is called without an `error` argument, stream is aborted.\n// This is the only way to abort a readable stream, which can be useful in some instances.\n// Therefore, we ignore this error on readable streams.\nexport const isStreamAbort = error => error?.code === 'ERR_STREAM_PREMATURE_CLOSE';\n\n// When `stream.write()` is called but the underlying source has been closed, `EPIPE` is emitted.\n// When piping subprocesses, the source subprocess usually decides when to stop piping.\n// However, there are some instances when the destination does instead, such as `... | head -n1`.\n// It notifies the source by using `EPIPE`.\n// Therefore, we ignore this error on writable streams.\nconst isStreamEpipe = error => error?.code === 'EPIPE';\n", "import {getStreamOutput} from '../io/contents.js';\nimport {waitForStream, isInputFileDescriptor} from './wait-stream.js';\n\n// Read the contents of `subprocess.std*` and|or wait for its completion\nexport const waitForStdioStreams = ({subprocess, encoding, buffer, maxBuffer, lines, stripFinalNewline, verboseInfo, streamInfo}) => subprocess.stdio.map((stream, fdNumber) => waitForSubprocessStream({\n\tstream,\n\tfdNumber,\n\tencoding,\n\tbuffer: buffer[fdNumber],\n\tmaxBuffer: maxBuffer[fdNumber],\n\tlines: lines[fdNumber],\n\tallMixed: false,\n\tstripFinalNewline,\n\tverboseInfo,\n\tstreamInfo,\n}));\n\n// Read the contents of `subprocess.std*` or `subprocess.all` and|or wait for its completion\nexport const waitForSubprocessStream = async ({stream, fdNumber, encoding, buffer, maxBuffer, lines, allMixed, stripFinalNewline, verboseInfo, streamInfo}) => {\n\tif (!stream) {\n\t\treturn;\n\t}\n\n\tconst onStreamEnd = waitForStream(stream, fdNumber, streamInfo);\n\tif (isInputFileDescriptor(streamInfo, fdNumber)) {\n\t\tawait onStreamEnd;\n\t\treturn;\n\t}\n\n\tconst [output] = await Promise.all([\n\t\tgetStreamOutput({\n\t\t\tstream,\n\t\t\tonStreamEnd,\n\t\t\tfdNumber,\n\t\t\tencoding,\n\t\t\tbuffer,\n\t\t\tmaxBuffer,\n\t\t\tlines,\n\t\t\tallMixed,\n\t\t\tstripFinalNewline,\n\t\t\tverboseInfo,\n\t\t\tstreamInfo,\n\t\t}),\n\t\tonStreamEnd,\n\t]);\n\treturn output;\n};\n", "import mergeStreams from '@sindresorhus/merge-streams';\nimport {waitForSubprocessStream} from './stdio.js';\n\n// `all` interleaves `stdout` and `stderr`\nexport const makeAllStream = ({stdout, stderr}, {all}) => all && (stdout || stderr)\n\t? mergeStreams([stdout, stderr].filter(Boolean))\n\t: undefined;\n\n// Read the contents of `subprocess.all` and|or wait for its completion\nexport const waitForAllStream = ({subprocess, encoding, buffer, maxBuffer, lines, stripFinalNewline, verboseInfo, streamInfo}) => waitForSubprocessStream({\n\t...getAllStream(subprocess, buffer),\n\tfdNumber: 'all',\n\tencoding,\n\tmaxBuffer: maxBuffer[1] + maxBuffer[2],\n\tlines: lines[1] || lines[2],\n\tallMixed: getAllMixed(subprocess),\n\tstripFinalNewline,\n\tverboseInfo,\n\tstreamInfo,\n});\n\nconst getAllStream = ({stdout, stderr, all}, [, bufferStdout, bufferStderr]) => {\n\tconst buffer = bufferStdout || bufferStderr;\n\tif (!buffer) {\n\t\treturn {stream: all, buffer};\n\t}\n\n\tif (!bufferStdout) {\n\t\treturn {stream: stderr, buffer};\n\t}\n\n\tif (!bufferStderr) {\n\t\treturn {stream: stdout, buffer};\n\t}\n\n\treturn {stream: all, buffer};\n};\n\n// When `subprocess.stdout` is in objectMode but not `subprocess.stderr` (or the opposite), we need to use both:\n//  - `getStreamAsArray()` for the chunks in objectMode, to return as an array without changing each chunk\n//  - `getStreamAsArrayBuffer()` or `getStream()` for the chunks not in objectMode, to convert them from Buffers to string or Uint8Array\n// We do this by emulating the Buffer -> string|Uint8Array conversion performed by `get-stream` with our own, which is identical.\nconst getAllMixed = ({all, stdout, stderr}) => all\n\t&& stdout\n\t&& stderr\n\t&& stdout.readableObjectMode !== stderr.readableObjectMode;\n", "import {once} from 'node:events';\nimport {isStream as isNodeStream} from 'is-stream';\nimport {throwOnTimeout} from '../terminate/timeout.js';\nimport {throwOnCancel} from '../terminate/cancel.js';\nimport {throwOnGracefulCancel} from '../terminate/graceful.js';\nimport {isStandardStream} from '../utils/standard-stream.js';\nimport {TRANSFORM_TYPES} from '../stdio/type.js';\nimport {getBufferedData} from '../io/contents.js';\nimport {waitForIpcOutput, getBufferedIpcOutput} from '../ipc/buffer-messages.js';\nimport {sendIpcInput} from '../ipc/ipc-input.js';\nimport {waitForAllStream} from './all-async.js';\nimport {waitForStdioStreams} from './stdio.js';\nimport {waitForExit, waitForSuccessfulExit} from './exit-async.js';\nimport {waitForStream} from './wait-stream.js';\n\n// Retrieve result of subprocess: exit code, signal, error, streams (stdout/stderr/all)\nexport const waitForSubprocessResult = async ({\n\tsubprocess,\n\toptions: {\n\t\tencoding,\n\t\tbuffer,\n\t\tmaxBuffer,\n\t\tlines,\n\t\ttimeoutDuration: timeout,\n\t\tcancelSignal,\n\t\tgracefulCancel,\n\t\tforceKillAfterDelay,\n\t\tstripFinalNewline,\n\t\tipc,\n\t\tipcInput,\n\t},\n\tcontext,\n\tverboseInfo,\n\tfileDescriptors,\n\toriginalStreams,\n\tonInternalError,\n\tcontroller,\n}) => {\n\tconst exitPromise = waitForExit(subprocess, context);\n\tconst streamInfo = {\n\t\toriginalStreams,\n\t\tfileDescriptors,\n\t\tsubprocess,\n\t\texitPromise,\n\t\tpropagating: false,\n\t};\n\n\tconst stdioPromises = waitForStdioStreams({\n\t\tsubprocess,\n\t\tencoding,\n\t\tbuffer,\n\t\tmaxBuffer,\n\t\tlines,\n\t\tstripFinalNewline,\n\t\tverboseInfo,\n\t\tstreamInfo,\n\t});\n\tconst allPromise = waitForAllStream({\n\t\tsubprocess,\n\t\tencoding,\n\t\tbuffer,\n\t\tmaxBuffer,\n\t\tlines,\n\t\tstripFinalNewline,\n\t\tverboseInfo,\n\t\tstreamInfo,\n\t});\n\tconst ipcOutput = [];\n\tconst ipcOutputPromise = waitForIpcOutput({\n\t\tsubprocess,\n\t\tbuffer,\n\t\tmaxBuffer,\n\t\tipc,\n\t\tipcOutput,\n\t\tverboseInfo,\n\t});\n\tconst originalPromises = waitForOriginalStreams(originalStreams, subprocess, streamInfo);\n\tconst customStreamsEndPromises = waitForCustomStreamsEnd(fileDescriptors, streamInfo);\n\n\ttry {\n\t\treturn await Promise.race([\n\t\t\tPromise.all([\n\t\t\t\t{},\n\t\t\t\twaitForSuccessfulExit(exitPromise),\n\t\t\t\tPromise.all(stdioPromises),\n\t\t\t\tallPromise,\n\t\t\t\tipcOutputPromise,\n\t\t\t\tsendIpcInput(subprocess, ipcInput),\n\t\t\t\t...originalPromises,\n\t\t\t\t...customStreamsEndPromises,\n\t\t\t]),\n\t\t\tonInternalError,\n\t\t\tthrowOnSubprocessError(subprocess, controller),\n\t\t\t...throwOnTimeout(subprocess, timeout, context, controller),\n\t\t\t...throwOnCancel({\n\t\t\t\tsubprocess,\n\t\t\t\tcancelSignal,\n\t\t\t\tgracefulCancel,\n\t\t\t\tcontext,\n\t\t\t\tcontroller,\n\t\t\t}),\n\t\t\t...throwOnGracefulCancel({\n\t\t\t\tsubprocess,\n\t\t\t\tcancelSignal,\n\t\t\t\tgracefulCancel,\n\t\t\t\tforceKillAfterDelay,\n\t\t\t\tcontext,\n\t\t\t\tcontroller,\n\t\t\t}),\n\t\t]);\n\t} catch (error) {\n\t\tcontext.terminationReason ??= 'other';\n\t\treturn Promise.all([\n\t\t\t{error},\n\t\t\texitPromise,\n\t\t\tPromise.all(stdioPromises.map(stdioPromise => getBufferedData(stdioPromise))),\n\t\t\tgetBufferedData(allPromise),\n\t\t\tgetBufferedIpcOutput(ipcOutputPromise, ipcOutput),\n\t\t\tPromise.allSettled(originalPromises),\n\t\t\tPromise.allSettled(customStreamsEndPromises),\n\t\t]);\n\t}\n};\n\n// Transforms replace `subprocess.std*`, which means they are not exposed to users.\n// However, we still want to wait for their completion.\nconst waitForOriginalStreams = (originalStreams, subprocess, streamInfo) =>\n\toriginalStreams.map((stream, fdNumber) => stream === subprocess.stdio[fdNumber]\n\t\t? undefined\n\t\t: waitForStream(stream, fdNumber, streamInfo));\n\n// Some `stdin`/`stdout`/`stderr` options create a stream, e.g. when passing a file path.\n// The `.pipe()` method automatically ends that stream when `subprocess` ends.\n// This makes sure we wait for the completion of those streams, in order to catch any error.\nconst waitForCustomStreamsEnd = (fileDescriptors, streamInfo) => fileDescriptors.flatMap(({stdioItems}, fdNumber) => stdioItems\n\t.filter(({value, stream = value}) => isNodeStream(stream, {checkOpen: false}) && !isStandardStream(stream))\n\t.map(({type, value, stream = value}) => waitForStream(stream, fdNumber, streamInfo, {\n\t\tisSameDirection: TRANSFORM_TYPES.has(type),\n\t\tstopOnExit: type === 'native',\n\t})));\n\n// Fails when the subprocess emits an `error` event\nconst throwOnSubprocessError = async (subprocess, {signal}) => {\n\tconst [error] = await once(subprocess, 'error', {signal});\n\tthrow error;\n};\n", "import {verboseLog, serializeVerboseMessage} from './log.js';\nimport {isFullVerbose} from './values.js';\n\n// When `verbose` is `'full'`, print IPC messages from the subprocess\nexport const shouldLogIpc = verboseInfo => isFullVerbose(verboseInfo, 'ipc');\n\nexport const logIpcOutput = (message, verboseInfo) => {\n\tconst verboseMessage = serializeVerboseMessage(message);\n\tverboseLog({\n\t\ttype: 'ipc',\n\t\tverboseMessage,\n\t\tfdNumber: 'ipc',\n\t\tverboseInfo,\n\t});\n};\n", "import {checkIpcMaxBuffer} from '../io/max-buffer.js';\nimport {shouldLogIpc, logIpcOutput} from '../verbose/ipc.js';\nimport {getFdSpecificValue} from '../arguments/specific.js';\nimport {loopOnMessages} from './get-each.js';\n\n// Iterate through IPC messages sent by the subprocess\nexport const waitForIpcOutput = async ({\n\tsubprocess,\n\tbuffer: bufferArray,\n\tmaxBuffer: maxBufferArray,\n\tipc,\n\tipcOutput,\n\tverboseInfo,\n}) => {\n\tif (!ipc) {\n\t\treturn ipcOutput;\n\t}\n\n\tconst isVerbose = shouldLogIpc(verboseInfo);\n\tconst buffer = getFdSpecificValue(bufferArray, 'ipc');\n\tconst maxBuffer = getFdSpecificValue(maxBufferArray, 'ipc');\n\n\tfor await (const message of loopOnMessages({\n\t\tanyProcess: subprocess,\n\t\tchannel: subprocess.channel,\n\t\tisSubprocess: false,\n\t\tipc,\n\t\tshouldAwait: false,\n\t\treference: true,\n\t})) {\n\t\tif (buffer) {\n\t\t\tcheckIpcMaxBuffer(subprocess, ipcOutput, maxBuffer);\n\t\t\tipcOutput.push(message);\n\t\t}\n\n\t\tif (isVerbose) {\n\t\t\tlogIpcOutput(message, verboseInfo);\n\t\t}\n\t}\n\n\treturn ipcOutput;\n};\n\nexport const getBufferedIpcOutput = async (ipcOutputPromise, ipcOutput) => {\n\tawait Promise.allSettled([ipcOutputPromise]);\n\treturn ipcOutput;\n};\n", "import {createDeferred} from '../utils/deferred.js';\n\n// When using multiple `.readable()`/`.writable()`/`.duplex()`, `final` and `destroy` should wait for other streams\nexport const initializeConcurrentStreams = () => ({\n\treadableDestroy: new WeakMap(),\n\twritableFinal: new WeakMap(),\n\twritableDestroy: new WeakMap(),\n});\n\n// Each file descriptor + `waitName` has its own array of promises.\n// Each promise is a single `.readable()`/`.writable()`/`.duplex()` call.\nexport const addConcurrentStream = (concurrentStreams, stream, waitName) => {\n\tconst weakMap = concurrentStreams[waitName];\n\tif (!weakMap.has(stream)) {\n\t\tweakMap.set(stream, []);\n\t}\n\n\tconst promises = weakMap.get(stream);\n\tconst promise = createDeferred();\n\tpromises.push(promise);\n\tconst resolve = promise.resolve.bind(promise);\n\treturn {resolve, promises};\n};\n\n// Wait for other streams, but stop waiting when subprocess ends\nexport const waitForConcurrentStreams = async ({resolve, promises}, subprocess) => {\n\tresolve();\n\tconst [isSubprocessExit] = await Promise.race([\n\t\tPromise.allSettled([true, subprocess]),\n\t\tPromise.all([false, ...promises]),\n\t]);\n\treturn !isSubprocessExit;\n};\n", "import {Readable} from 'node:stream';\nimport {callbackify} from 'node:util';\nimport {BINARY_ENCODINGS} from '../arguments/encoding-option.js';\nimport {getFromStream} from '../arguments/fd-options.js';\nimport {iterateOnSubprocessStream, DEFAULT_OBJECT_HIGH_WATER_MARK} from '../io/iterate.js';\nimport {createDeferred} from '../utils/deferred.js';\nimport {addConcurrentStream, waitForConcurrentStreams} from './concurrent.js';\nimport {\n\tsafeWaitForSubprocessStdin,\n\twaitForSubprocessStdout,\n\twaitForSubprocess,\n\tdestroyOtherStream,\n} from './shared.js';\n\n// Create a `Readable` stream that forwards from `stdout` and awaits the subprocess\nexport const createReadable = ({subprocess, concurrentStreams, encoding}, {from, binary: binaryOption = true, preserveNewlines = true} = {}) => {\n\tconst binary = binaryOption || BINARY_ENCODINGS.has(encoding);\n\tconst {subprocessStdout, waitReadableDestroy} = getSubprocessStdout(subprocess, from, concurrentStreams);\n\tconst {readableEncoding, readableObjectMode, readableHighWaterMark} = getReadableOptions(subprocessStdout, binary);\n\tconst {read, onStdoutDataDone} = getReadableMethods({\n\t\tsubprocessStdout,\n\t\tsubprocess,\n\t\tbinary,\n\t\tencoding,\n\t\tpreserveNewlines,\n\t});\n\tconst readable = new Readable({\n\t\tread,\n\t\tdestroy: callbackify(onReadableDestroy.bind(undefined, {subprocessStdout, subprocess, waitReadableDestroy})),\n\t\thighWaterMark: readableHighWaterMark,\n\t\tobjectMode: readableObjectMode,\n\t\tencoding: readableEncoding,\n\t});\n\tonStdoutFinished({\n\t\tsubprocessStdout,\n\t\tonStdoutDataDone,\n\t\treadable,\n\t\tsubprocess,\n\t});\n\treturn readable;\n};\n\n// Retrieve `stdout` (or other stream depending on `from`)\nexport const getSubprocessStdout = (subprocess, from, concurrentStreams) => {\n\tconst subprocessStdout = getFromStream(subprocess, from);\n\tconst waitReadableDestroy = addConcurrentStream(concurrentStreams, subprocessStdout, 'readableDestroy');\n\treturn {subprocessStdout, waitReadableDestroy};\n};\n\nexport const getReadableOptions = ({readableEncoding, readableObjectMode, readableHighWaterMark}, binary) => binary\n\t? {readableEncoding, readableObjectMode, readableHighWaterMark}\n\t: {readableEncoding, readableObjectMode: true, readableHighWaterMark: DEFAULT_OBJECT_HIGH_WATER_MARK};\n\nexport const getReadableMethods = ({subprocessStdout, subprocess, binary, encoding, preserveNewlines}) => {\n\tconst onStdoutDataDone = createDeferred();\n\tconst onStdoutData = iterateOnSubprocessStream({\n\t\tsubprocessStdout,\n\t\tsubprocess,\n\t\tbinary,\n\t\tshouldEncode: !binary,\n\t\tencoding,\n\t\tpreserveNewlines,\n\t});\n\n\treturn {\n\t\tread() {\n\t\t\tonRead(this, onStdoutData, onStdoutDataDone);\n\t\t},\n\t\tonStdoutDataDone,\n\t};\n};\n\n// Forwards data from `stdout` to `readable`\nconst onRead = async (readable, onStdoutData, onStdoutDataDone) => {\n\ttry {\n\t\tconst {value, done} = await onStdoutData.next();\n\t\tif (done) {\n\t\t\tonStdoutDataDone.resolve();\n\t\t} else {\n\t\t\treadable.push(value);\n\t\t}\n\t} catch {}\n};\n\n// When `subprocess.stdout` ends/aborts/errors, do the same on `readable`.\n// Await the subprocess, for the same reason as above.\nexport const onStdoutFinished = async ({subprocessStdout, onStdoutDataDone, readable, subprocess, subprocessStdin}) => {\n\ttry {\n\t\tawait waitForSubprocessStdout(subprocessStdout);\n\t\tawait subprocess;\n\t\tawait safeWaitForSubprocessStdin(subprocessStdin);\n\t\tawait onStdoutDataDone;\n\n\t\tif (readable.readable) {\n\t\t\treadable.push(null);\n\t\t}\n\t} catch (error) {\n\t\tawait safeWaitForSubprocessStdin(subprocessStdin);\n\t\tdestroyOtherReadable(readable, error);\n\t}\n};\n\n// When `readable` aborts/errors, do the same on `subprocess.stdout`\nexport const onReadableDestroy = async ({subprocessStdout, subprocess, waitReadableDestroy}, error) => {\n\tif (await waitForConcurrentStreams(waitReadableDestroy, subprocess)) {\n\t\tdestroyOtherReadable(subprocessStdout, error);\n\t\tawait waitForSubprocess(subprocess, error);\n\t}\n};\n\nconst destroyOtherReadable = (stream, error) => {\n\tdestroyOtherStream(stream, stream.readable, error);\n};\n", "import {finished} from 'node:stream/promises';\nimport {isStreamAbort} from '../resolve/wait-stream.js';\n\nexport const safeWaitForSubprocessStdin = async subprocessStdin => {\n\tif (subprocessStdin === undefined) {\n\t\treturn;\n\t}\n\n\ttry {\n\t\tawait waitForSubprocessStdin(subprocessStdin);\n\t} catch {}\n};\n\nexport const safeWaitForSubprocessStdout = async subprocessStdout => {\n\tif (subprocessStdout === undefined) {\n\t\treturn;\n\t}\n\n\ttry {\n\t\tawait waitForSubprocessStdout(subprocessStdout);\n\t} catch {}\n};\n\nexport const waitForSubprocessStdin = async subprocessStdin => {\n\tawait finished(subprocessStdin, {cleanup: true, readable: false, writable: true});\n};\n\nexport const waitForSubprocessStdout = async subprocessStdout => {\n\tawait finished(subprocessStdout, {cleanup: true, readable: true, writable: false});\n};\n\n// When `readable` or `writable` aborts/errors, awaits the subprocess, for the reason mentioned above\nexport const waitForSubprocess = async (subprocess, error) => {\n\tawait subprocess;\n\tif (error) {\n\t\tthrow error;\n\t}\n};\n\nexport const destroyOtherStream = (stream, isOpen, error) => {\n\tif (error && !isStreamAbort(error)) {\n\t\tstream.destroy(error);\n\t} else if (isOpen) {\n\t\tstream.destroy();\n\t}\n};\n", "import {Writable} from 'node:stream';\nimport {callbackify} from 'node:util';\nimport {getToStream} from '../arguments/fd-options.js';\nimport {addConcurrentStream, waitForConcurrentStreams} from './concurrent.js';\nimport {\n\tsafeWaitForSubprocessStdout,\n\twaitForSubprocessStdin,\n\twaitForSubprocess,\n\tdestroyOtherStream,\n} from './shared.js';\n\n// Create a `Writable` stream that forwards to `stdin` and awaits the subprocess\nexport const createWritable = ({subprocess, concurrentStreams}, {to} = {}) => {\n\tconst {subprocessStdin, waitWritableFinal, waitWritableDestroy} = getSubprocessStdin(subprocess, to, concurrentStreams);\n\tconst writable = new Writable({\n\t\t...getWritableMethods(subprocessStdin, subprocess, waitWritableFinal),\n\t\tdestroy: callbackify(onWritableDestroy.bind(undefined, {\n\t\t\tsubprocessStdin,\n\t\t\tsubprocess,\n\t\t\twaitWritableFinal,\n\t\t\twaitWritableDestroy,\n\t\t})),\n\t\thighWaterMark: subprocessStdin.writableHighWaterMark,\n\t\tobjectMode: subprocessStdin.writableObjectMode,\n\t});\n\tonStdinFinished(subprocessStdin, writable);\n\treturn writable;\n};\n\n// Retrieve `stdin` (or other stream depending on `to`)\nexport const getSubprocessStdin = (subprocess, to, concurrentStreams) => {\n\tconst subprocessStdin = getToStream(subprocess, to);\n\tconst waitWritableFinal = addConcurrentStream(concurrentStreams, subprocessStdin, 'writableFinal');\n\tconst waitWritableDestroy = addConcurrentStream(concurrentStreams, subprocessStdin, 'writableDestroy');\n\treturn {subprocessStdin, waitWritableFinal, waitWritableDestroy};\n};\n\nexport const getWritableMethods = (subprocessStdin, subprocess, waitWritableFinal) => ({\n\twrite: onWrite.bind(undefined, subprocessStdin),\n\tfinal: callbackify(onWritableFinal.bind(undefined, subprocessStdin, subprocess, waitWritableFinal)),\n});\n\n// Forwards data from `writable` to `stdin`\nconst onWrite = (subprocessStdin, chunk, encoding, done) => {\n\tif (subprocessStdin.write(chunk, encoding)) {\n\t\tdone();\n\t} else {\n\t\tsubprocessStdin.once('drain', done);\n\t}\n};\n\n// Ensures that the writable `final` and readable `end` events awaits the subprocess.\n// Like this, any subprocess failure is propagated as a stream `error` event, instead of being lost.\n// The user does not need to `await` the subprocess anymore, but now needs to await the stream completion or error.\n// When multiple writables are targeting the same stream, they wait for each other, unless the subprocess ends first.\nconst onWritableFinal = async (subprocessStdin, subprocess, waitWritableFinal) => {\n\tif (await waitForConcurrentStreams(waitWritableFinal, subprocess)) {\n\t\tif (subprocessStdin.writable) {\n\t\t\tsubprocessStdin.end();\n\t\t}\n\n\t\tawait subprocess;\n\t}\n};\n\n// When `subprocess.stdin` ends/aborts/errors, do the same on `writable`.\nexport const onStdinFinished = async (subprocessStdin, writable, subprocessStdout) => {\n\ttry {\n\t\tawait waitForSubprocessStdin(subprocessStdin);\n\t\tif (writable.writable) {\n\t\t\twritable.end();\n\t\t}\n\t} catch (error) {\n\t\tawait safeWaitForSubprocessStdout(subprocessStdout);\n\t\tdestroyOtherWritable(writable, error);\n\t}\n};\n\n// When `writable` aborts/errors, do the same on `subprocess.stdin`\nexport const onWritableDestroy = async ({subprocessStdin, subprocess, waitWritableFinal, waitWritableDestroy}, error) => {\n\tawait waitForConcurrentStreams(waitWritableFinal, subprocess);\n\tif (await waitForConcurrentStreams(waitWritableDestroy, subprocess)) {\n\t\tdestroyOtherWritable(subprocessStdin, error);\n\t\tawait waitForSubprocess(subprocess, error);\n\t}\n};\n\nconst destroyOtherWritable = (stream, error) => {\n\tdestroyOtherStream(stream, stream.writable, error);\n};\n", "import {Duplex} from 'node:stream';\nimport {callbackify} from 'node:util';\nimport {BINARY_ENCODINGS} from '../arguments/encoding-option.js';\nimport {\n\tgetSubprocessStdout,\n\tgetReadableOptions,\n\tgetReadableMethods,\n\tonStdoutFinished,\n\tonReadableDestroy,\n} from './readable.js';\nimport {\n\tgetSubprocessStdin,\n\tgetWritableMethods,\n\tonStdinFinished,\n\tonWritableDestroy,\n} from './writable.js';\n\n// Create a `Duplex` stream combining both `subprocess.readable()` and `subprocess.writable()`\nexport const createDuplex = ({subprocess, concurrentStreams, encoding}, {from, to, binary: binaryOption = true, preserveNewlines = true} = {}) => {\n\tconst binary = binaryOption || BINARY_ENCODINGS.has(encoding);\n\tconst {subprocessStdout, waitReadableDestroy} = getSubprocessStdout(subprocess, from, concurrentStreams);\n\tconst {subprocessStdin, waitWritableFinal, waitWritableDestroy} = getSubprocessStdin(subprocess, to, concurrentStreams);\n\tconst {readableEncoding, readableObjectMode, readableHighWaterMark} = getReadableOptions(subprocessStdout, binary);\n\tconst {read, onStdoutDataDone} = getReadableMethods({\n\t\tsubprocessStdout,\n\t\tsubprocess,\n\t\tbinary,\n\t\tencoding,\n\t\tpreserveNewlines,\n\t});\n\tconst duplex = new Duplex({\n\t\tread,\n\t\t...getWritableMethods(subprocessStdin, subprocess, waitWritableFinal),\n\t\tdestroy: callbackify(onDuplexDestroy.bind(undefined, {\n\t\t\tsubprocessStdout,\n\t\t\tsubprocessStdin,\n\t\t\tsubprocess,\n\t\t\twaitReadableDestroy,\n\t\t\twaitWritableFinal,\n\t\t\twaitWritableDestroy,\n\t\t})),\n\t\treadableHighWaterMark,\n\t\twritableHighWaterMark: subprocessStdin.writableHighWaterMark,\n\t\treadableObjectMode,\n\t\twritableObjectMode: subprocessStdin.writableObjectMode,\n\t\tencoding: readableEncoding,\n\t});\n\tonStdoutFinished({\n\t\tsubprocessStdout,\n\t\tonStdoutDataDone,\n\t\treadable: duplex,\n\t\tsubprocess,\n\t\tsubprocessStdin,\n\t});\n\tonStdinFinished(subprocessStdin, duplex, subprocessStdout);\n\treturn duplex;\n};\n\nconst onDuplexDestroy = async ({subprocessStdout, subprocessStdin, subprocess, waitReadableDestroy, waitWritableFinal, waitWritableDestroy}, error) => {\n\tawait Promise.all([\n\t\tonReadableDestroy({subprocessStdout, subprocess, waitReadableDestroy}, error),\n\t\tonWritableDestroy({\n\t\t\tsubprocessStdin,\n\t\t\tsubprocess,\n\t\t\twaitWritableFinal,\n\t\t\twaitWritableDestroy,\n\t\t}, error),\n\t]);\n};\n", "import {BINARY_ENCODINGS} from '../arguments/encoding-option.js';\nimport {getFromStream} from '../arguments/fd-options.js';\nimport {iterateOnSubprocessStream} from '../io/iterate.js';\n\n// Convert the subprocess to an async iterable\nexport const createIterable = (subprocess, encoding, {\n\tfrom,\n\tbinary: binaryOption = false,\n\tpreserveNewlines = false,\n} = {}) => {\n\tconst binary = binaryOption || BINARY_ENCODINGS.has(encoding);\n\tconst subprocessStdout = getFromStream(subprocess, from);\n\tconst onStdoutData = iterateOnSubprocessStream({\n\t\tsubprocessStdout,\n\t\tsubprocess,\n\t\tbinary,\n\t\tshouldEncode: true,\n\t\tencoding,\n\t\tpreserveNewlines,\n\t});\n\treturn iterateOnStdoutData(onStdoutData, subprocessStdout, subprocess);\n};\n\nconst iterateOnStdoutData = async function * (onStdoutData, subprocessStdout, subprocess) {\n\ttry {\n\t\tyield * onStdoutData;\n\t} finally {\n\t\tif (subprocessStdout.readable) {\n\t\t\tsubprocessStdout.destroy();\n\t\t}\n\n\t\tawait subprocess;\n\t}\n};\n", "import {initializeConcurrentStreams} from './concurrent.js';\nimport {createReadable} from './readable.js';\nimport {createWritable} from './writable.js';\nimport {createDuplex} from './duplex.js';\nimport {createIterable} from './iterable.js';\n\n// Add methods to convert the subprocess to a stream or iterable\nexport const addConvertedStreams = (subprocess, {encoding}) => {\n\tconst concurrentStreams = initializeConcurrentStreams();\n\tsubprocess.readable = createReadable.bind(undefined, {subprocess, concurrentStreams, encoding});\n\tsubprocess.writable = createWritable.bind(undefined, {subprocess, concurrentStreams});\n\tsubprocess.duplex = createDuplex.bind(undefined, {subprocess, concurrentStreams, encoding});\n\tsubprocess.iterable = createIterable.bind(undefined, subprocess, encoding);\n\tsubprocess[Symbol.asyncIterator] = createIterable.bind(undefined, subprocess, encoding, {});\n};\n", "// The return value is a mixin of `subprocess` and `Promise`\nexport const mergePromise = (subprocess, promise) => {\n\tfor (const [property, descriptor] of descriptors) {\n\t\tconst value = descriptor.value.bind(promise);\n\t\tReflect.defineProperty(subprocess, property, {...descriptor, value});\n\t}\n};\n\n// eslint-disable-next-line unicorn/prefer-top-level-await\nconst nativePromisePrototype = (async () => {})().constructor.prototype;\n\nconst descriptors = ['then', 'catch', 'finally'].map(property => [\n\tproperty,\n\tReflect.getOwnPropertyDescriptor(nativePromisePrototype, property),\n]);\n", "import isPlainObject from 'is-plain-obj';\nimport {FD_SPECIFIC_OPTIONS} from '../arguments/specific.js';\n\n// Deep merge specific options like `env`. Shallow merge the other ones.\nexport const mergeOptions = (boundOptions, options) => {\n\tconst newOptions = Object.fromEntries(\n\t\tObject.entries(options).map(([optionName, optionValue]) => [\n\t\t\toptionName,\n\t\t\tmergeOption(optionName, boundOptions[optionName], optionValue),\n\t\t]),\n\t);\n\treturn {...boundOptions, ...newOptions};\n};\n\nconst mergeOption = (optionName, boundOptionValue, optionValue) => {\n\tif (DEEP_OPTIONS.has(optionName) && isPlainObject(boundOptionValue) && isPlainObject(optionValue)) {\n\t\treturn {...boundOptionValue, ...optionValue};\n\t}\n\n\treturn optionValue;\n};\n\nconst DEEP_OPTIONS = new Set(['env', ...FD_SPECIFIC_OPTIONS]);\n", "import isPlainObject from 'is-plain-obj';\nimport {normalizeParameters} from './parameters.js';\nimport {isTemplateString, parseTemplates} from './template.js';\nimport {execaCoreSync} from './main-sync.js';\nimport {execaCoreAsync} from './main-async.js';\nimport {mergeOptions} from './bind.js';\n\n// Wraps every exported methods to provide the following features:\n//  - template string syntax: execa`command argument`\n//  - options binding: boundExeca = execa(options)\n//  - optional argument/options: execa(file), execa(file, args), execa(file, options), execa(file, args, options)\n// `mapArguments()` and `setBoundExeca()` allows for method-specific logic.\nexport const createExeca = (mapArguments, boundOptions, deepOptions, setBoundExeca) => {\n\tconst createNested = (mapArguments, boundOptions, setBoundExeca) => createExeca(mapArguments, boundOptions, deepOptions, setBoundExeca);\n\tconst boundExeca = (...execaArguments) => callBoundExeca({\n\t\tmapArguments,\n\t\tdeepOptions,\n\t\tboundOptions,\n\t\tsetBoundExeca,\n\t\tcreateNested,\n\t}, ...execaArguments);\n\n\tif (setBoundExeca !== undefined) {\n\t\tsetBoundExeca(boundExeca, createNested, boundOptions);\n\t}\n\n\treturn boundExeca;\n};\n\nconst callBoundExeca = ({mapArguments, deepOptions = {}, boundOptions = {}, setBoundExeca, createNested}, firstArgument, ...nextArguments) => {\n\tif (isPlainObject(firstArgument)) {\n\t\treturn createNested(mapArguments, mergeOptions(boundOptions, firstArgument), setBoundExeca);\n\t}\n\n\tconst {file, commandArguments, options, isSync} = parseArguments({\n\t\tmapArguments,\n\t\tfirstArgument,\n\t\tnextArguments,\n\t\tdeepOptions,\n\t\tboundOptions,\n\t});\n\treturn isSync\n\t\t? execaCoreSync(file, commandArguments, options)\n\t\t: execaCoreAsync(file, commandArguments, options, createNested);\n};\n\nconst parseArguments = ({mapArguments, firstArgument, nextArguments, deepOptions, boundOptions}) => {\n\tconst callArguments = isTemplateString(firstArgument)\n\t\t? parseTemplates(firstArgument, nextArguments)\n\t\t: [firstArgument, ...nextArguments];\n\tconst [initialFile, initialArguments, initialOptions] = normalizeParameters(...callArguments);\n\tconst mergedOptions = mergeOptions(mergeOptions(deepOptions, boundOptions), initialOptions);\n\tconst {\n\t\tfile = initialFile,\n\t\tcommandArguments = initialArguments,\n\t\toptions = mergedOptions,\n\t\tisSync = false,\n\t} = mapArguments({file: initialFile, commandArguments: initialArguments, options: mergedOptions});\n\treturn {\n\t\tfile,\n\t\tcommandArguments,\n\t\toptions,\n\t\tisSync,\n\t};\n};\n", "// Main logic for `execaCommand()`\nexport const mapCommandAsync = ({file, commandArguments}) => parseCommand(file, commandArguments);\n\n// Main logic for `execaCommandSync()`\nexport const mapCommandSync = ({file, commandArguments}) => ({...parseCommand(file, commandArguments), isSync: true});\n\n// Convert `execaCommand(command)` into `execa(file, ...commandArguments)`\nconst parseCommand = (command, unusedArguments) => {\n\tif (unusedArguments.length > 0) {\n\t\tthrow new TypeError(`The command and its arguments must be passed as a single string: ${command} ${unusedArguments}.`);\n\t}\n\n\tconst [file, ...commandArguments] = parseCommandString(command);\n\treturn {file, commandArguments};\n};\n\n// Convert `command` string into an array of file or arguments to pass to $`${...fileOrCommandArguments}`\nexport const parseCommandString = command => {\n\tif (typeof command !== 'string') {\n\t\tthrow new TypeError(`The command must be a string: ${String(command)}.`);\n\t}\n\n\tconst trimmedCommand = command.trim();\n\tif (trimmedCommand === '') {\n\t\treturn [];\n\t}\n\n\tconst tokens = [];\n\tfor (const token of trimmedCommand.split(SPACES_REGEXP)) {\n\t\t// Allow spaces to be escaped by a backslash if not meant as a delimiter\n\t\tconst previousToken = tokens.at(-1);\n\t\tif (previousToken && previousToken.endsWith('\\\\')) {\n\t\t\t// Merge previous token with current one\n\t\t\ttokens[tokens.length - 1] = `${previousToken.slice(0, -1)} ${token}`;\n\t\t} else {\n\t\t\ttokens.push(token);\n\t\t}\n\t}\n\n\treturn tokens;\n};\n\nconst SPACES_REGEXP = / +/g;\n", "// Sets `$.sync` and `$.s`\nexport const setScriptSync = (boundExeca, createNested, boundOptions) => {\n\tboundExeca.sync = createNested(mapScriptSync, boundOptions);\n\tboundExeca.s = boundExeca.sync;\n};\n\n// Main logic for `$`\nexport const mapScriptAsync = ({options}) => getScriptOptions(options);\n\n// Main logic for `$.sync`\nconst mapScriptSync = ({options}) => ({...getScriptOptions(options), isSync: true});\n\n// `$` is like `execa` but with script-friendly options: `{stdin: 'inherit', preferLocal: true}`\nconst getScriptOptions = options => ({options: {...getScriptStdinOption(options), ...options}});\n\nconst getScriptStdinOption = ({input, inputFile, stdio}) => input === undefined && inputFile === undefined && stdio === undefined\n\t? {stdin: 'inherit'}\n\t: {};\n\n// When using $(...).pipe(...), most script-friendly options should apply to both commands.\n// However, some options (like `stdin: 'inherit'`) would create issues with piping, i.e. cannot be deep.\nexport const deepScriptOptions = {preferLocal: true};\n", "import {createExeca} from './lib/methods/create.js';\nimport {mapCommandAsync, mapCommandSync} from './lib/methods/command.js';\nimport {mapNode} from './lib/methods/node.js';\nimport {mapScriptAsync, setScriptSync, deepScriptOptions} from './lib/methods/script.js';\nimport {getIpcExport} from './lib/ipc/methods.js';\n\nexport {parseCommandString} from './lib/methods/command.js';\nexport {ExecaError, ExecaSyncError} from './lib/return/final-error.js';\n\nexport const execa = createExeca(() => ({}));\nexport const execaSync = createExeca(() => ({isSync: true}));\nexport const execaCommand = createExeca(mapCommandAsync);\nexport const execaCommandSync = createExeca(mapCommandSync);\nexport const execaNode = createExeca(mapNode);\nexport const $ = createExeca(mapScriptAsync, {}, deepScriptOptions, setScriptSync);\n\nconst {\n\tsendMessage,\n\tgetOneMessage,\n\tgetEachMessage,\n\tgetCancelSignal,\n} = getIpcExport();\nexport {\n\tsendMessage,\n\tgetOneMessage,\n\tgetEachMessage,\n\tgetCancelSignal,\n};\n", "import { getPreferenceValues } from \"@raycast/api\";\nimport { formatDuration, intervalToDuration } from \"date-fns\";\nimport validator from \"validator\";\nimport { Format, Video } from \"./types.js\";\nimport { existsSync } from \"fs\";\nimport { execSync } from \"child_process\";\n\nexport const isWindows = process.platform === \"win32\";\nexport const isMac = process.platform === \"darwin\";\n\nfunction sanitizeWindowsPath(path: string): string {\n  return path.replace(/\\r/g, \"\").replace(/\\n/g, \"\").trim();\n}\n\nexport const {\n  downloadPath,\n  homebrewPath,\n  autoLoadUrlFromClipboard,\n  autoLoadUrlFromSelectedText,\n  enableBrowserExtensionSupport,\n  forceIpv4,\n  ytdlPath: ytdlPathPreference,\n  ffmpegPath: ffmpegPathPreference,\n  ffprobePath: ffprobePathPreference,\n} = getPreferenceValues<ExtensionPreferences>();\n\nexport async function getWingetPath() {\n  try {\n    const wingetPath = sanitizeWindowsPath(execSync(\"where winget\").toString().trim());\n    return wingetPath.split(\"\\n\")[0];\n  } catch {\n    throw new Error(\"Winget not found. Please ensure winget is installed and available in your PATH.\");\n  }\n}\n\nexport const getytdlPath = () => {\n  const cleanedYtdlPath = isWindows ? sanitizeWindowsPath(ytdlPathPreference || \"\") : ytdlPathPreference;\n  if (cleanedYtdlPath && existsSync(cleanedYtdlPath)) return cleanedYtdlPath;\n\n  try {\n    const defaultPath = isMac\n      ? \"/opt/homebrew/bin/yt-dlp\"\n      : isWindows\n        ? sanitizeWindowsPath(execSync(\"where yt-dlp\").toString().trim().split(\"\\n\")[0])\n        : \"/usr/bin/yt-dlp\";\n\n    return defaultPath;\n  } catch {\n    return \"\";\n  }\n};\n\nexport const getffmpegPath = () => {\n  const cleanedFfmpegPath = isWindows ? sanitizeWindowsPath(ffmpegPathPreference || \"\") : ffmpegPathPreference;\n  if (cleanedFfmpegPath && existsSync(cleanedFfmpegPath)) return cleanedFfmpegPath;\n\n  try {\n    const defaultPath = isMac\n      ? \"/opt/homebrew/bin/ffmpeg\"\n      : isWindows\n        ? sanitizeWindowsPath(execSync(\"where ffmpeg\").toString().trim().split(\"\\n\")[0])\n        : \"/usr/bin/ffmpeg\";\n\n    return defaultPath;\n  } catch {\n    return \"\";\n  }\n};\n\nexport const getffprobePath = () => {\n  const cleanedFfprobePath = isWindows ? sanitizeWindowsPath(ffprobePathPreference || \"\") : ffprobePathPreference;\n\n  if (cleanedFfprobePath && existsSync(cleanedFfprobePath)) return cleanedFfprobePath;\n\n  try {\n    const defaultPath = isMac\n      ? \"/opt/homebrew/bin/ffprobe\"\n      : isWindows\n        ? sanitizeWindowsPath(execSync(\"where ffprobe\").toString().trim().split(\"\\n\")[0])\n        : \"/usr/bin/ffprobe\";\n    return defaultPath;\n  } catch {\n    return \"\";\n  }\n};\n\nexport type DownloadOptions = {\n  url: string;\n  format: string;\n  copyToClipboard: boolean;\n  startTime?: string;\n  endTime?: string;\n};\n\nexport function formatHHMM(seconds: number) {\n  const duration = intervalToDuration({ start: 0, end: seconds * 1000 });\n\n  return formatDuration(duration, {\n    format: duration.hours && duration.hours > 0 ? [\"hours\", \"minutes\", \"seconds\"] : [\"minutes\", \"seconds\"],\n    zero: true,\n    delimiter: \":\",\n    locale: {\n      formatDistance: (_token, count) => String(count).padStart(2, \"0\"),\n    },\n  });\n}\n\nexport function parseHHMM(input: string) {\n  const parts = input.split(\":\");\n  if (parts.length === 2) {\n    const [minutes, seconds] = parts;\n    return parseInt(minutes) * 60 + parseInt(seconds);\n  } else if (parts.length === 3) {\n    const [hours, minutes, seconds] = parts;\n    return parseInt(hours) * 60 * 60 + parseInt(minutes) * 60 + parseInt(seconds);\n  }\n  throw new Error(\"Invalid input\");\n}\n\nexport function isValidHHMM(input: string) {\n  try {\n    if (input) {\n      parseHHMM(input);\n    }\n    return true;\n  } catch {\n    return false;\n  }\n}\n\nexport function isValidUrl(url: string) {\n  return validator.isURL(url, { require_protocol: false });\n}\n\nexport function formatTbr(tbr: number | null) {\n  if (!tbr) return \"\";\n  return `${Math.floor(tbr)} kbps`;\n}\n\nexport function formatFilesize(filesize?: number, filesizeApprox?: number) {\n  const size = filesize || filesizeApprox;\n  if (!size) return \"\";\n\n  if (size < 1024) {\n    return `${size} B`;\n  }\n  if (size < 1024 ** 2) {\n    return `${(size / 1024).toFixed(2)} KiB`;\n  }\n  if (size < 1024 ** 3) {\n    return `${(size / 1024 ** 2).toFixed(2)} MiB`;\n  }\n  return `${(size / 1024 ** 3).toFixed(2)} GiB`;\n}\n\nconst hasCodec = ({ vcodec, acodec }: Format) => {\n  return {\n    hasVcodec: Boolean(vcodec) && vcodec !== \"none\",\n    hasAcodec: Boolean(acodec) && acodec !== \"none\",\n  };\n};\n\nexport const getFormats = (video?: Video) => {\n  const videoKey = \"Video\";\n  const audioOnlyKey = \"Audio Only\";\n  const videoWithAudio: Format[] = [];\n  const audioOnly: Format[] = [];\n\n  if (!video) return { [videoKey]: videoWithAudio, [audioOnlyKey]: audioOnly };\n\n  for (const format of video.formats.slice().reverse()) {\n    const { hasAcodec, hasVcodec } = hasCodec(format);\n    if (hasVcodec) videoWithAudio.push(format);\n    else if (hasAcodec && !hasVcodec) audioOnly.push(format);\n    else continue;\n  }\n\n  return { [videoKey]: videoWithAudio, [audioOnlyKey]: audioOnly };\n};\n\nexport const getFormatValue = (format: Format) => {\n  const { hasAcodec } = hasCodec(format);\n  const audio = hasAcodec ? \"\" : \"+bestaudio\";\n  const targetExt = `#${format.ext}`;\n  return format.format_id + audio + targetExt;\n};\n\nexport const getFormatTitle = (format: Format) =>\n  [format.resolution, format.ext, formatTbr(format.tbr), formatFilesize(format.filesize)]\n    .filter((x) => Boolean(x))\n    .join(\" | \");\n\nexport function sanitizeVideoTitle(name: string): string {\n  const maxLen = 200;\n  const invalidChars = isWindows ? [\"<\", \">\", \":\", '\"', \"/\", \"\\\\\", \"|\", \"?\", \"*\"] : [\":\"];\n\n  // Trim and remove invalid characters\n  let safe = name.trim();\n  for (const char of invalidChars) {\n    safe = safe.replaceAll(char, \"\");\n  }\n\n  // Remove control characters\n  safe = Array.from(safe)\n    .filter((char) => char.charCodeAt(0) >= 32)\n    .join(\"\");\n\n  // Remove trailing dots and spaces on Windows\n  if (isWindows) safe = safe.replace(/[. ]+$/, \"\");\n\n  // Replace double or more spaces with single space\n  safe = safe.replace(/\\s+/g, \" \");\n\n  // Hard truncate to max length\n  safe = safe.slice(0, maxLen);\n\n  // Truncate to max length at a sensible boundary if possible (like a punctuation mark)\n  const cutoffSymbols = /[.!?]/g;\n  const match = [...safe.matchAll(cutoffSymbols)]\n    .map((m) => m.index)\n    .filter((idx) => idx !== undefined && idx <= maxLen);\n\n  if (match.length > 0) {\n    safe = safe.slice(0, match[match.length - 1]);\n  }\n\n  return safe.trim() || \"untitled\";\n}\n", "import { useState } from \"react\";\nimport {\n  Action,\n  ActionPanel,\n  Clipboard,\n  Detail,\n  Icon,\n  Toast,\n  open,\n  openExtensionPreferences,\n  showToast,\n} from \"@raycast/api\";\nimport { ExecaError, execa } from \"execa\";\nimport { getWingetPath, homebrewPath, isMac, isWindows } from \"../utils.js\";\n\nconst macOSInstallGuide = (executable: string) => `\n# \uD83D\uDEA8 Error: \\`${executable}\\` is not installed\nThis extension depends on a command-line utility that is not detected on your system. You must install it continue.\n\nIf you have homebrew installed, simply press **\u23CE** to have this extension install it for you. Since \\`${executable}\\` is a heavy library, \n**it can take up to 2 minutes to install**.\n\n**Please do not close Raycast while the installation is in progress.**\n\nTo install homebrew, visit [this link](https://brew.sh)\n`;\n\nconst windowsInstallGuide = (executable: string) => `# \uD83D\uDEA8 Error: \\`${executable}\\` is not installed\n\nPlease press **\u23CE** to have this extension install it for you. Since these are heavy libraries, **it can take up to 2 minutes to install**. \n\n**Note:** \\`yt-dlp\\` bundles \\`ffmpeg\\` and \\`ffprobe\\` binaries.\n\n## Windows Manual Installation Guide\n\nYou can use the built-in Windows package manager, \\`winget\\`.\n\n\\`\\`\\`bash\nwinget install --id=yt-dlp.yt-dlp -e\n\\`\\`\\`\n`;\n\nexport default function Installer({ executable, onRefresh }: { executable: string; onRefresh: () => void }) {\n  return (\n    <Detail\n      actions={<AutoInstall onRefresh={onRefresh} />}\n      markdown={isMac ? macOSInstallGuide(executable) : windowsInstallGuide(executable)}\n    />\n  );\n}\n\nfunction AutoInstall({ onRefresh }: { onRefresh: () => void }) {\n  const [isLoading, setIsLoading] = useState(false);\n\n  return (\n    <ActionPanel>\n      {!isLoading && isMac && (\n        <Action\n          title=\"Install with Homebrew\"\n          icon={Icon.Download}\n          onAction={async () => {\n            if (isLoading) return;\n\n            setIsLoading(true);\n            const installationToast = new Toast({ style: Toast.Style.Animated, title: \"Installing...\" });\n            await installationToast.show();\n\n            try {\n              await execa(homebrewPath, [\"install\", \"yt-dlp\", \"ffmpeg\"]);\n              await installationToast.hide();\n              onRefresh();\n            } catch (error) {\n              installationToast.hide();\n              console.error(error);\n              const isCommonError = error instanceof Error;\n              const isExecaError = error instanceof ExecaError;\n              const isENOENT = isExecaError && error.code === \"ENOENT\";\n\n              await showToast({\n                style: Toast.Style.Failure,\n                title: isCommonError ? (isENOENT ? \"Cannot find Homebrew\" : error.name) : \"Installation Failed\",\n                message: isCommonError\n                  ? isENOENT\n                    ? \"Please make sure your `brew` PATH is configured correctly in extension preferences. If you don't have Homebrew installed, you can download it from https://brew.sh.\"\n                    : error.message\n                  : \"An unknown error occurred while trying to install\",\n                primaryAction: {\n                  title: isENOENT ? \"Open Extension Preferences\" : \"Copy to Clipboard\",\n                  onAction: () => {\n                    if (isENOENT) {\n                      openExtensionPreferences();\n                    } else {\n                      Clipboard.copy(\n                        isCommonError ? error.message : \"An unknown error occurred while trying to install\",\n                      );\n                    }\n                  },\n                },\n                secondaryAction: isENOENT\n                  ? {\n                      title: \"Open Installation Guide in Browser\",\n                      onAction: () => {\n                        open(\"https://brew.sh\");\n                      },\n                    }\n                  : undefined,\n              });\n            }\n            setIsLoading(false);\n          }}\n        />\n      )}\n      {!isLoading && isWindows && (\n        <Action\n          title=\"Install with Winget\"\n          icon={Icon.Download}\n          onAction={async () => {\n            const wingetPath = await getWingetPath();\n            if (isLoading) return;\n\n            setIsLoading(true);\n            const installationToast = new Toast({ style: Toast.Style.Animated, title: \"Installing...\" });\n            await installationToast.show();\n\n            try {\n              await execa(wingetPath, [\n                \"install\",\n                \"--accept-source-agreements\",\n                \"--accept-package-agreements\",\n                \"--id=yt-dlp.yt-dlp\",\n                \"-e\",\n              ]);\n              await installationToast.hide();\n              onRefresh();\n            } catch (error) {\n              installationToast.hide();\n              console.error(error);\n              const isCommonError = error instanceof Error;\n              const isExecaError = error instanceof ExecaError;\n              const isENOENT = isExecaError && error.code === \"ENOENT\";\n\n              if (isExecaError && error.exitCode === 2316632107) {\n                await showToast({\n                  style: Toast.Style.Success,\n                  title: \"yt-dlp is already installed\",\n                  message: \"Please configure the path in extension preferences\",\n                });\n              } else {\n                await showToast({\n                  style: Toast.Style.Failure,\n                  title: isCommonError ? (isENOENT ? \"Cannot find Winget\" : error.name) : \"Installation Failed\",\n                  message: isCommonError\n                    ? isENOENT\n                      ? \"Please make sure your `winget` PATH is configured correctly in extension preferences. If you don't have Winget installed, you can download it from https://winget.run.\"\n                      : error.message\n                    : \"An unknown error occurred while trying to install\",\n                  primaryAction: {\n                    title: isENOENT ? \"Open Extension Preferences\" : \"Copy to Clipboard\",\n                    onAction: () => {\n                      if (isENOENT) {\n                        openExtensionPreferences();\n                      } else {\n                        Clipboard.copy(\n                          isCommonError ? error.message : \"An unknown error occurred while trying to install\",\n                        );\n                      }\n                    },\n                  },\n                  secondaryAction: isENOENT\n                    ? {\n                        title: \"Open Installation Guide in Browser\",\n                        onAction: () => {\n                          open(\"https://winget.run\");\n                        },\n                      }\n                    : undefined,\n                });\n              }\n            }\n            setIsLoading(false);\n          }}\n        />\n      )}\n    </ActionPanel>\n  );\n}\n", "import { useEffect, useState } from \"react\";\nimport { Action, ActionPanel, Clipboard, Detail, Icon, Toast, getPreferenceValues, useNavigation } from \"@raycast/api\";\nimport { execa } from \"execa\";\nimport { getWingetPath, isMac, isWindows } from \"../utils.js\";\n\nconst { homebrewPath } = getPreferenceValues<ExtensionPreferences>();\n\nexport default function Updater() {\n  const { pop } = useNavigation();\n  const [versions, setVersions] = useState<Record<string, string>>(\n    isMac ? { \"yt-dlp\": \"\", ffmpeg: \"\" } : { \"yt-dlp\": \"\" },\n  );\n  const [outdated, setOutdated] = useState<Record<string, string>>(\n    isMac ? { \"yt-dlp\": \"\", ffmpeg: \"\" } : { \"yt-dlp\": \"\" },\n  );\n  const [upgradingMessage, setUpgradingMessage] = useState<string>(\"\");\n\n  const allUpToDate = Object.values(outdated).every((version) => !version);\n\n  useEffect(() => {\n    if (upgradingMessage) return;\n    const toast = new Toast({ style: Toast.Style.Animated, title: \"Checking versions...\" });\n    toast.show();\n\n    Promise.all([getVersions(), getOutdated()])\n      .then(([versions, outdated]) => {\n        toast.hide();\n        setVersions(versions);\n        setOutdated(outdated);\n      })\n      .catch((error) => {\n        const errorMessage = error instanceof Error ? error.message : \"An unknown error occurred\";\n        toast.style = Toast.Style.Failure;\n        toast.title = \"Failed to check versions\";\n        toast.message = errorMessage;\n        if (error instanceof Error) {\n          toast.primaryAction = {\n            title: \"Copy to Clipboard\",\n            onAction: () => {\n              Clipboard.copy(errorMessage);\n            },\n          };\n        }\n      });\n  }, [upgradingMessage]);\n\n  return (\n    <Detail\n      markdown={[\n        \"## Versions\",\n        Object.entries(versions)\n          .map(\n            ([cli, version]) =>\n              `${cli}: ${version === \"\" ? \"Checking...\" : version} ${outdated[cli] ? `(outdated: ${outdated[cli]})` : \"(up to date)\"}`,\n          )\n          .join(\"\\n\\n\"),\n        upgradingMessage,\n      ]\n        .filter((x) => Boolean(x))\n        .join(\"\\n\\n\")}\n      actions={\n        <ActionPanel>\n          {allUpToDate ? undefined : (\n            <Action\n              icon={Icon.Download}\n              title=\"Upgrade\"\n              onAction={async () => {\n                const toast = new Toast({ style: Toast.Style.Animated, title: \"Upgrading...\" });\n                toast.show();\n                try {\n                  setUpgradingMessage(\"Upgrading... Please do not close Raycast while the upgrade is in progress.\");\n                  await upgrade();\n                  toast.hide();\n                } catch (error) {\n                  toast.style = Toast.Style.Failure;\n                  toast.title = \"Failed to upgrade\";\n                  toast.message = error instanceof Error ? error.message : \"An unknown error occurred\";\n                  if (error instanceof Error) {\n                    toast.primaryAction = {\n                      title: \"Copy to Clipboard\",\n                      onAction: () => {\n                        Clipboard.copy(error.message);\n                      },\n                    };\n                  }\n                } finally {\n                  setUpgradingMessage(\"\");\n                }\n              }}\n            />\n          )}\n          <Action icon={Icon.ArrowLeft} title=\"Back\" onAction={pop} />\n        </ActionPanel>\n      }\n    />\n  );\n}\n\nasync function getVersions() {\n  if (isMac) {\n    const { stdout: infoOutput } = await execa(homebrewPath, [\"info\", \"--json=v2\", \"yt-dlp\", \"ffmpeg\"]);\n    const info = JSON.parse(infoOutput) as { formulae: { name: string; versions: { stable: string } }[] };\n    const versions = Object.fromEntries(info.formulae.map(({ name, versions }) => [name, versions.stable]));\n    return versions;\n  } else if (isWindows) {\n    const wingetPath = await getWingetPath();\n\n    let ytdlpVersion = \"\";\n\n    try {\n      const { stdout: ytdlpOutput } = await execa(wingetPath, [\"list\", \"--id\", \"yt-dlp.yt-dlp\", \"--exact\"]);\n      ytdlpVersion = parseWingetVersion(ytdlpOutput);\n    } catch {\n      // Ignore errors\n    }\n\n    return {\n      \"yt-dlp\": ytdlpVersion,\n    };\n  }\n  return { \"yt-dlp\": \"\" };\n}\n\nfunction parseWingetVersion(output: string): string {\n  const lines = output.split(\"\\n\");\n  for (const line of lines) {\n    if (line.includes(\"yt-dlp\")) {\n      const versionMatch = line.match(/(\\d+\\.)+\\d+/);\n      if (versionMatch) {\n        return versionMatch[0];\n      }\n    }\n  }\n  return \"\";\n}\n\nasync function getOutdated() {\n  if (isMac) {\n    const { stdout: outdatedOutput } = await execa(homebrewPath, [\"outdated\", \"--json=v2\", \"yt-dlp\", \"ffmpeg\"]);\n    const outdated = JSON.parse(outdatedOutput) as { formulae: { name: string; current_version: string }[] };\n    const versions = Object.fromEntries(outdated.formulae.map(({ name, current_version }) => [name, current_version]));\n    return versions;\n  } else if (isWindows) {\n    const wingetPath = await getWingetPath();\n\n    try {\n      const { stdout: upgradeOutput } = await execa(wingetPath, [\"upgrade\"]);\n      const lines = upgradeOutput.split(\"\\n\");\n\n      const outdatedVersions: Record<string, string> = {};\n\n      for (const line of lines) {\n        if (line.includes(\"yt-dlp.yt-dlp\")) {\n          const versionMatch = line.match(/(\\d+\\.)+\\d+/g);\n          if (versionMatch && versionMatch.length >= 2) {\n            outdatedVersions[\"yt-dlp\"] = versionMatch[1];\n          }\n        }\n      }\n\n      return outdatedVersions;\n    } catch {\n      return {};\n    }\n  }\n  return {};\n}\n\nasync function upgrade() {\n  if (isMac) {\n    return execa(homebrewPath, [\"upgrade\", \"yt-dlp\", \"ffmpeg\"]);\n  } else if (isWindows) {\n    const wingetPath = await getWingetPath();\n    await execa(wingetPath, [\n      \"upgrade\",\n      \"--id\",\n      \"yt-dlp.yt-dlp\",\n      \"--accept-source-agreements\",\n      \"--accept-package-agreements\",\n    ]);\n  }\n}\n\nexport async function checkUpToDate() {\n  const versions = await getOutdated();\n  const allUpToDate = Object.values(versions).every((version) => !version);\n  return allUpToDate;\n}\n"],
  "mappings": "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AAI,CAAE,QAAS,CAAE,CAAG,CAEpF,IAAIC,GAAqB,IAAI,IAAI,CAAC,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAA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AO,EACP,OAAO,OACP,YAAY,kCACZ,SAAS,MACT,EACA,CACA,KAAK,UACL,OAAO,EACP,OAAO,YACP,YAAY,qBACZ,SAAS,QACT,OAAO,EACP,EACA,CACA,KAAK,UACL,OAAO,GACP,OAAO,YACP,YAAY,8BACZ,SAAS,OACT,EACA,CACA,KAAK,UACL,OAAO,GACP,OAAO,OACP,YAAY,qBACZ,SAAS,MACT,EACA,CACA,KAAK,UACL,OAAO,GACP,OAAO,YACP,YAAY,8BACZ,SAAS,OACT,EACA,CACA,KAAK,UACL,OAAO,GACP,OAAO,YACP,YAAY,wBACZ,SAAS,OACT,EACA,CACA,KAAK,UACL,OAAO,GACP,OAAO,YACP,YAAY,mBACZ,SAAS,OACT,EACA,CACA,KAAK,UACL,OAAO,GACP,OAAO,YACP,YAAY,cACZ,SAAS,MACT,EACA,CACA,KAAK,YACL,OAAO,GACP,OAAO,YACP,YAAY,+BACZ,SAAS,OACT,EACA,CACA,KAAK,UACL,OAAO,GACP,OAAO,SACP,YAAY,+CACZ,SAAS,OACT,EACA,CACA,KAAK,SACL,OAAO,GACP,OAAO,SACP,YAAY,+CACZ,SAAS,OACT,EACA,CACA,KAAK,UACL,OAAO,GACP,OAAO,UACP,YAAY,WACZ,SAAS,QACT,OAAO,EACP,EACA,CACA,KAAK,UACL,OAAO,GACP,OAAO,QACP,YAAY,SACZ,SAAS,QACT,OAAO,EACP,EACA,CACA,KAAK,UACL,OAAO,GACP,OAAO,QACP,YAAY,mCACZ,SAAS,OACT,EACA,CACA,KAAK,UACL,OAAO,GACP,OAAO,QACP,YAAY,gDACZ,SAAS,OACT,EACA,CACA,KAAK,WACL,OAAO,GACP,OAAO,YACP,YAAY,oCACZ,SAAS,OACT,EACA,CACA,KAAK,UACL,OAAO,GACP,OAAO,QACP,YAAY,qDACZ,SAAS,OACT,EACA,CACA,KAAK,SACL,OAAO,GACP,OAAO,SACP,YAAY,mCACZ,SAAS,KACT,EACA,CACA,KAAK,UACL,OAAO,GACP,OAAO,OACP,YAAY,oBACZ,SAAS,KACT,EACA,CACA,KAAK,UACL,OAAO,GACP,OAAO,O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",
  "names": ["require_windows", "__commonJSMin", "exports", "module", "isexe", "sync", "fs", "checkPathExt", "path", "options", "pathext", "i", "p", "checkStat", "stat", "cb", "er", "require_mode", "__commonJSMin", "exports", "module", "isexe", "sync", "fs", "path", "options", "cb", "er", "stat", "checkStat", "checkMode", "mod", "uid", "gid", "myUid", "myGid", "u", "g", "o", "ug", "ret", "require_isexe", "__commonJSMin", "exports", "module", "fs", "core", "isexe", "sync", "path", "options", "cb", "resolve", "reject", "er", "is", "require_which", "__commonJSMin", "exports", "module", "isWindows", "path", "COLON", "isexe", "getNotFoundError", "cmd", "getPathInfo", "opt", "colon", "pathEnv", "pathExtExe", "pathExt", "which", "cb", "found", "step", "i", "resolve", "reject", "ppRaw", "pathPart", "pCmd", "p", "subStep", "ii", "ext", "er", "is", "res", "whichSync", "j", "cur", "require_path_key", "__commonJSMin", "exports", "module", "pathKey", "options", "environment", "key", "require_resolveCommand", "__commonJSMin", "exports", "module", "path", "which", "getPathKey", "resolveCommandAttempt", "parsed", "withoutPathExt", "env", "cwd", "hasCustomCwd", "shouldSwitchCwd", "resolved", "resolveCommand", "require_escape", "__commonJSMin", "exports", "module", "metaCharsRegExp", "escapeCommand", "arg", "escapeArgument", "doubleEscapeMetaChars", "require_shebang_regex", "__commonJSMin", "exports", "module", "require_shebang_command", "__commonJSMin", "exports", "module", "shebangRegex", "string", "match", "path", "argument", "binary", "require_readShebang", "__commonJSMin", "exports", "module", "fs", "shebangCommand", "readShebang", "command", "buffer", "fd", "require_parse", "__commonJSMin", "exports", "module", "path", "resolveCommand", "escape", "readShebang", "isWin", "isExecutableRegExp", "isCmdShimRegExp", "detectShebang", "parsed", "shebang", "parseNonShell", "commandFile", "needsShell", "needsDoubleEscapeMetaChars", "arg", "shellCommand", "parse", "command", "args", "options", "require_enoent", "__commonJSMin", "exports", "module", "isWin", "notFoundError", "original", "syscall", "hookChildProcess", "cp", "parsed", "originalEmit", "name", "arg1", "err", "verifyENOENT", "status", "verifyENOENTSync", "require_cross_spawn", "__commonJSMin", "exports", "module", "cp", "parse", "enoent", "spawn", "command", "args", "options", "parsed", "spawned", "spawnSync", "result", "require_assertString", "__commonJSMin", "exports", "module", "assertString", "input", "require_toDate", "__commonJSMin", "exports", "module", "toDate", "_assertString", "_interopRequireDefault", "date", "require_nullUndefinedCheck", "__commonJSMin", "exports", "module", "isNullOrUndefined", "value", "require_alpha", "__commonJSMin", "exports", "alpha", "alphanumeric", "decimal", "englishLocales", "i", "locale", "arabicLocales", "_i", "_locale", "farsiLocales", "_i2", "_locale2", "bengaliLocales", "_i3", "_locale3", "dotDecimal", "commaDecimal", "_i4", "_i5", "require_isFloat", "__commonJSMin", "exports", "isFloat", "_assertString", "_interopRequireDefault", "_nullUndefinedCheck", "_alpha", "str", "options", "float", "value", "locales", "require_toFloat", "__commonJSMin", "exports", "module", "toFloat", "_isFloat", "_interopRequireDefault", "str", "require_toInt", "__commonJSMin", "exports", "module", "toInt", "_assertString", "_interopRequireDefault", "str", "radix", "require_toBoolean", "__commonJSMin", "exports", "module", "toBoolean", "_assertString", "_interopRequireDefault", "str", "strict", "require_equals", "__commonJSMin", "exports", "module", "equals", "_assertString", "_interopRequireDefault", "str", "comparison", "require_toString", "__commonJSMin", "exports", "module", "toString", "_typeof", "o", "input", "require_merge", "__commonJSMin", "exports", "module", "merge", "obj", "defaults", "key", "require_contains", "__commonJSMin", "exports", "module", "contains", "_assertString", "_interopRequireDefault", "_toString", "_merge", "defaultContainsOptions", "str", "elem", "options", "require_matches", "__commonJSMin", "exports", "module", "matches", "_assertString", "_interopRequireDefault", "str", "pattern", "modifiers", "require_checkHost", "__commonJSMin", "exports", "module", "checkHost", "isRegExp", "obj", "host", "matches", "i", "match", "require_isByteLength", "__commonJSMin", "exports", "module", "isByteLength", "_assertString", "_interopRequireDefault", "_typeof", "o", "str", "options", "min", "max", "len", "require_isFQDN", "__commonJSMin", "exports", "module", "isFQDN", "_assertString", "_interopRequireDefault", "_merge", "default_fqdn_options", "str", "options", "parts", "tld", "part", "require_isIP", "__commonJSMin", "exports", "module", "isIP", "_assertString", "_interopRequireDefault", "_typeof", "o", "IPv4SegmentFormat", "IPv4AddressFormat", "IPv4AddressRegExp", "IPv6SegmentFormat", "IPv6AddressRegExp", "ipAddress", "options", "version", "require_isEmail", "__commonJSMin", "exports", "module", "isEmail", "_assertString", "_interopRequireDefault", "_checkHost", "_isByteLength", "_isFQDN", "_isIP", "_merge", "default_email_options", "splitNameAddress", "emailUserPart", "gmailUserPart", "quotedEmailUser", "emailUserUtf8Part", "quotedEmailUserUtf8", "defaultMaxEmailLength", "validateDisplayName", "display_name", "display_name_without_quotes", "contains_illegal", "all_start_with_back_slash", "str", "options", "display_email", "parts", "domain", "lower_domain", "user", "username", "_user_parts", "i", "noBracketdomain", "pattern", "user_parts", "_i", "require_includesString", "__commonJSMin", "exports", "module", "includes", "str", "val", "_default", "require_isURL", "__commonJSMin", "exports", "module", "isURL", "_assertString", "_interopRequireDefault", "_checkHost", "_includesString", "_isFQDN", "_isIP", "_merge", "_slicedToArray", "r", "e", "_arrayWithHoles", "_iterableToArrayLimit", "_unsupportedIterableToArray", "_nonIterableRest", "a", "_arrayLikeToArray", "t", "l", "n", "i", "u", "f", "o", "default_url_options", "wrapped_ipv6", "url", "options", "protocol", "auth", "host", "hostname", "port", "port_str", "split", "ipv6", "protocol_match", "had_explicit_protocol", "cleanUpProtocol", "potential_protocol", "after_colon", "starts_with_slashes", "first_slash_position", "before_slash", "at_position", "before_at", "valid_auth_regex", "is_valid_auth", "looks_like_port", "_auth$split", "_auth$split2", "user", "password", "ipv6_match", "require_isMACAddress", "__commonJSMin", "exports", "module", "isMACAddress", "_assertString", "_interopRequireDefault", "macAddress48", "macAddress48NoSeparators", "macAddress48WithDots", "macAddress64", "macAddress64NoSeparators", "macAddress64WithDots", "str", "options", "require_isIPRange", "__commonJSMin", "exports", "module", "isIPRange", "_assertString", "_interopRequireDefault", "_isIP", "subnetMaybe", "v4Subnet", "v6Subnet", "str", "version", "parts", "isValidIP", "expectedSubnet", "require_isDate", "__commonJSMin", "exports", "module", "isDate", "_merge", "_interopRequireDefault", "_slicedToArray", "r", "e", "_arrayWithHoles", "_iterableToArrayLimit", "_unsupportedIterableToArray", "_nonIterableRest", "l", "t", "n", "i", "u", "a", "f", "o", "_createForOfIteratorHelper", "_n", "F", "_arrayLikeToArray", "default_date_options", "isValidFormat", "format", "zip", "date", "zippedArr", "len", "input", "options", "formatDelimiter", "delimiter", "dateDelimiter", "dateAndFormat", "dateObj", "_iterator", "_step", "_step$value", "dateWord", "formatWord", "err", "fullYear", "parsedYear", "currentYearLastTwoDigits", "month", "day", "require_isTime", "__commonJSMin", "exports", "module", "isTime", "_merge", "_interopRequireDefault", "default_time_options", "formats", "input", "options", "require_includesArray", "__commonJSMin", "exports", "module", "includes", "arr", "val", "arrVal", "_default", "require_isBoolean", "__commonJSMin", "exports", "module", "isBoolean", "_assertString", "_interopRequireDefault", "_includesArray", "defaultOptions", "strictBooleans", "looseBooleans", "str", "options", "require_isLocale", "__commonJSMin", "exports", "module", "isLocale", "_assertString", "_interopRequireDefault", "extlang", "language", "script", "region", "variant", "singleton", "extension", "privateuse", "irregular", "regular", "grandfathered", "delimiter", "langtag", "languageTagRegex", "str", "require_isAbaRouting", "__commonJSMin", "exports", "module", "isAbaRouting", "_assertString", "_interopRequireDefault", "isRoutingReg", "str", "checkSumVal", "i", "require_isAlpha", "__commonJSMin", "exports", "isAlpha", "_assertString", "_interopRequireDefault", "_alpha", "_str", "locale", "options", "str", "ignore", "locales", "require_isAlphanumeric", "__commonJSMin", "exports", "isAlphanumeric", "_assertString", "_interopRequireDefault", "_alpha", "_str", "locale", "options", "str", "ignore", "locales", "require_isNumeric", "__commonJSMin", "exports", "module", "isNumeric", "_assertString", "_interopRequireDefault", "_alpha", "numericNoSymbols", "str", "options", "require_isPassportNumber", "__commonJSMin", "exports", "isPassportNumber", "_assertString", "_interopRequireDefault", "passportRegexByCountryCode", "locales", "str", "countryCode", "normalizedStr", "require_isInt", "__commonJSMin", "exports", "module", "isInt", "_assertString", "_interopRequireDefault", "_nullUndefinedCheck", "int", "intLeadingZeroes", "str", "options", "regex", "minCheckPassed", "maxCheckPassed", "ltCheckPassed", "gtCheckPassed", "require_isPort", "__commonJSMin", "exports", "module", "isPort", "_isInt", "_interopRequireDefault", "str", "require_isLowercase", "__commonJSMin", "exports", "module", "isLowercase", "_assertString", "_interopRequireDefault", "str", "require_isUppercase", "__commonJSMin", "exports", "module", "isUppercase", "_assertString", "_interopRequireDefault", "str", "require_isIMEI", "__commonJSMin", "exports", "module", "isIMEI", "_assertString", "_interopRequireDefault", "imeiRegexWithoutHyphens", "imeiRegexWithHyphens", "str", "options", "imeiRegex", "sum", "mul", "l", "digit", "tp", "chk", "require_isAscii", "__commonJSMin", "exports", "module", "isAscii", "_assertString", "_interopRequireDefault", "ascii", "str", "require_isFullWidth", "__commonJSMin", "exports", "isFullWidth", "_assertString", "_interopRequireDefault", "fullWidth", "str", "require_isHalfWidth", "__commonJSMin", "exports", "isHalfWidth", "_assertString", "_interopRequireDefault", "halfWidth", "str", "require_isVariableWidth", "__commonJSMin", "exports", "module", "isVariableWidth", "_assertString", "_interopRequireDefault", "_isFullWidth", "_isHalfWidth", "str", "require_isMultibyte", "__commonJSMin", "exports", "module", "isMultibyte", "_assertString", "_interopRequireDefault", "multibyte", "str", "require_multilineRegex", "__commonJSMin", "exports", "module", "multilineRegexp", "parts", "flags", "regexpAsStringLiteral", "require_isSemVer", "__commonJSMin", "exports", "module", "isSemVer", "_assertString", "_interopRequireDefault", "_multilineRegex", "semanticVersioningRegex", "str", "require_isSurrogatePair", "__commonJSMin", "exports", "module", "isSurrogatePair", "_assertString", "_interopRequireDefault", "surrogatePair", "str", "require_isDecimal", "__commonJSMin", "exports", "module", "isDecimal", "_merge", "_interopRequireDefault", "_assertString", "_includesArray", "_alpha", "decimalRegExp", "options", "regExp", "default_decimal_options", "blacklist", "str", "require_isHexadecimal", "__commonJSMin", "exports", "module", "isHexadecimal", "_assertString", "_interopRequireDefault", "hexadecimal", "str", "require_isOctal", "__commonJSMin", "exports", "module", "isOctal", "_assertString", "_interopRequireDefault", "octal", "str", "require_isDivisibleBy", "__commonJSMin", "exports", "module", "isDivisibleBy", "_assertString", "_interopRequireDefault", "_toFloat", "str", "num", "require_isHexColor", "__commonJSMin", "exports", "module", "isHexColor", "_assertString", "_interopRequireDefault", "hexcolor", "str", "require_isRgbColor", "__commonJSMin", "exports", "module", "isRgbColor", "_assertString", "_interopRequireDefault", "_typeof", "o", "rgbColor", "rgbaColor", "rgbColorPercent", "rgbaColorPercent", "startsWithRgb", "str", "options", "allowSpaces", "includePercentValues", "require_isHSL", "__commonJSMin", "exports", "module", "isHSL", "_assertString", "_interopRequireDefault", "hslComma", "hslSpace", "str", "strippedStr", "require_isISRC", "__commonJSMin", "exports", "module", "isISRC", "_assertString", "_interopRequireDefault", "isrc", "str", "require_isIBAN", "__commonJSMin", "exports", "isIBAN", "_assertString", "_interopRequireDefault", "_includesArray", "ibanRegexThroughCountryCode", "hasOnlyValidCountryCodes", "countryCodeArray", "countryCodeArrayFilteredWithObjectIbanCode", "countryCode", "hasValidIbanFormat", "str", "options", "strippedStr", "isoCountryCode", "isoCountryCodeInIbanRegexCodeObject", "isoCountryCodeInWhiteList", "isoCountryCodeInBlackList", "hasValidIbanChecksum", "rearranged", "alphaCapsReplacedWithDigits", "char", "remainder", "acc", "value", "locales", "require_isISO31661Alpha2", "__commonJSMin", "exports", "isISO31661Alpha2", "_assertString", "_interopRequireDefault", "validISO31661Alpha2CountriesCodes", "str", "CountryCodes", "require_isBIC", "__commonJSMin", "exports", "module", "isBIC", "_assertString", "_interopRequireDefault", "_isISO31661Alpha", "isBICReg", "str", "countryCode", "require_isMD5", "__commonJSMin", "exports", "module", "isMD5", "_assertString", "_interopRequireDefault", "md5", "str", "require_isHash", "__commonJSMin", "exports", "module", "isHash", "_assertString", "_interopRequireDefault", "lengths", "str", "algorithm", "hash", "require_isBase64", "__commonJSMin", "exports", "module", "isBase64", "_assertString", "_interopRequireDefault", "_merge", "base64WithPadding", "base64WithoutPadding", "base64UrlWithPadding", "base64UrlWithoutPadding", "str", "options", "_options", "regex", "require_isJWT", "__commonJSMin", "exports", "module", "isJWT", "_assertString", "_interopRequireDefault", "_isBase", "str", "dotSplit", "len", "acc", "currElem", "require_isJSON", "__commonJSMin", "exports", "module", "isJSON", "_assertString", "_interopRequireDefault", "_includesArray", "_merge", "_typeof", "o", "default_json_options", "str", "options", "primitives", "obj", "require_isEmpty", "__commonJSMin", "exports", "module", "isEmpty", "_assertString", "_interopRequireDefault", "_merge", "default_is_empty_options", "str", "options", "require_isLength", "__commonJSMin", "exports", "module", "isLength", "_assertString", "_interopRequireDefault", "_typeof", "o", "str", "options", "min", "max", "presentationSequences", "surrogatePairs", "len", "isInsideRange", "discreteLen", "require_isULID", "__commonJSMin", "exports", "module", "isULID", "_assertString", "_interopRequireDefault", "str", "require_isUUID", "__commonJSMin", "exports", "module", "isUUID", "_assertString", "_interopRequireDefault", "uuid", "str", "version", "require_isMongoId", "__commonJSMin", "exports", "module", "isMongoId", "_assertString", "_interopRequireDefault", "_isHexadecimal", "str", "require_isAfter", "__commonJSMin", "exports", "module", "isAfter", "_toDate", "_interopRequireDefault", "_typeof", "o", "date", "options", "comparisonDate", "comparison", "original", "require_isBefore", "__commonJSMin", "exports", "module", "isBefore", "_toDate", "_interopRequireDefault", "_typeof", "o", "date", "options", "comparisonDate", "comparison", "original", "require_isIn", "__commonJSMin", "exports", "module", "isIn", "_assertString", "_interopRequireDefault", "_toString", "_typeof", "o", "str", "options", "i", "array", "require_isLuhnNumber", "__commonJSMin", "exports", "module", "isLuhnNumber", "_assertString", "_interopRequireDefault", "str", "sanitized", "sum", "digit", "tmpNum", "shouldDouble", "require_isCreditCard", "__commonJSMin", "exports", "module", "isCreditCard", "_assertString", "_interopRequireDefault", "_isLuhnNumber", "cards", "allCards", "tmpCardsArray", "cardProvider", "card", "options", "provider", "sanitized", "require_isIdentityCard", "__commonJSMin", "exports", "module", "isIdentityCard", "_assertString", "_interopRequireDefault", "_includesArray", "_isInt", "validators", "str", "weightOfDigits", "digits", "sum", "acc", "digit", "index", "modulo", "lastDigit", "DNI", "charsValue", "controlDigits", "sanitized", "number", "char", "checkDigits", "idAsNumber", "remainder", "checkDigit", "d", "p", "c", "invertedArray", "val", "i", "lastNumber", "f", "k1", "k2", "old_nic", "new_nic", "id", "incNum", "NIN", "provincesAndCities", "powers", "parityBit", "checkAddressCode", "addressCode", "checkBirthDayCode", "birDayCode", "yyyy", "mm", "dd", "xdata", "getParityBit", "idCardNo", "id17", "power", "mod", "checkParityBit", "check15IdCardNo", "check", "check18IdCardNo", "checkIdCardNo", "regexHKID", "regexIsDigit", "checkSumVal", "convertedChar", "checkSumConverted", "ALPHABET_CODES", "code", "CNIC", "locale", "key", "validator", "require_isEAN", "__commonJSMin", "exports", "module", "isEAN", "_assertString", "_interopRequireDefault", "LENGTH_EAN_8", "LENGTH_EAN_14", "validEanRegex", "getPositionWeightThroughLengthAndIndex", "length", "index", "calculateCheckDigit", "ean", "checksum", "char", "acc", "partialSum", "remainder", "str", "actualCheckDigit", "require_isISIN", "__commonJSMin", "exports", "module", "isISIN", "_assertString", "_interopRequireDefault", "isin", "str", "double", "sum", "i", "value", "lo", "hi", "_i", "_arr", "digit", "_digit", "check", "require_isISBN", "__commonJSMin", "exports", "module", "isISBN", "_assertString", "_interopRequireDefault", "possibleIsbn10", "possibleIsbn13", "factor", "isbn", "options", "version", "sanitizedIsbn", "checksum", "i", "_i", "require_isISSN", "__commonJSMin", "exports", "module", "isISSN", "_assertString", "_interopRequireDefault", "issn", "str", "options", "testIssn", "digits", "checksum", "i", "digit", "require_algorithms", "__commonJSMin", "exports", "iso7064Check", "luhnCheck", "reverseMultiplyAndSum", "verhoeffCheck", "str", "checkvalue", "i", "checksum", "second", "product", "a", "b", "digits", "base", "total", "d_table", "p_table", "str_copy", "require_isTaxID", "__commonJSMin", "exports", "module", "_typeof", "o", "isTaxID", "_assertString", "_interopRequireDefault", "algorithms", "_interopRequireWildcard", "_isDate", "e", "t", "i", "f", "_t", "_toConsumableArray", "r", "_arrayWithoutHoles", "_iterableToArray", "_unsupportedIterableToArray", "_nonIterableSpread", "a", "_arrayLikeToArray", "bgBgCheck", "tin", "century_year", "month", "date", "digits", "multip_lookup", "checksum", "isCanadianSIN", "input", "digitsArray", "even", "_", "idx", "total", "acc", "cur", "csCzCheck", "full_year", "checkdigit", "deAtCheck", "deDeCheck", "occurrences", "j", "trip_locations", "recurrent", "_i", "dkDkCheck", "year", "century_digit", "weight", "elCyCheck", "_i2", "elGrCheck", "enIeCheck", "enUsCampusPrefix", "enUsGetPrefixes", "prefixes", "location", "enUsCheck", "esArCheck", "accum", "digit", "verif", "esEsCheck", "chars", "lead_replace", "lookup", "etEeCheck", "_i3", "fiFiCheck", "century_symbol", "letters_lookup", "frBeCheck", "checkdigits", "frFrCheck", "frLuCheck", "hrHrCheck", "huHuCheck", "itItNameCheck", "name", "vowelflag", "xflag", "itItCheck", "number_locations", "number_replace", "_i4", "_number_locations", "month_replace", "day", "_i5", "char_to_int", "odd_convert", "_i6", "_char_to_int", "multiplier", "lvLvCheck", "mtMtCheck", "first_part", "second_part", "nlNlCheck", "plPlCheck", "_checksum", "_i7", "ptBrCheck", "_sum", "remainder", "_i8", "length", "identifiers", "verificators", "sum", "pos", "_i9", "result", "_i0", "ptPtCheck", "roRoCheck", "multipliers", "skSkCheck", "slSiCheck", "svSeCheck", "tin_copy", "current_year", "current_century", "ukUaCheck", "taxIdFormat", "taxIdCheck", "allsymbols", "sanitizeRegexes", "str", "locale", "strcopy", "require_isMobilePhone", "__commonJSMin", "exports", "isMobilePhone", "_assertString", "_interopRequireDefault", "phones", "str", "locale", "options", "key", "phone", "locales", "require_isEthereumAddress", "__commonJSMin", "exports", "module", "isEthereumAddress", "_assertString", "_interopRequireDefault", "eth", "str", "require_isCurrency", "__commonJSMin", "exports", "module", "isCurrency", "_merge", "_interopRequireDefault", "_assertString", "currencyRegex", "options", "decimal_digits", "digit", "index", "symbol", "m", "negative", "whole_dollar_amount_without_sep", "whole_dollar_amount_with_sep", "valid_whole_dollar_amounts", "whole_dollar_amount", "decimal_amount", "pattern", "default_currency_options", "str", "require_isBtcAddress", "__commonJSMin", "exports", "module", "isBtcAddress", "_assertString", "_interopRequireDefault", "bech32", "base58", "str", "require_isISO6346", "__commonJSMin", "exports", "isISO6346", "_assertString", "_interopRequireDefault", "isISO6346Str", "isDigit", "str", "sum", "i", "convertedCode", "letterCode", "checkSumDigit", "isFreightContainerID", "require_isISO6391", "__commonJSMin", "exports", "module", "isISO6391", "_assertString", "_interopRequireDefault", "isISO6391Set", "str", "require_isISO8601", "__commonJSMin", "exports", "module", "isISO8601", "_assertString", "_interopRequireDefault", "iso8601", "iso8601StrictSeparator", "isValidDate", "str", "ordinalMatch", "oYear", "oDay", "match", "year", "month", "day", "monthString", "dayString", "d", "options", "check", "require_isRFC3339", "__commonJSMin", "exports", "module", "isRFC3339", "_assertString", "_interopRequireDefault", "dateFullYear", "dateMonth", "dateMDay", "timeHour", "timeMinute", "timeSecond", "timeSecFrac", "timeNumOffset", "timeOffset", "partialTime", "fullDate", "fullTime", "rfc3339", "str", "require_isISO15924", "__commonJSMin", "exports", "isISO15924", "_assertString", "_interopRequireDefault", "validISO15924Codes", "str", "ScriptCodes", "require_isISO31661Alpha3", "__commonJSMin", "exports", "module", "isISO31661Alpha3", "_assertString", "_interopRequireDefault", "validISO31661Alpha3CountriesCodes", "str", "require_isISO31661Numeric", "__commonJSMin", "exports", "module", "isISO31661Numeric", "_assertString", "_interopRequireDefault", "validISO31661NumericCountriesCodes", "str", "require_isISO4217", "__commonJSMin", "exports", "isISO4217", "_assertString", "_interopRequireDefault", "validISO4217CurrencyCodes", "str", "CurrencyCodes", "require_isBase32", "__commonJSMin", "exports", "module", "isBase32", "_assertString", "_interopRequireDefault", "_merge", "base32", "crockfordBase32", "defaultBase32Options", "str", "options", "len", "require_isBase58", "__commonJSMin", "exports", "module", "isBase58", "_assertString", "_interopRequireDefault", "base58Reg", "str", "require_isDataURI", "__commonJSMin", "exports", "module", "isDataURI", "_assertString", "_interopRequireDefault", "validMediaType", "validAttribute", "validData", "str", "data", "attributes", "schemeAndMediaType", "mediaType", "i", "_i", "require_isMagnetURI", "__commonJSMin", "exports", "module", "isMagnetURI", "_assertString", "_interopRequireDefault", "magnetURIComponent", "url", "require_rtrim", "__commonJSMin", "exports", "module", "rtrim", "_assertString", "_interopRequireDefault", "str", "chars", "pattern", "strIndex", "require_ltrim", "__commonJSMin", "exports", "module", "ltrim", "_assertString", "_interopRequireDefault", "str", "chars", "pattern", "require_trim", "__commonJSMin", "exports", "module", "trim", "_rtrim", "_interopRequireDefault", "_ltrim", "str", "chars", "require_isMailtoURI", "__commonJSMin", "exports", "module", "isMailtoURI", "_trim", "_interopRequireDefault", "_isEmail", "_assertString", "_slicedToArray", "r", "e", "_arrayWithHoles", "_iterableToArrayLimit", "_unsupportedIterableToArray", "_nonIterableRest", "l", "t", "n", "i", "u", "a", "f", "o", "_createForOfIteratorHelper", "_n", "F", "_arrayLikeToArray", "parseMailtoQueryString", "queryString", "allowedParams", "query", "isParseFailed", "queryParams", "_iterator", "_step", "q", "_q$split", "_q$split2", "key", "value", "err", "url", "options", "_url$replace$split", "_url$replace$split2", "to", "_url$replace$split2$", "email", "require_isMimeType", "__commonJSMin", "exports", "module", "isMimeType", "_assertString", "_interopRequireDefault", "mimeTypeSimple", "mimeTypeText", "mimeTypeMultipart", "str", "require_isLatLong", "__commonJSMin", "exports", "module", "isLatLong", "_assertString", "_interopRequireDefault", "_merge", "_includesString", "lat", "long", "latDMS", "longDMS", "defaultLatLongOptions", "str", "options", "pair", "require_isPostalCode", "__commonJSMin", "exports", "isPostalCode", "_assertString", "_interopRequireDefault", "threeDigit", "fourDigit", "fiveDigit", "sixDigit", "patterns", "locales", "str", "locale", "key", "pattern", "require_escape", "__commonJSMin", "exports", "module", "escape", "_assertString", "_interopRequireDefault", "str", "require_unescape", "__commonJSMin", "exports", "module", "unescape", "_assertString", "_interopRequireDefault", "str", "require_blacklist", "__commonJSMin", "exports", "module", "blacklist", "_assertString", "_interopRequireDefault", "str", "chars", "require_stripLow", "__commonJSMin", "exports", "module", "stripLow", "_assertString", "_interopRequireDefault", "_blacklist", "str", "keep_new_lines", "chars", "require_whitelist", "__commonJSMin", "exports", "module", "whitelist", "_assertString", "_interopRequireDefault", "str", "chars", "require_isWhitelisted", "__commonJSMin", "exports", "module", "isWhitelisted", "_assertString", "_interopRequireDefault", "str", "chars", "i", "require_normalizeEmail", "__commonJSMin", "exports", "module", "normalizeEmail", "_merge", "_interopRequireDefault", "default_normalize_email_options", "icloud_domains", "outlookdotcom_domains", "yahoo_domains", "yandex_domains", "dotsReplacer", "match", "email", "options", "raw_parts", "domain", "user", "parts", "components", "require_isSlug", "__commonJSMin", "exports", "module", "isSlug", "_assertString", "_interopRequireDefault", "charsetRegex", "str", "require_isLicensePlate", "__commonJSMin", "exports", "module", "isLicensePlate", "_assertString", "_interopRequireDefault", "validators", "str", "locale", "key", "validator", "require_isStrongPassword", "__commonJSMin", "exports", "module", "isStrongPassword", "_merge", "_interopRequireDefault", "_assertString", "upperCaseRegex", "lowerCaseRegex", "numberRegex", "symbolRegex", "defaultOptions", "countChars", "str", "result", "char", "curVal", "analyzePassword", "password", "charMap", "analysis", "scorePassword", "scoringOptions", "points", "options", "require_isVAT", "__commonJSMin", "exports", "_typeof", "o", "isVAT", "_assertString", "_interopRequireDefault", "algorithms", "_interopRequireWildcard", "e", "t", "i", "f", "_t", "AU", "str", "match", "weights", "ABN", "total", "CH", "hasValidCheckNumber", "digits", "lastDigit", "calculatedCheckNumber", "acc", "el", "idx", "PT", "tin", "checksum", "a", "vatMatchers", "countryCode", "require_validator", "__commonJSMin", "exports", "module", "_typeof", "o", "_toDate", "_interopRequireDefault", "_toFloat", "_toInt", "_toBoolean", "_equals", "_contains", "_matches", "_isEmail", "_isURL", "_isMACAddress", "_isIP", "_isIPRange", "_isFQDN", "_isDate", "_isTime", "_isBoolean", "_isLocale", "_isAbaRouting", "_isAlpha", "_interopRequireWildcard", "_isAlphanumeric", "_isNumeric", "_isPassportNumber", "_isPort", "_isLowercase", "_isUppercase", "_isIMEI", "_isAscii", "_isFullWidth", "_isHalfWidth", "_isVariableWidth", "_isMultibyte", "_isSemVer", "_isSurrogatePair", "_isInt", "_isFloat", "_isDecimal", "_isHexadecimal", "_isOctal", "_isDivisibleBy", "_isHexColor", "_isRgbColor", "_isHSL", "_isISRC", "_isIBAN", "_isBIC", "_isMD", "_isHash", "_isJWT", "_isJSON", "_isEmpty", "_isLength", "_isByteLength", "_isULID", "_isUUID", "_isMongoId", "_isAfter", "_isBefore", "_isIn", "_isLuhnNumber", "_isCreditCard", "_isIdentityCard", "_isEAN", "_isISIN", "_isISBN", "_isISSN", "_isTaxID", "_isMobilePhone", "_isEthereumAddress", "_isCurrency", "_isBtcAddress", "_isISO", "_isISO2", "_isISO3", "_isRFC", "_isISO4", "_isISO31661Alpha", "_isISO31661Alpha2", "_isISO31661Numeric", "_isISO5", "_isBase", "_isBase2", "_isBase3", "_isDataURI", "_isMagnetURI", "_isMailtoURI", "_isMimeType", "_isLatLong", "_isPostalCode", "_ltrim", "_rtrim", "_trim", "_escape", "_unescape", "_stripLow", "_whitelist", "_blacklist", "_isWhitelisted", "_normalizeEmail", "_isSlug", "_isLicensePlate", "_isStrongPassword", "_isVAT", "e", "t", "i", "f", "_t", "version", "validator", "_default", "index_exports", "__export", "DownloadVideo", "__toCommonJS", "import_node_child_process", "import_node_fs", "import_node_path", "import_api", "import_react", "has", "dequal", "foo", "bar", "ctor", "len", "$a57ed8effbd797c7$export$722debc0e56fea39", "value", "ref", "$hgUW1$useRef", "signalRef", "dequal", "$hgUW1$useMemo", "$bfcf6ee368b3bd9f$export$d4b699e2c1148419", "$c718fd03aba6111c$export$80e5033e369189f3", "error", "options", "message", "$hgUW1$showToast", "$hgUW1$Toast", "$c718fd03aba6111c$var$handleErrorToastAction", "privateExtension", "title", "extensionURL", "packageJSON", "$hgUW1$readFileSync", "$hgUW1$join", "$hgUW1$environment", "fallback", "stack", "toast", "$hgUW1$Clipboard", "$hgUW1$open", "$cefc05764ce5eacd$export$dd6b79aaabe7bc37", "fn", "args", "lastCallId", "state", "set", "$hgUW1$useState", "fnRef", "latestAbortable", "latestArgs", "latestOnError", "latestOnData", "latestOnWillExecute", "latestFailureToast", "latestValue", "latestCallback", "paginationArgsRef", "usePaginationRef", "hasMoreRef", "pageSizeRef", "abort", "$hgUW1$useCallback", "callback", "callId", "prevState", "promiseOrPaginatedPromise", "$cefc05764ce5eacd$var$bindPromiseIfNeeded", "handleError", "$hgUW1$LaunchType", "data", "hasMore", "cursor", "previousData", "revalidate", "mutate", "asyncUpdate", "dataBeforeOptimisticUpdate", "update", "err", "onLoadMore", "$hgUW1$useEffect", "isLoading", "stateWithLoadingFixed", "pagination", "$79498421851e7e84$var$validationError", "validation", "value", "valueIsValid", "$79498421851e7e84$export$87c0cf8eb5a167e0", "props", "_onSubmit", "initialValues", "values", "setValues", "$hgUW1$useState", "errors", "setErrors", "refs", "$hgUW1$useRef", "latestValidation", "$bfcf6ee368b3bd9f$export$d4b699e2c1148419", "latestOnSubmit", "focus", "$hgUW1$useCallback", "id", "handleSubmit", "validationErrors", "error", "result", "setValidationError", "setValue", "itemProps", "$hgUW1$useMemo", "target", "event", "instance", "reset", "ref", "isPlainObject", "value", "prototype", "import_node_url", "safeNormalizeFileUrl", "file", "name", "fileString", "normalizeFileUrl", "normalizeDenoExecPath", "isDenoExecPath", "normalizeParameters", "rawFile", "rawArguments", "rawOptions", "filePath", "safeNormalizeFileUrl", "commandArguments", "options", "isPlainObject", "commandArgument", "normalizedArguments", "nullByteArgument", "normalizedArgument", "import_node_child_process", "import_node_string_decoder", "objectToString", "isArrayBuffer", "value", "isUint8Array", "bufferToUint8Array", "buffer", "textEncoder", "stringToUint8Array", "string", "textDecoder", "uint8ArrayToString", "uint8Array", "joinToString", "uint8ArraysOrStrings", "encoding", "uint8ArraysToStrings", "uint8ArrayOrString", "decoder", "strings", "finalString", "joinToUint8Array", "concatUint8Arrays", "stringsToUint8Arrays", "uint8Arrays", "result", "getJoinLength", "index", "joinLength", "isTemplateString", "templates", "parseTemplates", "expressions", "tokens", "index", "template", "parseTemplate", "file", "commandArguments", "nextTokens", "leadingWhitespaces", "trailingWhitespaces", "splitByWhitespaces", "newTokens", "concatTokens", "expression", "expressionTokens", "parseExpression", "rawTemplate", "templateStart", "DELIMITERS", "templateIndex", "rawIndex", "rawCharacter", "nextRawCharacter", "ESCAPE_LENGTH", "isSeparated", "typeOfExpression", "isPlainObject", "getSubprocessResult", "stdout", "isUint8Array", "uint8ArrayToString", "import_node_child_process", "import_node_util", "import_node_process", "isStandardStream", "stream", "STANDARD_STREAMS", "process", "STANDARD_STREAMS_ALIASES", "getStreamName", "fdNumber", "normalizeFdSpecificOptions", "options", "optionsCopy", "optionName", "FD_SPECIFIC_OPTIONS", "normalizeFdSpecificOption", "optionBaseArray", "getStdioLength", "optionArray", "normalizeFdSpecificValue", "addDefaultValue", "stdio", "STANDARD_STREAMS_ALIASES", "optionValue", "isPlainObject", "normalizeOptionObject", "fdName", "compareFdName", "fdNumber", "parseFdName", "fdNameA", "fdNameB", "getFdNameOrder", "parseFd", "regexpResult", "FD_REGEXP", "DEFAULT_OPTIONS", "verboseDefault", "getFdSpecificValue", "isVerbose", "verbose", "fdNumber", "getFdVerbose", "isFullVerbose", "getVerboseFunction", "fdVerbose", "isVerboseFunction", "getFdGenericVerbose", "getFdSpecificValue", "VERBOSE_VALUES", "import_node_util", "import_node_process", "import_node_util", "joinCommand", "filePath", "rawArguments", "fileAndArguments", "command", "escapedCommand", "fileAndArgument", "quoteString", "escapeControlCharacters", "escapeLines", "lines", "line", "SPECIAL_CHAR_REGEXP", "character", "escapeControlCharacter", "commonEscape", "COMMON_ESCAPES", "codepoint", "codepointHex", "ASTRAL_START", "getSpecialCharRegExp", "escapedArgument", "NO_ESCAPE_REGEXP", "import_node_process", "isUnicodeSupported", "env", "process", "TERM", "TERM_PROGRAM", "common", "specialMainSymbols", "specialFallbackSymbols", "mainSymbols", "fallbackSymbols", "shouldUseMain", "isUnicodeSupported", "figures", "figures_default", "replacements", "import_node_tty", "hasColors", "tty", "format", "open", "close", "input", "openCode", "closeCode", "string", "index", "result", "lastIndex", "reset", "bold", "dim", "italic", "underline", "overline", "inverse", "hidden", "strikethrough", "black", "red", "green", "yellow", "blue", "magenta", "cyan", "white", "gray", "bgBlack", "bgRed", "bgGreen", "bgYellow", "bgBlue", "bgMagenta", "bgCyan", "bgWhite", "bgGray", "redBright", "greenBright", "yellowBright", "blueBright", "magentaBright", "cyanBright", "whiteBright", "bgRedBright", "bgGreenBright", "bgYellowBright", "bgBlueBright", "bgMagentaBright", "bgCyanBright", "bgWhiteBright", "defaultVerboseFunction", "type", "message", "timestamp", "piped", "commandId", "failed", "reject", "timestampString", "serializeTimestamp", "icon", "ICONS", "color", "COLORS", "gray", "padField", "field", "padding", "getFinalIcon", "figures_default", "identity", "string", "bold", "redBright", "yellowBright", "applyVerboseOnLines", "printedLines", "verboseInfo", "fdNumber", "verboseFunction", "getVerboseFunction", "verboseLine", "verboseObject", "applyVerboseFunction", "printedLine", "appendNewline", "verboseLog", "type", "verboseMessage", "fdNumber", "verboseInfo", "result", "verboseObject", "getVerboseObject", "printedLines", "getPrintedLines", "finalLines", "applyVerboseOnLines", "escapedCommand", "commandId", "piped", "options", "message", "getPrintedLine", "defaultVerboseFunction", "serializeVerboseMessage", "messageString", "escapeLines", "TAB_SIZE", "logCommand", "escapedCommand", "verboseInfo", "isVerbose", "verboseLog", "getVerboseInfo", "verbose", "escapedCommand", "rawOptions", "validateVerbose", "commandId", "getCommandId", "isVerbose", "COMMAND_ID", "fdVerbose", "VERBOSE_VALUES", "isVerboseFunction", "allowedValues", "allowedValue", "import_node_process", "getStartTime", "getDurationMs", "startTime", "handleCommand", "filePath", "rawArguments", "rawOptions", "startTime", "getStartTime", "command", "escapedCommand", "joinCommand", "verbose", "normalizeFdSpecificOption", "verboseInfo", "getVerboseInfo", "logCommand", "import_node_path", "import_node_process", "import_cross_spawn", "import_node_process", "import_node_path", "pathKey", "options", "env", "platform", "key", "import_node_util", "import_node_child_process", "import_node_path", "import_node_url", "execFileOriginal", "execFileCallback", "toPath", "urlOrPath", "traversePathUp", "startPath", "currentPath", "path", "toPath", "previousPath", "TEN_MEGABYTES_IN_BYTES", "npmRunPath", "cwd", "process", "pathOption", "pathKey", "preferLocal", "execPath", "addExecPath", "cwdPath", "path", "toPath", "result", "pathParts", "applyPreferLocal", "applyExecPath", "directory", "traversePathUp", "pathPart", "npmRunPathEnv", "env", "options", "pathName", "import_promises", "getFinalError", "originalError", "message", "isSync", "ErrorClass", "ExecaSyncError", "ExecaError", "options", "DiscardedError", "setErrorName", "value", "execaErrorSymbol", "isExecaError", "error", "isErrorInstance", "import_node_os", "import_node_os", "getRealtimeSignals", "length", "SIGRTMAX", "SIGRTMIN", "getRealtimeSignal", "value", "index", "import_node_os", "SIGNALS", "getSignals", "realtimeSignals", "getRealtimeSignals", "SIGNALS", "normalizeSignal", "name", "defaultNumber", "description", "action", "forced", "standard", "constantSignal", "supported", "getSignalsByName", "signals", "getSignals", "getSignalByName", "name", "number", "description", "supported", "action", "forced", "standard", "signalsByName", "getSignalsByNumber", "length", "signalsA", "value", "getSignalByNumber", "signal", "findSignalByNumber", "signalA", "signalsByNumber", "normalizeKillSignal", "killSignal", "optionName", "normalizeSignal", "normalizeSignalArgument", "signal", "signalNameOrInteger", "normalizeSignalInteger", "normalizeSignalName", "getAvailableSignals", "signalInteger", "signalsIntegerToName", "getSignalsIntegerToName", "signalName", "getAvailableSignalNames", "getAvailableSignalIntegers", "signalIntegerTwo", "getSignalDescription", "signalsByName", "normalizeForceKillAfterDelay", "forceKillAfterDelay", "DEFAULT_FORCE_KILL_TIMEOUT", "subprocessKill", "kill", "killSignal", "onInternalError", "context", "controller", "signalOrError", "errorArgument", "signal", "error", "parseKillArguments", "emitKillError", "killResult", "setKillTimeout", "isErrorInstance", "normalizeSignalArgument", "killOnTimeout", "controllerSignal", "import_node_events", "onAbortedSignal", "mainSignal", "stopSignal", "validateCancelSignal", "cancelSignal", "throwOnCancel", "subprocess", "gracefulCancel", "context", "controller", "terminateOnCancel", "signal", "onAbortedSignal", "import_promises", "import_node_util", "validateIpcMethod", "methodName", "isSubprocess", "ipc", "isConnected", "validateIpcOption", "validateConnection", "getMethodName", "getOtherProcessName", "throwOnEarlyDisconnect", "throwOnStrictDeadlockError", "getStrictResponseError", "error", "throwOnMissingStrict", "throwOnStrictDisconnect", "getAbortDisconnectError", "throwOnMissingParent", "handleEpipeError", "handleSerializationError", "message", "isSerializationError", "code", "SERIALIZATION_ERROR_CODES", "SERIALIZATION_ERROR_MESSAGES", "serializationErrorMessage", "parameters", "getNamespaceName", "disconnect", "anyProcess", "createDeferred", "methods", "promise", "resolve", "reject", "getToStream", "destination", "to", "options", "fileDescriptors", "SUBPROCESS_OPTIONS", "fdNumber", "getFdNumber", "destinationStream", "getInvalidStdioOptionMessage", "getFromStream", "source", "from", "sourceStream", "fdName", "isWritable", "parseFdNumber", "validateFdNumber", "parseFd", "validOptions", "defaultValue", "getOptionName", "fileDescriptor", "getUsedDescriptor", "optionName", "optionValue", "getInvalidStdioOption", "serializeOptionValue", "stdin", "stdout", "stderr", "stdio", "usedDescriptor", "value", "import_node_events", "import_node_events", "incrementMaxListeners", "eventEmitter", "maxListenersIncrement", "signal", "maxListeners", "import_node_events", "import_node_events", "import_promises", "addReference", "channel", "reference", "addReferenceCount", "removeReference", "removeReferenceCount", "undoAddedReferences", "isSubprocess", "redoAddedReferences", "onMessage", "anyProcess", "channel", "isSubprocess", "ipcEmitter", "wrappedMessage", "handleStrictResponse", "handleAbort", "INCOMING_MESSAGES", "incomingMessages", "waitForOutgoingMessages", "message", "handleStrictRequest", "onDisconnect", "boundOnMessage", "abortOnDisconnect", "redoAddedReferences", "getIpcEmitter", "anyProcess", "channel", "isSubprocess", "IPC_EMITTERS", "ipcEmitter", "forwardEvents", "boundOnMessage", "onMessage", "onDisconnect", "undoAddedReferences", "isConnected", "handleSendStrict", "anyProcess", "channel", "isSubprocess", "message", "strict", "ipcEmitter", "getIpcEmitter", "hasListeners", "hasMessageListeners", "count", "REQUEST_TYPE", "validateStrictDeadlock", "outgoingMessages", "wrappedMessage", "id", "STRICT_RESPONSES", "handleStrictRequest", "response", "RESPONSE_TYPE", "sendMessage", "error", "handleStrictResponse", "waitForStrictResponse", "deferred", "createDeferred", "controller", "isDeadlock", "throwOnDisconnect", "throwOnStrictDeadlockError", "throwOnMissingStrict", "signal", "incrementMaxListeners", "throwOnStrictDisconnect", "startSendMessage", "anyProcess", "wrappedMessage", "strict", "OUTGOING_MESSAGES", "outgoingMessages", "onMessageSent", "createDeferred", "id", "outgoingMessage", "endSendMessage", "waitForOutgoingMessages", "ipcEmitter", "hasMessageListeners", "validateStrictDeadlock", "getMinListenerCount", "SUBPROCESS_OPTIONS", "getFdSpecificValue", "sendMessage", "anyProcess", "channel", "isSubprocess", "ipc", "message", "strict", "methodName", "validateIpcMethod", "sendMessageAsync", "wrappedMessage", "handleSendStrict", "outgoingMessagesState", "startSendMessage", "sendOneMessage", "error", "disconnect", "endSendMessage", "sendMethod", "getSendMethod", "waitForStrictResponse", "handleEpipeError", "handleSerializationError", "PROCESS_SEND_METHODS", "sendAbort", "subprocess", "message", "methodName", "validateConnection", "sendOneMessage", "GRACEFUL_CANCEL_TYPE", "getCancelSignal", "anyProcess", "channel", "isSubprocess", "ipc", "startIpc", "cancelController", "cancelListening", "throwOnMissingParent", "abortOnDisconnect", "getIpcEmitter", "handleAbort", "wrappedMessage", "getAbortDisconnectError", "validateGracefulCancel", "gracefulCancel", "cancelSignal", "ipc", "serialization", "throwOnGracefulCancel", "subprocess", "forceKillAfterDelay", "context", "controller", "sendOnAbort", "signal", "onAbortedSignal", "reason", "getReason", "sendAbort", "killOnTimeout", "error", "import_promises", "validateTimeout", "timeout", "throwOnTimeout", "subprocess", "context", "controller", "killAfterTimeout", "signal", "DiscardedError", "import_node_process", "import_node_path", "mapNode", "options", "handleNodeOption", "file", "commandArguments", "shouldHandleNode", "nodePath", "nodeOptions", "nodeOption", "cwd", "formerNodePath", "normalizedNodePath", "safeNormalizeFileUrl", "resolvedNodePath", "path", "newOptions", "import_node_v8", "validateIpcInputOption", "ipcInput", "ipc", "serialization", "validateIpcInput", "validateAdvancedInput", "error", "validateJsonInput", "sendIpcInput", "subprocess", "validateEncoding", "encoding", "ENCODINGS", "correctEncoding", "getCorrectEncoding", "serializeEncoding", "correctEncodings", "TEXT_ENCODINGS", "BINARY_ENCODINGS", "lowerEncoding", "ENCODING_ALIASES", "import_node_fs", "import_node_path", "import_node_process", "normalizeCwd", "cwd", "getDefaultCwd", "cwdString", "safeNormalizeFileUrl", "path", "process", "error", "fixCwdError", "originalMessage", "cwdStat", "normalizeOptions", "filePath", "rawArguments", "rawOptions", "normalizeCwd", "processedFile", "processedArguments", "processedOptions", "handleNodeOption", "file", "commandArguments", "initialOptions", "crossSpawn", "fdOptions", "normalizeFdSpecificOptions", "options", "addDefaultOptions", "validateTimeout", "validateEncoding", "validateIpcInputOption", "validateCancelSignal", "validateGracefulCancel", "normalizeFileUrl", "getEnv", "normalizeKillSignal", "normalizeForceKillAfterDelay", "lines", "fdNumber", "BINARY_ENCODINGS", "process", "path", "extendEnv", "preferLocal", "cwd", "localDirectory", "encoding", "reject", "cleanup", "all", "windowsHide", "killSignal", "forceKillAfterDelay", "gracefulCancel", "ipcInput", "ipc", "serialization", "envOption", "node", "nodePath", "env", "npmRunPathEnv", "concatenateShell", "file", "commandArguments", "options", "import_node_util", "stripFinalNewline", "input", "stripFinalNewlineString", "stripFinalNewlineBinary", "LF", "CR", "LF_BINARY", "CR_BINARY", "import_node_events", "import_promises", "isStream", "stream", "checkOpen", "isWritableStream", "isReadableStream", "isDuplexStream", "options", "a", "c", "#n", "#r", "#e", "e", "t", "#s", "#i", "n", "i", "o", "r", "u", "h", "s", "getAsyncIterable", "stream", "isReadableStream", "nodeImports", "getStreamIterable", "toString", "h", "controller", "state", "handleStreamEnd", "chunk", "error", "getStreamContents", "stream", "init", "convertChunk", "getSize", "truncateChunk", "addChunk", "getFinalChunk", "finalize", "maxBuffer", "asyncIterable", "getAsyncIterable", "state", "chunk", "chunkType", "getChunkType", "convertedChunk", "appendChunk", "appendFinalChunk", "error", "normalizedError", "chunkSize", "newLength", "addNewChunk", "truncatedChunk", "MaxBufferError", "typeOfChunk", "prototypeName", "objectToString", "identity", "value", "noop", "getContentsProperty", "contents", "throwObjectStream", "chunk", "getLengthProperty", "convertedChunk", "getStreamAsArray", "stream", "options", "getStreamContents", "arrayMethods", "initArray", "increment", "addArrayChunk", "convertedChunk", "contents", "identity", "noop", "getContentsProperty", "getStreamAsArrayBuffer", "stream", "options", "getStreamContents", "arrayBufferMethods", "initArrayBuffer", "useTextEncoder", "chunk", "textEncoder", "useUint8Array", "useUint8ArrayWithOffset", "truncateArrayBufferChunk", "convertedChunk", "chunkSize", "addArrayBufferChunk", "contents", "previousLength", "length", "newContents", "hasArrayBufferResize", "resizeArrayBuffer", "resizeArrayBufferSlow", "arrayBuffer", "getNewContentsLength", "SCALE_FACTOR", "finalizeArrayBuffer", "throwObjectStream", "getLengthProperty", "noop", "getStreamAsString", "stream", "options", "getStreamContents", "stringMethods", "initString", "useTextDecoder", "chunk", "textDecoder", "addStringChunk", "convertedChunk", "contents", "truncateStringChunk", "chunkSize", "getFinalStringChunk", "finalChunk", "identity", "throwObjectStream", "getLengthProperty", "getContentsProperty", "nodeImports", "handleMaxBuffer", "error", "stream", "readableObjectMode", "lines", "encoding", "fdNumber", "MaxBufferError", "unit", "getMaxBufferUnit", "checkIpcMaxBuffer", "subprocess", "ipcOutput", "maxBuffer", "getMaxBufferMessage", "streamName", "threshold", "getMaxBufferInfo", "getFdSpecificValue", "getStreamName", "isMaxBufferSync", "resultError", "output", "result", "getMaxBufferSync", "truncateMaxBufferSync", "isMaxBuffer", "maxBufferValue", "stdoutMaxBuffer", "createMessages", "stdio", "all", "ipcOutput", "originalError", "signal", "signalDescription", "exitCode", "escapedCommand", "timedOut", "isCanceled", "isGracefullyCanceled", "isMaxBuffer", "isForcefullyTerminated", "forceKillAfterDelay", "killSignal", "maxBuffer", "timeout", "cwd", "errorCode", "prefix", "getErrorPrefix", "originalMessage", "getOriginalMessage", "suffix", "shortMessage", "messageStdio", "message", "ipcMessage", "serializeIpcMessage", "messagePart", "escapeLines", "stripFinalNewline", "serializeMessagePart", "forcefulSuffix", "getForcefulSuffix", "getMaxBufferMessage", "getSignalDescription", "DiscardedError", "isExecaError", "escapedOriginalMessage", "fixCwdError", "messageItem", "serializeMessageItem", "isUint8Array", "uint8ArrayToString", "makeSuccessResult", "command", "escapedCommand", "stdio", "all", "ipcOutput", "cwd", "startTime", "omitUndefinedProperties", "getDurationMs", "makeEarlyError", "error", "fileDescriptors", "options", "isSync", "makeError", "originalError", "timedOut", "isCanceled", "isGracefullyCanceled", "isMaxBuffer", "isForcefullyTerminated", "rawExitCode", "rawSignal", "timeoutDuration", "timeout", "forceKillAfterDelay", "killSignal", "maxBuffer", "exitCode", "signal", "signalDescription", "normalizeExitPayload", "originalMessage", "shortMessage", "message", "createMessages", "getFinalError", "getErrorProperties", "result", "value", "getSignalDescription", "toZeroIfInfinity", "value", "parseNumber", "milliseconds", "parseBigint", "parseMilliseconds", "isZero", "value", "pluralize", "word", "count", "SECOND_ROUNDING_EPSILON", "ONE_DAY_IN_MILLISECONDS", "prettyMilliseconds", "milliseconds", "options", "isBigInt", "sign", "result", "floorDecimals", "decimalDigits", "flooredInterimValue", "add", "long", "short", "valueString", "wholeDigits", "minLength", "parsed", "parseMilliseconds", "days", "seconds", "microseconds", "nanoseconds", "millisecondsAndBelow", "millisecondsDecimalDigits", "roundedMilliseconds", "millisecondsString", "secondsDecimalDigits", "secondsFixed", "secondsString", "separator", "logError", "result", "verboseInfo", "verboseLog", "logResult", "result", "verboseInfo", "isVerbose", "logError", "logDuration", "verboseMessage", "prettyMilliseconds", "verboseLog", "handleResult", "result", "verboseInfo", "reject", "logResult", "import_node_fs", "getStdioItemType", "value", "optionName", "isAsyncGenerator", "isSyncGenerator", "isUrl", "isFilePathObject", "isWebStream", "isStream", "isUint8Array", "isAsyncIterableObject", "isIterableObject", "isTransformStream", "getTransformStreamType", "isTransformOptions", "getTransformObjectType", "isDuplexStream", "getDuplexType", "getGeneratorObjectType", "validateNonGeneratorType", "final", "binary", "objectMode", "typeName", "checkUndefinedOption", "checkBooleanOption", "transform", "isGenerator", "isPlainObject", "isRegularUrl", "key", "FILE_PATH_KEYS", "isFilePathString", "file", "isUnknownStdioString", "type", "KNOWN_STDIO_STRINGS", "isReadableStream", "isWritableStream", "isObject", "TRANSFORM_TYPES", "FILE_TYPES", "SPECIAL_DUPLICATE_TYPES_SYNC", "SPECIAL_DUPLICATE_TYPES", "FORBID_DUPLICATE_TYPES", "TYPE_TO_MESSAGE", "getTransformObjectModes", "objectMode", "index", "newTransforms", "direction", "getOutputObjectModes", "getInputObjectModes", "writableObjectMode", "readableObjectMode", "getFdObjectMode", "stdioItems", "lastTransform", "type", "TRANSFORM_TYPES", "normalizeTransforms", "stdioItems", "optionName", "direction", "options", "type", "TRANSFORM_TYPES", "getTransforms", "encoding", "transforms", "newTransforms", "index", "stdioItem", "normalizeTransform", "sortTransforms", "normalizeDuplex", "normalizeTransformStream", "normalizeGenerator", "transform", "writableObjectMode", "readableObjectMode", "objectMode", "value", "isPlainObject", "getTransformObjectModes", "final", "binaryOption", "preserveNewlines", "binary", "BINARY_ENCODINGS", "import_node_process", "getStreamDirection", "stdioItems", "fdNumber", "optionName", "directions", "stdioItem", "getStdioItemDirection", "DEFAULT_DIRECTION", "type", "value", "KNOWN_DIRECTIONS", "guessStreamDirection", "anyDirection", "alwaysInput", "isWritableStream", "isReadableStream", "standardStreamDirection", "getStandardStreamDirection", "isStream", "process", "normalizeIpcStdioArray", "stdioArray", "ipc", "normalizeStdioOption", "stdio", "ipc", "buffer", "options", "verboseInfo", "isSync", "stdioArray", "getStdioArray", "stdioOption", "fdNumber", "addDefaultValue", "normalizeStdioSync", "normalizeIpcStdioArray", "STANDARD_STREAMS_ALIASES", "alias", "hasAlias", "length", "_", "item", "isFullVerbose", "isOutputPipeOnly", "import_node_fs", "import_node_tty", "handleNativeStream", "stdioItem", "type", "isStdioArray", "fdNumber", "direction", "isSync", "handleNativeStreamSync", "handleNativeStreamAsync", "value", "optionName", "targetFd", "getTargetFd", "isStream", "targetFdNumber", "getTargetFdNumber", "tty", "serializeOptionValue", "bufferToUint8Array", "standardStreamIndex", "STANDARD_STREAMS", "getStandardStream", "standardStream", "handleInputOptions", "input", "inputFile", "fdNumber", "handleInputOption", "handleInputFileOption", "getInputType", "isReadableStream", "isUint8Array", "getInputFileType", "isUrl", "isFilePathString", "filterDuplicates", "stdioItems", "stdioItemOne", "indexOne", "stdioItemTwo", "indexTwo", "getDuplicateStream", "type", "value", "optionName", "direction", "fileDescriptors", "isSync", "otherStdioItems", "getOtherStdioItems", "validateDuplicateStreamSync", "SPECIAL_DUPLICATE_TYPES", "getDuplicateStreamInstance", "FORBID_DUPLICATE_TYPES", "validateDuplicateTransform", "stdioItem", "SPECIAL_DUPLICATE_TYPES_SYNC", "duplicateStdioItems", "hasSameValue", "differentStdioItem", "throwOnDuplicateStream", "secondValue", "duplicateStdioItem", "transform", "TYPE_TO_MESSAGE", "handleStdio", "addProperties", "options", "verboseInfo", "isSync", "initialFileDescriptors", "normalizeStdioOption", "stdioOption", "fdNumber", "getFileDescriptor", "fileDescriptors", "getFinalFileDescriptors", "stdioItems", "forwardStdio", "optionName", "getStreamName", "initialStdioItems", "isStdioArray", "initializeStdioItems", "direction", "getStreamDirection", "stdioItem", "handleNativeStream", "normalizedStdioItems", "normalizeTransforms", "objectMode", "getFdObjectMode", "validateFileObjectMode", "value", "initializeStdioItem", "handleInputOptions", "filterDuplicates", "validateStdioArray", "validateStreams", "getStdioItemType", "INVALID_STDIO_ARRAY_OPTIONS", "validateFileStdio", "type", "isRegularUrl", "isUnknownStdioString", "fileStdioItem", "FILE_TYPES", "fileDescriptor", "getFinalFileDescriptor", "error", "cleanupCustomStreams", "finalStdioItems", "addStreamProperties", "duplicateStream", "getDuplicateStream", "stream", "isStandardStream", "handleStdioSync", "options", "verboseInfo", "handleStdio", "addPropertiesSync", "forbiddenIfSync", "type", "optionName", "throwInvalidSyncValue", "TYPE_TO_MESSAGE", "forbiddenNativeIfSync", "value", "addProperties", "bufferToUint8Array", "file", "append", "stripNewline", "value", "stripFinalNewline", "fdNumber", "getStripFinalNewline", "import_node_stream", "getSplitLinesGenerator", "binary", "preserveNewlines", "skipped", "state", "initializeSplitLines", "splitLinesSync", "chunk", "objectMode", "item", "splitLinesItemSync", "transform", "final", "splitGenerator", "linesFinal", "previousChunks", "start", "end", "newlineLength", "getNewlineLength", "line", "concatString", "getAppendNewlineGenerator", "readableObjectMode", "appendNewlineGenerator", "isWindowsNewline", "unixNewline", "windowsNewline", "LF", "concatBytes", "linesStringInfo", "linesUint8ArrayInfo", "firstChunk", "secondChunk", "concatUint8Array", "import_node_buffer", "getValidateTransformInput", "writableObjectMode", "optionName", "validateStringTransformInput", "chunk", "isUint8Array", "getValidateTransformReturn", "readableObjectMode", "validateObjectTransformReturn", "validateStringTransformReturn", "validateEmptyReturn", "import_node_buffer", "import_node_string_decoder", "getEncodingTransformGenerator", "binary", "encoding", "skipped", "encodingUint8ArrayGenerator", "stringDecoder", "encodingStringGenerator", "encodingStringFinal", "textEncoder", "chunk", "bufferToUint8Array", "isUint8Array", "lastChunk", "import_node_util", "pushChunks", "getChunks", "state", "getChunksArguments", "transformStream", "chunk", "transformChunk", "generators", "index", "transform", "identityGenerator", "transformedChunk", "finalChunks", "final", "generatorFinalChunks", "finalChunk", "destroyTransform", "currentIterable", "error", "pushChunksSync", "getChunksSync", "getChunksArguments", "transformStream", "done", "chunk", "error", "runTransformSync", "generators", "chunks", "transformChunkSync", "finalChunksSync", "index", "transform", "identityGenerator", "transformedChunk", "final", "generatorFinalChunksSync", "finalChunk", "generatorToStream", "value", "transform", "final", "writableObjectMode", "readableObjectMode", "optionName", "encoding", "state", "generators", "addInternalGenerators", "transformAsync", "isAsyncGenerator", "finalAsync", "transformMethod", "pushChunks", "transformChunk", "pushChunksSync", "transformChunkSync", "finalMethod", "finalChunks", "finalChunksSync", "destroyMethod", "destroyTransform", "chunk", "done", "runGeneratorsSync", "chunks", "stdioItems", "isInput", "type", "reversedGenerators", "runTransformSync", "binary", "preserveNewlines", "getValidateTransformInput", "getEncodingTransformGenerator", "getSplitLinesGenerator", "getValidateTransformReturn", "getAppendNewlineGenerator", "addInputOptionsSync", "fileDescriptors", "options", "fdNumber", "getInputFdNumbers", "addInputOptionSync", "direction", "stdioItems", "allStdioItems", "contents", "type", "optionName", "TYPE_TO_MESSAGE", "transformedContents", "applySingleInputGeneratorsSync", "joinToUint8Array", "newContents", "runGeneratorsSync", "validateSerializable", "invalidItem", "item", "isUint8Array", "import_node_fs", "shouldLogOutput", "stdioItems", "encoding", "verboseInfo", "fdNumber", "isFullVerbose", "BINARY_ENCODINGS", "fdUsesVerbose", "type", "value", "PIPED_STDIO_VALUES", "TRANSFORM_TYPES", "logLines", "linesIterable", "stream", "line", "isPipingStream", "logLine", "logLinesSync", "linesArray", "verboseMessage", "serializeVerboseMessage", "verboseLog", "transformOutputSync", "fileDescriptors", "output", "options", "isMaxBuffer", "verboseInfo", "state", "outputFiles", "result", "fdNumber", "transformOutputResultSync", "buffer", "encoding", "lines", "stripFinalNewline", "maxBuffer", "truncatedResult", "truncateMaxBufferSync", "uint8ArrayResult", "bufferToUint8Array", "stdioItems", "objectMode", "chunks", "runOutputGeneratorsSync", "serializedResult", "finalResult", "serializeChunks", "logOutputSync", "returnedResult", "writeToFiles", "error", "runGeneratorsSync", "joinToUint8Array", "joinToString", "splitLinesSync", "shouldLogOutput", "linesArray", "logLinesSync", "path", "append", "type", "FILE_TYPES", "pathString", "getAllSync", "stdout", "stderr", "options", "stripNewline", "isUint8Array", "concatUint8Arrays", "import_node_events", "waitForExit", "subprocess", "context", "exitCode", "signal", "waitForExitOrError", "spawnPayload", "exitPayload", "waitForSubprocessExit", "waitForSuccessfulExit", "exitPromise", "isSubprocessErrorExit", "isFailedExit", "DiscardedError", "getExitResultSync", "error", "exitCode", "signal", "output", "maxBuffer", "resultError", "getResultError", "timedOut", "isMaxBuffer", "isMaxBufferSync", "isFailedExit", "DiscardedError", "execaCoreSync", "rawFile", "rawArguments", "rawOptions", "file", "commandArguments", "command", "escapedCommand", "startTime", "verboseInfo", "options", "fileDescriptors", "handleSyncArguments", "result", "spawnSubprocessSync", "handleResult", "handleCommand", "syncOptions", "normalizeSyncOptions", "normalizeOptions", "validateSyncOptions", "handleStdioSync", "ipc", "ipcInput", "detached", "cancelSignal", "throwInvalidSyncOption", "value", "syncResult", "runSubprocessSync", "resultError", "exitCode", "signal", "timedOut", "isMaxBuffer", "getExitResultSync", "output", "error", "transformOutputSync", "stdio", "stdioOutput", "fdNumber", "stripNewline", "all", "getAllSync", "getSyncResult", "addInputOptionsSync", "normalizedOptions", "normalizeSpawnSyncOptions", "concatenateShell", "makeEarlyError", "encoding", "maxBuffer", "getMaxBufferSync", "makeSuccessResult", "makeError", "import_node_events", "import_node_child_process", "import_node_process", "import_node_events", "getOneMessage", "anyProcess", "channel", "isSubprocess", "ipc", "reference", "filter", "validateIpcMethod", "isConnected", "getOneMessageAsync", "addReference", "ipcEmitter", "getIpcEmitter", "controller", "getMessage", "throwOnDisconnect", "throwOnStrictError", "error", "disconnect", "removeReference", "signal", "message", "throwOnEarlyDisconnect", "getStrictResponseError", "import_node_events", "getEachMessage", "anyProcess", "channel", "isSubprocess", "ipc", "reference", "loopOnMessages", "shouldAwait", "validateIpcMethod", "isConnected", "addReference", "ipcEmitter", "getIpcEmitter", "controller", "state", "stopOnDisconnect", "abortOnStrictError", "iterateOnMessages", "error", "getStrictResponseError", "message", "throwIfStrictError", "removeReference", "disconnect", "addIpcMethods", "subprocess", "ipc", "getIpcMethods", "getIpcExport", "anyProcess", "process", "isSubprocess", "getCancelSignal", "sendMessage", "getOneMessage", "getEachMessage", "import_node_child_process", "import_node_stream", "handleEarlyError", "error", "command", "escapedCommand", "fileDescriptors", "options", "startTime", "verboseInfo", "cleanupCustomStreams", "subprocess", "createDummyStreams", "readable", "writable", "duplex", "earlyError", "makeEarlyError", "promise", "handleDummyPromise", "stdin", "createDummyStream", "stdout", "stderr", "extraStdio", "all", "stdio", "stream", "handleResult", "import_node_fs", "import_node_buffer", "import_node_stream", "handleStdioAsync", "options", "verboseInfo", "handleStdio", "addPropertiesAsync", "forbiddenIfAsync", "type", "optionName", "TYPE_TO_MESSAGE", "addProperties", "generatorToStream", "value", "transform", "writableObjectMode", "readableObjectMode", "objectMode", "file", "append", "import_node_events", "import_node_stream", "import_promises", "mergeStreams", "streams", "stream", "validateStream", "objectMode", "readableObjectMode", "highWaterMark", "getHighWaterMark", "passThroughStream", "MergedStream", "highWaterMarks", "readableHighWaterMark", "PassThroughStream", "#streams", "#ended", "#aborted", "#onFinished", "#unpipeEvent", "#streamPromises", "onMergedStreamFinished", "streamPromise", "endWhenStreamsDone", "unpipeEvent", "updateMaxListeners", "PASSTHROUGH_LISTENERS_COUNT", "controller", "onMergedStreamEnd", "onInputStreamsUnpipe", "signal", "error", "errorOrAbortStream", "unpipedStream", "ended", "aborted", "onFinished", "PASSTHROUGH_LISTENERS_PER_STREAM", "afterMergedStreamFinished", "onInputStreamEnd", "onInputStreamUnpipe", "abortStream", "endStream", "isAbortError", "errorStream", "noop", "increment", "maxListeners", "import_promises", "pipeStreams", "source", "destination", "onSourceFinish", "onDestinationFinish", "isStandardStream", "endDestinationStream", "abortSourceStream", "pipeOutputAsync", "subprocess", "fileDescriptors", "controller", "pipeGroups", "fdNumber", "stdioItems", "direction", "stream", "type", "TRANSFORM_TYPES", "pipeTransform", "pipeStdioItem", "outputStream", "inputStreams", "inputStream", "mergeStreams", "pipeStreams", "streamProperty", "SUBPROCESS_STREAM_PROPERTIES", "setStandardStreamMaxListeners", "outputStreams", "signal", "isStandardStream", "incrementMaxListeners", "MAX_LISTENERS_INCREMENT", "import_node_events", "signals", "processOk", "process", "kExitEmitter", "global", "ObjectDefineProperty", "Emitter", "ev", "fn", "list", "i", "code", "signal", "ret", "SignalExitBase", "signalExitWrap", "handler", "cb", "opts", "SignalExitFallback", "SignalExit", "#hupSig", "#emitter", "#process", "#originalProcessEmit", "#originalProcessReallyExit", "#sigListeners", "#loaded", "sig", "signals", "listeners", "count", "p", "a", "#processEmit", "#processReallyExit", "listener", "args", "og", "onExit", "load", "unload", "cleanupOnExit", "subprocess", "cleanup", "detached", "signal", "removeExitHandler", "onExit", "normalizePipeArguments", "source", "sourcePromise", "boundOptions", "createNested", "pipeArguments", "startTime", "getStartTime", "destination", "destinationStream", "destinationError", "from", "unpipeSignal", "getDestinationStream", "sourceStream", "sourceError", "getSourceStream", "sourceOptions", "fileDescriptors", "SUBPROCESS_OPTIONS", "to", "getDestination", "getToStream", "error", "firstArgument", "mapDestinationArguments", "isDenoExecPath", "rawFile", "rawArguments", "rawOptions", "normalizeParameters", "options", "getFromStream", "handlePipeArgumentsError", "sourceStream", "sourceError", "destinationStream", "destinationError", "fileDescriptors", "sourceOptions", "startTime", "error", "getPipeArgumentsError", "createNonCommandError", "abortSourceStream", "endDestinationStream", "makeEarlyError", "PIPE_COMMAND_MESSAGE", "waitForBothSubprocesses", "subprocessPromises", "sourceStatus", "sourceReason", "sourceResult", "destinationStatus", "destinationReason", "destinationResult", "import_promises", "pipeSubprocessStream", "sourceStream", "destinationStream", "maxListenersController", "mergedStream", "MERGED_STREAMS", "pipeMoreSubprocessStream", "pipeFirstSubprocessStream", "incrementMaxListeners", "SOURCE_LISTENERS_PER_PIPE", "DESTINATION_LISTENERS_PER_PIPE", "cleanupMergedStreamsMap", "mergeStreams", "pipeStreams", "import_node_util", "unpipeOnAbort", "unpipeSignal", "unpipeContext", "unpipeOnSignalAbort", "sourceStream", "mergedStream", "fileDescriptors", "sourceOptions", "startTime", "error", "createNonCommandError", "pipeToSubprocess", "sourceInfo", "pipeArguments", "isPlainObject", "destination", "normalizedInfo", "normalizePipeArguments", "promise", "handlePipePromise", "sourcePromise", "sourceStream", "sourceOptions", "sourceError", "destinationStream", "destinationError", "unpipeSignal", "fileDescriptors", "startTime", "subprocessPromises", "getSubprocessPromises", "handlePipeArgumentsError", "maxListenersController", "mergedStream", "pipeSubprocessStream", "waitForBothSubprocesses", "unpipeOnAbort", "import_promises", "import_node_events", "import_node_stream", "iterateOnSubprocessStream", "subprocessStdout", "subprocess", "binary", "shouldEncode", "encoding", "preserveNewlines", "controller", "stopReadingOnExit", "iterateOnStream", "iterateForResult", "stream", "onStreamEnd", "lines", "stripFinalNewline", "allMixed", "stopReadingOnStreamEnd", "objectMode", "shouldSplit", "onStdoutChunk", "HIGH_WATER_MARK", "iterateOnData", "DEFAULT_OBJECT_HIGH_WATER_MARK", "generators", "getGenerators", "chunk", "transformChunkSync", "error", "finalChunksSync", "getEncodingTransformGenerator", "getSplitLinesGenerator", "getStreamOutput", "stream", "onStreamEnd", "fdNumber", "encoding", "buffer", "maxBuffer", "lines", "allMixed", "stripFinalNewline", "verboseInfo", "streamInfo", "logPromise", "logOutputAsync", "resumeStream", "stripFinalNewlineValue", "getStripFinalNewline", "iterable", "iterateForResult", "output", "getStreamContents", "fileDescriptors", "shouldLogOutput", "linesIterable", "logLines", "readableObjectMode", "getStreamAsArray", "getStreamAsArrayBuffer", "getStreamAsString", "error", "handleBufferedData", "handleMaxBuffer", "getBufferedData", "streamPromise", "bufferedData", "isArrayBuffer", "import_promises", "waitForStream", "stream", "fdNumber", "streamInfo", "isSameDirection", "stopOnExit", "state", "handleStdinDestroy", "abortController", "error", "handleStreamError", "originalStdin", "subprocess", "spyOnStdinDestroy", "subprocessStdin", "_destroy", "destroyArguments", "setStdinCleanedUp", "exitCode", "signalCode", "shouldIgnoreStreamError", "isStreamEpipe", "isStreamAbort", "isInputFileDescriptor", "fileDescriptors", "waitForStdioStreams", "subprocess", "encoding", "buffer", "maxBuffer", "lines", "stripFinalNewline", "verboseInfo", "streamInfo", "stream", "fdNumber", "waitForSubprocessStream", "allMixed", "onStreamEnd", "waitForStream", "isInputFileDescriptor", "output", "getStreamOutput", "makeAllStream", "stdout", "stderr", "all", "mergeStreams", "waitForAllStream", "subprocess", "encoding", "buffer", "maxBuffer", "lines", "stripFinalNewline", "verboseInfo", "streamInfo", "waitForSubprocessStream", "getAllStream", "getAllMixed", "bufferStdout", "bufferStderr", "import_node_events", "shouldLogIpc", "verboseInfo", "isFullVerbose", "logIpcOutput", "message", "verboseMessage", "serializeVerboseMessage", "verboseLog", "waitForIpcOutput", "subprocess", "bufferArray", "maxBufferArray", "ipc", "ipcOutput", "verboseInfo", "isVerbose", "shouldLogIpc", "buffer", "getFdSpecificValue", "maxBuffer", "message", "loopOnMessages", "checkIpcMaxBuffer", "logIpcOutput", "getBufferedIpcOutput", "ipcOutputPromise", "waitForSubprocessResult", "subprocess", "encoding", "buffer", "maxBuffer", "lines", "timeout", "cancelSignal", "gracefulCancel", "forceKillAfterDelay", "stripFinalNewline", "ipc", "ipcInput", "context", "verboseInfo", "fileDescriptors", "originalStreams", "onInternalError", "controller", "exitPromise", "waitForExit", "streamInfo", "stdioPromises", "waitForStdioStreams", "allPromise", "waitForAllStream", "ipcOutput", "ipcOutputPromise", "waitForIpcOutput", "originalPromises", "waitForOriginalStreams", "customStreamsEndPromises", "waitForCustomStreamsEnd", "waitForSuccessfulExit", "sendIpcInput", "throwOnSubprocessError", "throwOnTimeout", "throwOnCancel", "throwOnGracefulCancel", "error", "stdioPromise", "getBufferedData", "getBufferedIpcOutput", "stream", "fdNumber", "waitForStream", "stdioItems", "value", "isStream", "isStandardStream", "type", "TRANSFORM_TYPES", "signal", "initializeConcurrentStreams", "addConcurrentStream", "concurrentStreams", "stream", "waitName", "weakMap", "promises", "promise", "createDeferred", "waitForConcurrentStreams", "resolve", "subprocess", "isSubprocessExit", "import_node_stream", "import_node_util", "import_promises", "safeWaitForSubprocessStdin", "subprocessStdin", "waitForSubprocessStdin", "safeWaitForSubprocessStdout", "subprocessStdout", "waitForSubprocessStdout", "waitForSubprocess", "subprocess", "error", "destroyOtherStream", "stream", "isOpen", "isStreamAbort", "createReadable", "subprocess", "concurrentStreams", "encoding", "from", "binaryOption", "preserveNewlines", "binary", "BINARY_ENCODINGS", "subprocessStdout", "waitReadableDestroy", "getSubprocessStdout", "readableEncoding", "readableObjectMode", "readableHighWaterMark", "getReadableOptions", "read", "onStdoutDataDone", "getReadableMethods", "readable", "onReadableDestroy", "onStdoutFinished", "getFromStream", "addConcurrentStream", "DEFAULT_OBJECT_HIGH_WATER_MARK", "createDeferred", "onStdoutData", "iterateOnSubprocessStream", "onRead", "value", "done", "subprocessStdin", "waitForSubprocessStdout", "safeWaitForSubprocessStdin", "error", "destroyOtherReadable", "waitForConcurrentStreams", "waitForSubprocess", "stream", "destroyOtherStream", "import_node_stream", "import_node_util", "createWritable", "subprocess", "concurrentStreams", "to", "subprocessStdin", "waitWritableFinal", "waitWritableDestroy", "getSubprocessStdin", "writable", "getWritableMethods", "onWritableDestroy", "onStdinFinished", "getToStream", "addConcurrentStream", "onWrite", "onWritableFinal", "chunk", "encoding", "done", "waitForConcurrentStreams", "subprocessStdout", "waitForSubprocessStdin", "error", "safeWaitForSubprocessStdout", "destroyOtherWritable", "waitForSubprocess", "stream", "destroyOtherStream", "import_node_stream", "import_node_util", "createDuplex", "subprocess", "concurrentStreams", "encoding", "from", "to", "binaryOption", "preserveNewlines", "binary", "BINARY_ENCODINGS", "subprocessStdout", "waitReadableDestroy", "getSubprocessStdout", "subprocessStdin", "waitWritableFinal", "waitWritableDestroy", "getSubprocessStdin", "readableEncoding", "readableObjectMode", "readableHighWaterMark", "getReadableOptions", "read", "onStdoutDataDone", "getReadableMethods", "duplex", "getWritableMethods", "onDuplexDestroy", "onStdoutFinished", "onStdinFinished", "error", "onReadableDestroy", "onWritableDestroy", "createIterable", "subprocess", "encoding", "from", "binaryOption", "preserveNewlines", "binary", "BINARY_ENCODINGS", "subprocessStdout", "getFromStream", "onStdoutData", "iterateOnSubprocessStream", "iterateOnStdoutData", "addConvertedStreams", "subprocess", "encoding", "concurrentStreams", "initializeConcurrentStreams", "createReadable", "createWritable", "createDuplex", "createIterable", "mergePromise", "subprocess", "promise", "property", "descriptor", "descriptors", "value", "nativePromisePrototype", "execaCoreAsync", "rawFile", "rawArguments", "rawOptions", "createNested", "file", "commandArguments", "command", "escapedCommand", "startTime", "verboseInfo", "options", "fileDescriptors", "handleAsyncArguments", "subprocess", "promise", "spawnSubprocessAsync", "pipeToSubprocess", "mergePromise", "SUBPROCESS_OPTIONS", "handleCommand", "normalizedOptions", "normalizeOptions", "handleAsyncOptions", "handleStdioAsync", "timeout", "signal", "concatenateShell", "error", "handleEarlyError", "controller", "originalStreams", "pipeOutputAsync", "cleanupOnExit", "context", "onInternalError", "createDeferred", "subprocessKill", "makeAllStream", "addConvertedStreams", "addIpcMethods", "handlePromise", "errorInfo", "exitCode", "stdioResults", "allResult", "ipcOutput", "waitForSubprocessResult", "stdio", "stdioResult", "fdNumber", "stripNewline", "all", "result", "getAsyncResult", "handleResult", "makeError", "MaxBufferError", "makeSuccessResult", "mergeOptions", "boundOptions", "options", "newOptions", "optionName", "optionValue", "mergeOption", "boundOptionValue", "DEEP_OPTIONS", "isPlainObject", "FD_SPECIFIC_OPTIONS", "createExeca", "mapArguments", "boundOptions", "deepOptions", "setBoundExeca", "createNested", "boundExeca", "execaArguments", "callBoundExeca", "firstArgument", "nextArguments", "isPlainObject", "mergeOptions", "file", "commandArguments", "options", "isSync", "parseArguments", "execaCoreSync", "execaCoreAsync", "callArguments", "isTemplateString", "parseTemplates", "initialFile", "initialArguments", "initialOptions", "normalizeParameters", "mergedOptions", "mapCommandAsync", "file", "commandArguments", "parseCommand", "mapCommandSync", "command", "unusedArguments", "parseCommandString", "trimmedCommand", "tokens", "token", "SPACES_REGEXP", "previousToken", "setScriptSync", "boundExeca", "createNested", "boundOptions", "mapScriptSync", "mapScriptAsync", "options", "getScriptOptions", "getScriptStdinOption", "input", "inputFile", "stdio", "deepScriptOptions", "execa", "createExeca", "execaSync", "execaCommand", "mapCommandAsync", "execaCommandSync", "mapCommandSync", "execaNode", "mapNode", "$", "mapScriptAsync", "deepScriptOptions", "setScriptSync", "sendMessage", "getOneMessage", "getEachMessage", "getCancelSignal", "getIpcExport", "import_api", "import_validator", "import_fs", "import_child_process", "isWindows", "isMac", "sanitizeWindowsPath", "path", "downloadPath", "homebrewPath", "autoLoadUrlFromClipboard", "autoLoadUrlFromSelectedText", "enableBrowserExtensionSupport", "forceIpv4", "ytdlPathPreference", "ffmpegPathPreference", "ffprobePathPreference", "getWingetPath", "getytdlPath", "cleanedYtdlPath", "getffmpegPath", "cleanedFfmpegPath", "getffprobePath", "cleanedFfprobePath", "parseHHMM", "input", "parts", "minutes", "seconds", "hours", "isValidHHMM", "isValidUrl", "url", "validator", "formatTbr", "tbr", "formatFilesize", "filesize", "filesizeApprox", "size", "hasCodec", "vcodec", "acodec", "getFormats", "video", "videoKey", "audioOnlyKey", "videoWithAudio", "audioOnly", "format", "hasAcodec", "hasVcodec", "getFormatValue", "audio", "targetExt", "getFormatTitle", "x", "sanitizeVideoTitle", "name", "invalidChars", "isWindows", "safe", "char", "cutoffSymbols", "match", "m", "idx", "import_react", "import_api", "import_jsx_runtime", "macOSInstallGuide", "executable", "windowsInstallGuide", "Installer", "onRefresh", "AutoInstall", "isMac", "isLoading", "setIsLoading", "installationToast", "execa", "homebrewPath", "error", "isCommonError", "isENOENT", "ExecaError", "isWindows", "wingetPath", "getWingetPath", "isExecaError", "import_react", "import_api", "import_jsx_runtime", "homebrewPath", "Updater", "pop", "versions", "setVersions", "isMac", "outdated", "setOutdated", "upgradingMessage", "setUpgradingMessage", "allUpToDate", "version", "toast", "getVersions", "getOutdated", "error", "errorMessage", "cli", "x", "upgrade", "infoOutput", "execa", "info", "name", "isWindows", "wingetPath", "getWingetPath", "ytdlpVersion", "ytdlpOutput", "parseWingetVersion", "output", "lines", "line", "versionMatch", "outdatedOutput", "current_version", "upgradeOutput", "outdatedVersions", "import_jsx_runtime", "downloadPath", "autoLoadUrlFromClipboard", "autoLoadUrlFromSelectedText", "enableBrowserExtensionSupport", "forceIpv4", "DownloadVideo", "error", "setError", "warning", "setWarning", "ytdlPath", "getytdlPath", "ffmpegPath", "getffmpegPath", "ffprobePath", "getffprobePath", "handleSubmit", "values", "itemProps", "setValue", "setValidationError", "$79498421851e7e84$export$87c0cf8eb5a167e0", "options", "path", "video", "downloadFormat", "recodeFormat", "toast", "process", "filePath", "data", "line", "progress", "currentProgress", "isMac", "value", "isValidUrl", "isValidHHMM", "parseHHMM", "isLoading", "$cefc05764ce5eacd$export$dd6b79aaabe7bc37", "url", "result", "execa", "x", "sanitizeVideoTitle", "clipboardText", "selectedText", "tabUrl", "tab", "missingExecutable", "fs", "formats", "getFormats", "Installer", "Updater", "category", "format", "getFormatValue", "getFormatTitle"]
}
